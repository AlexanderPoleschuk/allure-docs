<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.4">
<title>Allure Framework</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
body{-webkit-font-smoothing:antialiased}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
body{tab-size:4}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Allure Framework</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_about">1. About</a>
<ul class="sectlevel2">
<li><a href="#_copyright">1.1. Copyright</a></li>
<li><a href="#_get_help">1.2. Get Help</a></li>
<li><a href="#_how_to_proceed">1.3. How to Proceed</a></li>
</ul>
</li>
<li><a href="#_get_started">2. Get Started</a>
<ul class="sectlevel2">
<li><a href="#_installing_a_commandline">2.1. Installing a commandline</a></li>
<li><a href="#_test_execution">2.2. Test execution</a></li>
<li><a href="#_report_generation">2.3. Report generation</a></li>
</ul>
</li>
<li><a href="#_report_structure">3. Report structure</a>
<ul class="sectlevel2">
<li><a href="#_overview_page">3.1. Overview page</a></li>
<li><a href="#_categories">3.2. Categories</a></li>
<li><a href="#_suites">3.3. Suites</a></li>
<li><a href="#_graphs">3.4. Graphs</a></li>
<li><a href="#_timeline">3.5. Timeline</a></li>
<li><a href="#_behaviors">3.6. Behaviors</a></li>
<li><a href="#_packages">3.7. Packages</a></li>
<li><a href="#_test_case_page">3.8. Test case page</a></li>
</ul>
</li>
<li><a href="#_features">4. Features</a>
<ul class="sectlevel2">
<li><a href="#_flaky_tests">4.1. Flaky tests</a></li>
<li><a href="#_environment">4.2. Environment</a></li>
<li><a href="#_categories_2">4.3. Categories</a></li>
</ul>
</li>
<li><a href="#_java">5. Java</a>
<ul class="sectlevel2">
<li><a href="#_junit_4">5.1. jUnit 4</a></li>
<li><a href="#_junit_5">5.2. jUnit 5</a></li>
<li><a href="#_testng">5.3. TestNG</a></li>
<li><a href="#_cucumber_jvm">5.4. Cucumber JVM</a></li>
<li><a href="#_selenide">5.5. Selenide</a></li>
</ul>
</li>
<li><a href="#_python">6. Python</a>
<ul class="sectlevel2">
<li><a href="#_pytest">6.1. Pytest</a></li>
<li><a href="#_behave">6.2. Behave</a></li>
<li><a href="#_nose">6.3. Nose</a></li>
</ul>
</li>
<li><a href="#_javascript">7. JavaScript</a>
<ul class="sectlevel2">
<li><a href="#_jasmine">7.1. Jasmine</a></li>
<li><a href="#_cucumber_js">7.2. Cucumber JS</a></li>
<li><a href="#_karma">7.3. Karma</a></li>
<li><a href="#_mocha">7.4. Mocha</a></li>
</ul>
</li>
<li><a href="#_ruby">8. Ruby</a>
<ul class="sectlevel2">
<li><a href="#_cucumber">8.1. Cucumber</a></li>
<li><a href="#_rspec">8.2. RSpec</a></li>
</ul>
</li>
<li><a href="#_groovy">9. Groovy</a>
<ul class="sectlevel2">
<li><a href="#_spock">9.1. Spock</a></li>
</ul>
</li>
<li><a href="#_php">10. PHP</a>
<ul class="sectlevel2">
<li><a href="#_phpunit">10.1. PHPUnit</a></li>
<li><a href="#_allurecodeception">10.2. ALLURECodeception</a></li>
</ul>
</li>
<li><a href="#__net">11. .Net</a>
<ul class="sectlevel2">
<li><a href="#_mstest">11.1. MSTest</a></li>
<li><a href="#_nunit">11.2. NUnit</a></li>
</ul>
</li>
<li><a href="#_scala">12. Scala</a>
<ul class="sectlevel2">
<li><a href="#_scalatest">12.1. ScalaTest</a></li>
<li><a href="#_specs">12.2. Specs</a></li>
</ul>
</li>
<li><a href="#_reporting">13. Reporting</a>
<ul class="sectlevel2">
<li><a href="#_commandline">13.1. Commandline</a></li>
<li><a href="#_jenkins">13.2. Jenkins</a></li>
<li><a href="#_teamcity">13.3. TeamCity</a></li>
<li><a href="#_bamboo">13.4. Bamboo</a></li>
<li><a href="#_gradle_5">13.5. Gradle</a></li>
<li><a href="#_maven_6">13.6. Maven</a></li>
</ul>
</li>
<li><a href="#_allure_plugins_system">14. Allure Plugins System</a>
<ul class="sectlevel2">
<li><a href="#_java_plugin_api_overview">14.1. Java Plugin API overview</a></li>
<li><a href="#_js_plugin_api_overview">14.2. JS Plugin API overview</a></li>
<li><a href="#_writing_a_skeleton_code_for_a_new_plugin">14.3. Writing a skeleton code for a new plugin.</a></li>
<li><a href="#_existing_plugins">14.4. Existing plugins</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Allure Framework is a flexible lightweight multi-language test report tool that not only shows a very concise
representation of what have been tested in a neat web report form, but allows everyone participating in the development
process to extract maximum of useful information from everyday execution of tests.</p>
</div>
<div class="paragraph">
<p>From the dev/qa perspective Allure
reports shorten common defect lifecycle: test failures can be divided on bugs and broken tests, also logs, steps,
fixtures, attachments, timings, history and integrations with TMS and bug-tracking systems can be configured, so the responsible
developers and testers will have all information at hand.</p>
</div>
<div class="paragraph">
<p>From the managers perspective Allure provides a clear
'big picture' of what features have been covered, where defects are clustered, how the timeline of execution looks like
and many other convenient things. Modularity and extensibility of Allure guarantees that you will always be able to
fine-tune something to make Allure suit you better.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_about"><a class="anchor" href="#_about"></a>1. About</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_copyright"><a class="anchor" href="#_copyright"></a>1.1. Copyright</h3>
<div class="paragraph">
<p>The Allure reference guide is available as HTML documents. The latest copy is available at
<a href="https://docs.qameta.io/allure/latest" class="bare">https://docs.qameta.io/allure/latest</a></p>
</div>
<div class="paragraph">
<p>Copies of this document may be made for your own use and for distribution to others, provided that you do not charge
any fee for such copies and further provided that each copy contains this Copyright Notice, whether distributed
in print or electronically.</p>
</div>
</div>
<div class="sect2">
<h3 id="_get_help"><a class="anchor" href="#_get_help"></a>1.2. Get Help</h3>
<div class="paragraph">
<p>There are several places to get help:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Contact the community on <a href="https://gitter.im/allure-framework/allure-core">Gitter</a>.
We also have a <a href="https://gitter.im/allure-framework/allure-ru">Russian-speaking room</a>.</p>
</li>
<li>
<p>Ask a question on <a href="https://stackoverflow.com/questions/ask?tags=allure">Stack Overflow</a> or <a href="https://ru.stackoverflow.com/questions/ask?tags=allure">Stack Overflow in Russian</a>.</p>
</li>
<li>
<p>Report bugs in <a href="https://github.com/allure-framework/allure2/issues/new?">GitHub issues</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_proceed"><a class="anchor" href="#_how_to_proceed"></a>1.3. How to Proceed</h3>
<div class="ulist">
<ul>
<li>
<p>Open the <a href="http://demo.qameta.io/allure/latest/">demo version</a> to see
what an Allure report looks like.</p>
</li>
<li>
<p>Go to <a href="https://docs.qameta.io/allure/latest/#_get_started">Get started</a> to build a report for an existing project.</p>
</li>
<li>
<p>Learn more about
<a href="https://docs.qameta.io/allure/latest/#_report_structure">report structure and features</a>.</p>
</li>
<li>
<p>Integrate your favorite testing framework with Allure.
Supported frameworks are grouped by language: <a href="#_java">Java</a>, <a href="#_python">Python</a>,
<a href="#_javascript">JavaScript</a>, <a href="#_ruby">Ruby</a>, <a href="#_groovy">Groovy</a>, <a href="#_php">PHP</a>, <a href="#__net">.Net</a>, and <a href="#_scala">Scala</a>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_get_started"><a class="anchor" href="#_get_started"></a>2. Get Started</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To generate your first report you will need to go through just a few simple steps:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Downloading and installing Allure commandline application suitable for your environment.</p>
</li>
<li>
<p>Locating test execution data that you have to build a report on.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_installing_a_commandline"><a class="anchor" href="#_installing_a_commandline"></a>2.1. Installing a commandline</h3>
<div class="paragraph">
<p>Several options for Allure installation are currently supported:</p>
</div>
<div class="sect3">
<h4 id="_linux"><a class="anchor" href="#_linux"></a>2.1.1. Linux</h4>
<div class="paragraph">
<p>For debian-based repositories a PPA is provided:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">sudo apt-add-repository ppa:qameta/allure
sudo apt-get update 
sudo apt-get install allure</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mac_os_x"><a class="anchor" href="#_mac_os_x"></a>2.1.2. Mac OS X</h4>
<div class="paragraph">
<p>For Mas OS, automated installation is available via <a href="https://brew.sh">Homebrew</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">brew install allure</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_windows"><a class="anchor" href="#_windows"></a>2.1.3. Windows</h4>
<div class="paragraph">
<p>For Windows, Allure is available from the <a href="http://scoop.sh/">Scoop</a> commandline-installer.</p>
</div>
<div class="paragraph">
<p>To install Allure, download and install Scoop and then execute in the Powershell:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="powershell">scoop install allure</code></pre>
</div>
</div>
<div class="paragraph">
<p>Also Scoop is capable of updating Allure distribution installations. To do so navigate to the Scoop installation
directory and execute</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="powershell">\bin\checkver.ps1 allure -u</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will check for newer versions of Allure, and update the manifest file. Then execute</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="powershell">scoop update allure</code></pre>
</div>
</div>
<div class="paragraph">
<p>to install a newer version. (<a href="https://github.com/lukesampson/scoop/wiki/App-Manifest-Autoupdate">documentation</a>)</p>
</div>
</div>
<div class="sect3">
<h4 id="_manual_installation"><a class="anchor" href="#_manual_installation"></a>2.1.4. Manual installation</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download the latest version as zip archive from <a href="https://bintray.com/qameta/generic/allure2">bintray</a>.</p>
</li>
<li>
<p>Unpack the archive to allure-commandline directory.</p>
</li>
<li>
<p>Navigate to <strong>bin</strong> directory.</p>
</li>
<li>
<p>Use <strong>allure.bat</strong> for Windows or <strong>allure</strong> for other Unix platforms.</p>
</li>
<li>
<p>Add <strong>allure</strong> to system PATH.</p>
</li>
</ol>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>To run commandline application, Java Runtime Environment must be installed.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_check_the_installation"><a class="anchor" href="#_check_the_installation"></a>2.1.5. Check the installation</h4>
<div class="paragraph">
<p>Execute <code>allure --version</code> in console to make sure that allure is now available:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ allure --version
2.0.1</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_test_execution"><a class="anchor" href="#_test_execution"></a>2.2. Test execution</h3>
<div class="paragraph">
<p>Before building a report you need to run your tests to obtain some basic test report data.
Typically it might be a junit-style xml report generated by nearly every popular test framework.
For example, suppose you have test reports automatically created by surefire maven plugin
stored in the <code>target/surefire-reports</code>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/get_started_surefire-report.png" alt="Surefire report folder">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_report_generation"><a class="anchor" href="#_report_generation"></a>2.3. Report generation</h3>
<div class="paragraph">
<p>This is already enough to see the Allure report in one command:</p>
</div>
<div class="paragraph">
<p><code>allure serve /home/path/to/project/target/surefire-reports/</code></p>
</div>
<div class="paragraph">
<p>Which generates a report in temporary folder from the data found in the provided path
and then creates a local Jetty server instance, serves generated report and opens it in the default browser.
It is possible to use a <strong>--profile</strong> option to enable some pre-configured allure setting. <strong>junit</strong> profile is enabled
by default, you will learn more about profiles in the following <a href="#_commandline">section</a>.</p>
</div>
<div class="paragraph">
<p>This would produce a report with a minimum of information extracted from the xml data that will lack nearly all
 of the advanced allure features but will allow you to get a nice visual representation of executed tests.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/get_started_report_overview.png" alt="Report generated on xml data">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_report_structure"><a class="anchor" href="#_report_structure"></a>3. Report structure</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once you&#8217;ve got the idea what the report does look like. You will probably want to get more data-rich reports.
You might have to consider using one of the Allure adaptors for your testing framework, which will allow to collect
much more information. Jump to the integrations section to learn more about integration with testing frameworks.</p>
</div>
<div class="paragraph">
<p>Typical report consists of 'Overview' tab, navigation bar, several tabs for different kinds of
test data representation and test case pages for each individual test.
Each Allure report is backed by a tree-like data structure, that represents a test execution process. Different tabs
allow to switch between the views of the original data structure thus giving a different perspective.
Note that all tree-like representations including Behaviors, Categories, xUnit and Packages support filtering and
are sortable.</p>
</div>
<div class="sect2">
<h3 id="_overview_page"><a class="anchor" href="#_overview_page"></a>3.1. Overview page</h3>
<div class="paragraph">
<p>Entry point for every report would be the 'Overview' page with dashboards and widgets:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/tab_overview.png" alt="Overview">
</div>
</div>
<div class="paragraph">
<p>Overview page hosts several default widgets representing basic characteristics of your project and test environment.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Statistics - overall report statistics.</p>
</li>
<li>
<p>Launches - if this report represents several test launches, statistics per launch will be shown here.</p>
</li>
<li>
<p>Behaviors - information on results aggregated according to stories and features.</p>
</li>
<li>
<p>Executors - information on test executors that were used to run the tests.</p>
</li>
<li>
<p>History Trend - if tests accumulated some historical data, it&#8217;s trend will be calculated and shown on the graph.</p>
</li>
<li>
<p>Environment - information on test environment (see <a href="#_environment">how to define environment</a>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Home page widgets are draggable and configurable. Also, Allure supports it&#8217;s own plugin system, so quite different
 widget layouts are possible.</p>
</div>
<div class="paragraph">
<p>Navigation bar is collapsible and enables you to switch into several of the basic results overview modes.</p>
</div>
</div>
<div class="sect2">
<h3 id="_categories"><a class="anchor" href="#_categories"></a>3.2. Categories</h3>
<div class="paragraph">
<p>Categories tab gives you the way to <a href="#_categories_2">create custom defects classification</a> to apply for test results.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/tab_categories.png" alt="Categories">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_suites"><a class="anchor" href="#_suites"></a>3.3. Suites</h3>
<div class="paragraph">
<p>On the Suites tab a standard structural representation of executed tests, grouped by suites and classes can be found.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/tab_suites.png" alt="Suites">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_graphs"><a class="anchor" href="#_graphs"></a>3.4. Graphs</h3>
<div class="paragraph">
<p>Graphs allow you to see different statistics collected from the test data: statuses breakdown or
severity and duration diagrams.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/tab_graphs.png" alt="Graphs">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_timeline"><a class="anchor" href="#_timeline"></a>3.5. Timeline</h3>
<div class="paragraph">
<p>Timeline tab visualizes retrospective of tests execution, allure adaptors collect precise timings of tests,
and here on this tab they are arranged accordingly to their sequential or parallel timing structure.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/tab_timeline.png" alt="Timeline">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_behaviors"><a class="anchor" href="#_behaviors"></a>3.6. Behaviors</h3>
<div class="paragraph">
<p>For Behavior-driven approach, this tab groups test results according to Epic, Feature and Story tags.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/tab_behaviors.png" alt="Behaviors">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_packages"><a class="anchor" href="#_packages"></a>3.7. Packages</h3>
<div class="paragraph">
<p>Packages tab represents a tree-like layout of test results, grouped by different packages.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/tab_packages.png" alt="Packages">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_test_case_page"><a class="anchor" href="#_test_case_page"></a>3.8. Test case page</h3>
<div class="paragraph">
<p>From some of the results overview pages described above you can go to the test case page after clicking on the
individual tests. This page will typically contain a lot of individual data related to the test case: steps
executed during the test, timings, attachments, test categorization labels, descriptions and links.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/testcase.png" alt="Test result page">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_features"><a class="anchor" href="#_features"></a>4. Features</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes the main features of Allure.
For example, you can group your tests by stories or features, attach files, and distribute assertions over a
set of custom steps, among other features. All features are supported by Java test frameworks, so we only provide
Java examples here. For details on how a particular adapter works with the test framework of your choice,
refer to the adapter guide.</p>
</div>
<div class="sect2">
<h3 id="_flaky_tests"><a class="anchor" href="#_flaky_tests"></a>4.1. Flaky tests</h3>
<div class="paragraph">
<p>In real life not all of your tests are stable and always green or always red.  A test might start to "blink" i.e. it fails from time-to-time without any obvious reason.
You could disable such a test, that is a trivial solution. However what if you do not want to do that?
Say you would like to get more details on possible reasons or the test is so critical that even being flaky it provides helpful information?
You have an option now to mark such tests in a special way, so the resulting report will clearly show them as unstable:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Flaky</span>
<span class="directive">public</span> <span class="type">void</span> aTestWhichFailsFromTimeToTime {
     ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here is what you get in the report if such a test failed:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/flaky_failed.png" alt="A failed test marked as flaky">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
you can mark a whole test class as flaky as well.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_environment"><a class="anchor" href="#_environment"></a>4.2. Environment</h3>
<div class="paragraph">
<p>To add information to Environment widget just create <code>environment.properties</code> (or <code>environment.xml</code>) file to <code>allure-results</code> directory before report generation.</p>
</div>
<div class="listingblock">
<div class="title">environment.properties</div>
<div class="content">
<pre>Browser=Chrome
Browser.Version=63.0
Stand=Production</pre>
</div>
</div>
<div class="listingblock">
<div class="title">environment.xml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;environment&gt;</span>
    <span class="tag">&lt;parameter&gt;</span>
        <span class="tag">&lt;key&gt;</span>Browser<span class="tag">&lt;/key&gt;</span>
        <span class="tag">&lt;value&gt;</span>Chrome<span class="tag">&lt;/value&gt;</span>
    <span class="tag">&lt;/parameter&gt;</span>
    <span class="tag">&lt;parameter&gt;</span>
        <span class="tag">&lt;key&gt;</span>Browser.Version<span class="tag">&lt;/key&gt;</span>
        <span class="tag">&lt;value&gt;</span>63.0<span class="tag">&lt;/value&gt;</span>
    <span class="tag">&lt;/parameter&gt;</span>
    <span class="tag">&lt;parameter&gt;</span>
        <span class="tag">&lt;key&gt;</span>Stand<span class="tag">&lt;/key&gt;</span>
        <span class="tag">&lt;value&gt;</span>Production<span class="tag">&lt;/value&gt;</span>
    <span class="tag">&lt;/parameter&gt;</span>
<span class="tag">&lt;/environment&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_categories_2"><a class="anchor" href="#_categories_2"></a>4.3. Categories</h3>
<div class="paragraph">
<p>There are two categories of defects by default:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Product defects (failed tests)</p>
</li>
<li>
<p>Test defects (broken tests)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To create custom defects classification add <code>categories.json</code> file to <code>allure-results</code> directory before report generation.</p>
</div>
<div class="listingblock">
<div class="title">categories.json</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">[
  {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Ignored tests</span><span class="delimiter">&quot;</span></span>, <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="key"><span class="delimiter">&quot;</span><span class="content">matchedStatuses</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">skipped</span><span class="delimiter">&quot;</span></span>] <i class="conum" data-value="2"></i><b>(2)</b>
  },
  {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Infrastructure problems</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">matchedStatuses</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">broken</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">failed</span><span class="delimiter">&quot;</span></span>]
    <span class="key"><span class="delimiter">&quot;</span><span class="content">messageRegex</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">.*bye-bye.*</span><span class="delimiter">&quot;</span></span>, <i class="conum" data-value="3"></i><b>(3)</b>
  },
  {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Outdated tests</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">matchedStatuses</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">broken</span><span class="delimiter">&quot;</span></span>]
    <span class="key"><span class="delimiter">&quot;</span><span class="content">traceRegex</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">.*FileNotFoundException.*</span><span class="delimiter">&quot;</span></span>, <i class="conum" data-value="4"></i><b>(4)</b>
  },
  {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Product defects</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">matchedStatuses</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">failed</span><span class="delimiter">&quot;</span></span>]
  },
  {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Test defects</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">matchedStatuses</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">broken</span><span class="delimiter">&quot;</span></span>]
  }
]</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>(mandatory) category name</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>(optional) list of suitable test statuses. Default <code>["failed", "broken", "passed", "skipped", "unknown"]</code></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>(optional) regex pattern to check test error message. Default <code>".*"</code></td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>(optional) regex pattern to check stack trace. Default <code>".*"</code></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Test result falls into the category if its status is in the list and both error message and stack trace match the pattern.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>categories.json</code> file can be stored in test resources directory in case of using <a href="#_maven_5">allure-maven</a> or <a href="#_gradle_4">allure-gradle</a> plugins.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_java"><a class="anchor" href="#_java"></a>5. Java</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_junit_4"><a class="anchor" href="#_junit_4"></a>5.1. jUnit 4</h3>
<div class="sect3">
<h4 id="_installation"><a class="anchor" href="#_installation"></a>5.1.1. Installation</h4>
<div class="paragraph">
<p>The latest available version of <code>allure-junit4</code>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://img.shields.io/maven-central/v/io.qameta.allure/allure-junit4.svg" alt="Allure JUnit4">
</div>
</div>
<div class="sect4">
<h5 id="_maven"><a class="anchor" href="#_maven"></a>Maven</h5>
<div class="paragraph">
<p>Add the following to your <strong>pom.xml</strong>:</p>
</div>
<div class="listingblock">
<div class="title">pom.xml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
</pre></td>
  <td class="code"><pre><span class="tag">&lt;properties&gt;</span>
    <span class="tag">&lt;aspectj.version&gt;</span>1.8.10<span class="tag">&lt;/aspectj.version&gt;</span>
<span class="tag">&lt;/properties&gt;</span>

<span class="tag">&lt;dependencies&gt;</span>
    <span class="tag">&lt;dependency&gt;</span>
        <span class="tag">&lt;groupId&gt;</span>io.qameta.allure<span class="tag">&lt;/groupId&gt;</span>
        <span class="tag">&lt;artifactId&gt;</span>allure-junit4<span class="tag">&lt;/artifactId&gt;</span>
        <span class="tag">&lt;version&gt;</span>LATEST_VERSION<span class="tag">&lt;/version&gt;</span>
        <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
    <span class="tag">&lt;/dependency&gt;</span>
<span class="tag">&lt;/dependencies&gt;</span>

<span class="tag">&lt;build&gt;</span>
    <span class="tag">&lt;plugins&gt;</span>
        <span class="tag">&lt;plugin&gt;</span>
            <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
            <span class="tag">&lt;artifactId&gt;</span>maven-surefire-plugin<span class="tag">&lt;/artifactId&gt;</span>
            <span class="tag">&lt;version&gt;</span>2.20<span class="tag">&lt;/version&gt;</span>
            <span class="tag">&lt;configuration&gt;</span>
                <span class="tag">&lt;testFailureIgnore&gt;</span>false<span class="tag">&lt;/testFailureIgnore&gt;</span>
                <span class="tag">&lt;argLine&gt;</span>
                    -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;
                <span class="tag">&lt;/argLine&gt;</span>
                <span class="tag">&lt;properties&gt;</span>
                    <span class="tag">&lt;property&gt;</span>
                        <span class="tag">&lt;name&gt;</span>listener<span class="tag">&lt;/name&gt;</span>
                        <span class="tag">&lt;value&gt;</span>io.qameta.allure.junit4.AllureJunit4<span class="tag">&lt;/value&gt;</span>
                    <span class="tag">&lt;/property&gt;</span>
                <span class="tag">&lt;/properties&gt;</span>
            <span class="tag">&lt;/configuration&gt;</span>
            <span class="tag">&lt;dependencies&gt;</span>
                <span class="tag">&lt;dependency&gt;</span>
                    <span class="tag">&lt;groupId&gt;</span>org.aspectj<span class="tag">&lt;/groupId&gt;</span>
                    <span class="tag">&lt;artifactId&gt;</span>aspectjweaver<span class="tag">&lt;/artifactId&gt;</span>
                    <span class="tag">&lt;version&gt;</span>${aspectj.version}<span class="tag">&lt;/version&gt;</span>
                <span class="tag">&lt;/dependency&gt;</span>
            <span class="tag">&lt;/dependencies&gt;</span>
        <span class="tag">&lt;/plugin&gt;</span>
    <span class="tag">&lt;/plugins&gt;</span>
<span class="tag">&lt;/build&gt;</span>
...</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Then run the build as usual:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ mvn clean test</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_gradle"><a class="anchor" href="#_gradle"></a>Gradle</h5>
<div class="paragraph">
<p>For Gradle users, the <code>allure-gradle</code> plugin is available. The plugin autoconfigures all of the required dependencies:</p>
</div>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td>
  <td class="code"><pre>buildscript {
    repositories {
        jcenter()
    }
    dependencies {
        classpath <span class="string"><span class="delimiter">&quot;</span><span class="content">io.qameta.allure:allure-gradle:2.3</span><span class="delimiter">&quot;</span></span>
    }
}

plugins {
    id <span class="string"><span class="delimiter">'</span><span class="content">io.qameta.allure</span><span class="delimiter">'</span></span>
}

allure {
    version = <span class="string"><span class="delimiter">'</span><span class="content">2.2.1</span><span class="delimiter">'</span></span>
    autoconfigure = <span class="predefined-constant">true</span>
    aspectjweaver = <span class="predefined-constant">true</span>
    allureJavaVersion = LATEST_VERSION
}
</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Then run the build as usual:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ ./gradlew clean test</code></pre>
</div>
</div>
<div class="paragraph">
<p>Allure results will appear in <strong>build/allure-results</strong> folder. To generate html report and automatically open it in a web browser, run the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ ./gradlew allureServe build/allure-results</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_features_2"><a class="anchor" href="#_features_2"></a>5.1.2. Features</h4>
<div class="paragraph">
<p>Java annotations and traits are available to use the main Allure features.</p>
</div>
<div class="sect4">
<h5 id="_displayname"><a class="anchor" href="#_displayname"></a>DisplayName</h5>
<div class="paragraph">
<p>In order to add a human-readable name to any test method, annotate it with <strong>@DisplayName</strong> annotation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td>
  <td class="code"><pre><span class="keyword">package</span> <span class="namespace">my.company.tests</span>;

<span class="keyword">import</span> <span class="include">org.junit.Test</span>;
<span class="keyword">import</span> <span class="include">io.qameta.allure.junit4.DisplayName</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">MyTests</span> {

    <span class="annotation">@Test</span>
    <span class="annotation">@DisplayName</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Human-readable test name</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">public</span> <span class="type">void</span> testSomething() <span class="directive">throws</span> <span class="exception">Exception</span> {
        <span class="comment">//...</span>
    }

}</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_description"><a class="anchor" href="#_description"></a>Description</h5>
<div class="paragraph">
<p>Similarly you can add detailed description for each test method. To add such description use <strong>@Description</strong> annotation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td>
  <td class="code"><pre><span class="keyword">package</span> <span class="namespace">my.company.tests</span>;

<span class="keyword">import</span> <span class="include">org.junit.Test</span>;
<span class="keyword">import</span> <span class="include">io.qameta.allure.Description</span>;

<span class="annotation">@Test</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">MyTests</span> {

    <span class="annotation">@Test</span>
    <span class="annotation">@Description</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Some detailed test description</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">public</span> <span class="type">void</span> testSomething() <span class="directive">throws</span> <span class="exception">Exception</span> {
        ...
    }

}</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_steps"><a class="anchor" href="#_steps"></a>Steps</h5>
<div class="paragraph">
<p>Steps are any actions that constitute a testing scenario. Steps can be used in different testing scenarios.
They can: be parametrized, make checks, have nested steps, and create attachments. Each step has a name.</p>
</div>
<div class="paragraph">
<p>In order to define steps in Java code, you need to annotate the respective methods with <strong>@Step</strong> annotation.
When not specified, the step name is equal to the annotated method name converted to human-readable format.</p>
</div>
<div class="paragraph">
<p>Note that steps' mechanics was revised and now it supports smart fields' analysis.
In Allure 1 users had to specify indexes to refer which args' values they want to inject into step.
Allure 2 uses reflection-based approach, which provides deep fields' extraction by their names.</p>
</div>
<div class="paragraph">
<p>Assuming that you have the following entity:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
</pre></td>
  <td class="code"><pre><span class="directive">public</span> <span class="type">class</span> <span class="class">User</span> {

     <span class="directive">private</span> <span class="predefined-type">String</span> name;
     <span class="directive">private</span> <span class="predefined-type">String</span> password;
     ...
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>You can access these fields' values directly by name:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
</pre></td>
  <td class="code"><pre><span class="keyword">import</span> <span class="include">io.qameta.allure.Step</span>;

...

<span class="annotation">@Step</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Type {user.name} / {user.password}.</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">void</span> loginWith(User user) {
     ...
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Arrays</strong> and <strong>Collections</strong> are supported as well.
So you don&#8217;t need to explicitly override <strong>toString()</strong> for your custom objects anymore.</p>
</div>
</div>
<div class="sect4">
<h5 id="_attachments"><a class="anchor" href="#_attachments"></a>Attachments</h5>
<div class="paragraph">
<p>An attachment in Java code is simply a method annotated with <strong>@Attachment</strong> that returns either
a <strong>String</strong> or <strong>byte[]</strong>, which should be added to the report:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td>
  <td class="code"><pre><span class="keyword">import</span> <span class="include">io.qameta.allure.Attachment</span>;

...

<span class="annotation">@Attachment</span>
<span class="directive">public</span> <span class="predefined-type">String</span> performedActions(ActionSequence actionSequence) {
    <span class="keyword">return</span> actionSequence.toString();
}

<span class="annotation">@Attachment</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="content">Page screenshot</span><span class="delimiter">&quot;</span></span>, type = <span class="string"><span class="delimiter">&quot;</span><span class="content">image/png</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">byte</span><span class="type">[]</span> saveScreenshot(<span class="type">byte</span><span class="type">[]</span> screenShot) {
    <span class="keyword">return</span> screenShot;
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Or you can use Allure helper methods</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
</pre></td>
  <td class="code"><pre><span class="keyword">import</span> <span class="include">io.qameta.allure.Allure</span>;

...

Allure.addAttachment(<span class="string"><span class="delimiter">&quot;</span><span class="content">My attachment</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">My attachment content</span><span class="delimiter">&quot;</span></span>);

Path content = Paths.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">path-to-my-attachment-contnet</span><span class="delimiter">&quot;</span></span>);
<span class="keyword">try</span> (<span class="predefined-type">InputStream</span> is = Files.newInputStream(content)) {
    Allure.addAttachemnt(<span class="string"><span class="delimiter">&quot;</span><span class="content">My attachment</span><span class="delimiter">&quot;</span></span>, is);
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If return type in a method annotated with <strong>@Attachment</strong> differs from <strong>String</strong> or <strong>byte[]</strong> we call <strong>toString()</strong>
on return value to get attachment contents.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can specify exact MIME type for each attached file using <strong>type</strong> parameter of <strong>@Attachment</strong> annotation
like shown above. However there&#8217;s no need to explicitly specify attachment type for all attached files as Allure
by default analyses attachment contents and can determine attachment type automatically. You usually need to
specify attachment type when working with plain text files.</p>
</div>
</div>
<div class="sect4">
<h5 id="_links"><a class="anchor" href="#_links"></a>Links</h5>
<div class="paragraph">
<p>ou can link your tests to some resources such as TMS (test management system) or bug tracker.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td>
  <td class="code"><pre><span class="keyword">import</span> <span class="include">io.qameta.allure.Link</span>;
<span class="keyword">import</span> <span class="include">io.qameta.allure.Issue</span>;
<span class="keyword">import</span> <span class="include">io.qameta.allure.TmsLink</span>;

<span class="annotation">@Link</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">https://example.org</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Link</span>(name = <span class="string"><span class="delimiter">&quot;</span><span class="content">allure</span><span class="delimiter">&quot;</span></span>, type = <span class="string"><span class="delimiter">&quot;</span><span class="content">mylink</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">void</span> testSomething() {
     ...
}

<span class="annotation">@Issue</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">123</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Issue</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">432</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">void</span> testSomething() {
     ...
}

<span class="annotation">@TmsLink</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">test-1</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@TmsLink</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">test-2</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">void</span> testSomething() {
     ...
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>In order to specify the link pattern you can use the system property in the following format:
<code>allure.link.my-link-type.pattern=https://example.org/custom/{}/path</code>. Allure will replace <code>{}</code> placeholders with
value specified in annotation. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="linenums">allure.link.mylink.pattern=https://example.org/mylink/{}
allure.link.issue.pattern=https://example.org/issue/{}
allure.link.tms.pattern=https://example.org/tms/{}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_severity"><a class="anchor" href="#_severity"></a>Severity</h5>
<div class="paragraph">
<p><strong>@Severity</strong> annotation is used in order to prioritize test methods by severity:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td>
  <td class="code"><pre><span class="keyword">package</span> <span class="namespace">org.example.tests</span>;

<span class="keyword">import</span> <span class="include">org.junit.Test</span>;
<span class="keyword">import</span> <span class="include">io.qameta.allure.Severity</span>;
<span class="keyword">import</span> <span class="include">io.qameta.allure.SeverityLevel</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">MyTest</span> {

    <span class="annotation">@Test</span>
    <span class="annotation">@Severity</span>(SeverityLevel.CRITICAL)
    <span class="directive">public</span> <span class="type">void</span> testSomething() <span class="directive">throws</span> <span class="exception">Exception</span> {
        <span class="comment">// ...</span>
    }

}</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_behaviours_mapping"><a class="anchor" href="#_behaviours_mapping"></a>Behaviours Mapping</h5>
<div class="paragraph">
<p>In some development approaches tests are classified by Features and Stories. To add such mapping you
can use <code>Epic</code>, <code>Feature</code> and <code>Stories</code> annotations:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td>
  <td class="code"><pre><span class="keyword">package</span> <span class="namespace">org.example.tests</span>;

<span class="keyword">import</span> <span class="include">org.junit.Test</span>;
<span class="keyword">import</span> <span class="include">io.qameta.allure.Epic</span>;
<span class="keyword">import</span> <span class="include">io.qameta.allure.Feature</span>;
<span class="keyword">import</span> <span class="include">io.qameta.allure.Story</span>;

<span class="annotation">@Epic</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Allure examples</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Feature</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Junit 4 support</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">MyTest</span> {

    <span class="annotation">@Test</span>
    <span class="annotation">@Story</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Base support for bdd annotations</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@Story</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Advanced support for bdd annotations</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">public</span> <span class="type">void</span> testSomething() <span class="directive">throws</span> <span class="exception">Exception</span> {
        <span class="comment">// ...</span>
    }

}</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_junit_5"><a class="anchor" href="#_junit_5"></a>5.2. jUnit 5</h3>
<div class="sect3">
<h4 id="_installation_2"><a class="anchor" href="#_installation_2"></a>5.2.1. Installation</h4>
<div class="paragraph">
<p>The latest available version of <code>allure-junit5</code>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://img.shields.io/maven-central/v/io.qameta.allure/allure-junit5.svg" alt="Allure JUnit5">
</div>
</div>
<div class="sect4">
<h5 id="_maven_2"><a class="anchor" href="#_maven_2"></a>Maven</h5>
<div class="paragraph">
<p>Add the following to your <strong>pom.xml</strong>:</p>
</div>
<div class="listingblock">
<div class="title">pom.xml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
</pre></td>
  <td class="code"><pre>
<span class="tag">&lt;properties&gt;</span>
    <span class="tag">&lt;aspectj.version&gt;</span>1.8.10<span class="tag">&lt;/aspectj.version&gt;</span>
<span class="tag">&lt;/properties&gt;</span>

<span class="tag">&lt;dependencies&gt;</span>
        <span class="tag">&lt;dependency&gt;</span>
            <span class="tag">&lt;groupId&gt;</span>io.qameta.allure<span class="tag">&lt;/groupId&gt;</span>
            <span class="tag">&lt;artifactId&gt;</span>allure-junit5<span class="tag">&lt;/artifactId&gt;</span>
            <span class="tag">&lt;version&gt;</span>LATEST_VERSION<span class="tag">&lt;/version&gt;</span>
            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
        <span class="tag">&lt;/dependency&gt;</span>
<span class="tag">&lt;/dependencies&gt;</span>

<span class="tag">&lt;build&gt;</span>
    <span class="tag">&lt;plugins&gt;</span>
        <span class="tag">&lt;plugin&gt;</span>
                <span class="tag">&lt;artifactId&gt;</span>maven-surefire-plugin<span class="tag">&lt;/artifactId&gt;</span>
                <span class="tag">&lt;version&gt;</span>2.20<span class="tag">&lt;/version&gt;</span>
                <span class="tag">&lt;configuration&gt;</span>
                <span class="tag">&lt;testFailureIgnore&gt;</span>false<span class="tag">&lt;/testFailureIgnore&gt;</span>
                        <span class="tag">&lt;argLine&gt;</span>
                            -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;
                        <span class="tag">&lt;/argLine&gt;</span>
                    <span class="tag">&lt;systemProperties&gt;</span>
                        <span class="tag">&lt;property&gt;</span>
                            <span class="tag">&lt;name&gt;</span>junit.jupiter.extensions.autodetection.enabled<span class="tag">&lt;/name&gt;</span>
                            <span class="tag">&lt;value&gt;</span>true<span class="tag">&lt;/value&gt;</span>
                        <span class="tag">&lt;/property&gt;</span>
                    <span class="tag">&lt;/systemProperties&gt;</span>
                <span class="tag">&lt;/configuration&gt;</span>
                <span class="tag">&lt;dependencies&gt;</span>
                    <span class="tag">&lt;dependency&gt;</span>
                        <span class="tag">&lt;groupId&gt;</span>org.aspectj<span class="tag">&lt;/groupId&gt;</span>
                        <span class="tag">&lt;artifactId&gt;</span>aspectjweaver<span class="tag">&lt;/artifactId&gt;</span>
                        <span class="tag">&lt;version&gt;</span>${aspectj.version}<span class="tag">&lt;/version&gt;</span>
                    <span class="tag">&lt;dependency&gt;</span>
                <span class="tag">&lt;/dependencies&gt;</span>
            <span class="tag">&lt;/plugin&gt;</span>
            <span class="tag">&lt;plugin&gt;</span>
                <span class="tag">&lt;groupId&gt;</span>io.qameta.allure<span class="tag">&lt;/groupId&gt;</span>
                <span class="tag">&lt;artifactId&gt;</span>allure-maven<span class="tag">&lt;/artifactId&gt;</span>
                <span class="tag">&lt;version&gt;</span>LATEST_VERSION<span class="tag">&lt;/version&gt;</span>
                <span class="tag">&lt;configuration&gt;</span>
                    <span class="tag">&lt;reportVersion&gt;</span>2.4.1<span class="tag">&lt;/reportVersion&gt;</span>
                <span class="tag">&lt;/configuration&gt;</span>
            <span class="tag">&lt;/plugin&gt;</span>
    <span class="tag">&lt;/plugins&gt;</span>
<span class="tag">&lt;/build&gt;</span>
...</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Then run the build as usual:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ mvn clean test</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_gradle_2"><a class="anchor" href="#_gradle_2"></a>Gradle</h5>
<div class="paragraph">
<p>For Gradle users, the <code>allure-gradle</code> plugin is available. The plugin autoconfigures all of the required dependencies:</p>
</div>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
</pre></td>
  <td class="code"><pre>buildscript {
    repositories {
        jcenter()
        mavenCentral()
    }
    dependencies {
        classpath <span class="string"><span class="delimiter">'</span><span class="content">org.junit.platform:junit-platform-gradle-plugin:1.0.2</span><span class="delimiter">'</span></span>
        classpath <span class="string"><span class="delimiter">'</span><span class="content">io.qameta.allure:allure-gradle:2.4</span><span class="delimiter">'</span></span>
    }
}

apply <span class="key">plugin</span>: <span class="string"><span class="delimiter">'</span><span class="content">java</span><span class="delimiter">'</span></span>
apply <span class="key">plugin</span>: <span class="string"><span class="delimiter">'</span><span class="content">base</span><span class="delimiter">'</span></span>
apply <span class="key">plugin</span>: <span class="string"><span class="delimiter">'</span><span class="content">org.junit.platform.gradle.plugin</span><span class="delimiter">'</span></span>
apply <span class="key">plugin</span>: <span class="string"><span class="delimiter">'</span><span class="content">io.qameta.allure</span><span class="delimiter">'</span></span>

sourceCompatibility = <span class="float">1.8</span>

repositories {
    jcenter()
    mavenCentral()
}

dependencies {
    compile <span class="string"><span class="delimiter">'</span><span class="content">io.qameta.allure:allure-gradle:2.4</span><span class="delimiter">'</span></span>
    testCompile <span class="string"><span class="delimiter">'</span><span class="content">org.junit.jupiter:junit-jupiter-api:5.0.1</span><span class="delimiter">'</span></span>
    testCompile <span class="string"><span class="delimiter">'</span><span class="content">io.qameta.allure:allure-gradle:2.4</span><span class="delimiter">'</span></span>
    testRuntime <span class="string"><span class="delimiter">'</span><span class="content">org.junit.jupiter:junit-jupiter-engine:5.0.1</span><span class="delimiter">'</span></span>
}

allure {
    version = <span class="string"><span class="delimiter">'</span><span class="content">2.4.1</span><span class="delimiter">'</span></span>
    autoconfigure = <span class="predefined-constant">true</span>
    aspectjweaver = <span class="predefined-constant">true</span>
    aspectjVersion = <span class="string"><span class="delimiter">'</span><span class="content">1.8.10</span><span class="delimiter">'</span></span>

    useJUnit5 {
       version = <span class="string"><span class="delimiter">'</span><span class="content">2.0-BETA21</span><span class="delimiter">'</span></span>
    }
}
</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Then run the build as usual:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ ./gradlew clean test</code></pre>
</div>
</div>
<div class="paragraph">
<p>Allure results will appear in <strong>allure-results</strong> folder under the project root. To generate html report and automatically open it in a web browser, run the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ ./gradlew allureServe</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_features_3"><a class="anchor" href="#_features_3"></a>5.2.2. Features</h4>
<div class="paragraph">
<p>Java annotations and traits are available to use the main Allure features.</p>
</div>
<div class="sect4">
<h5 id="_displayname_2"><a class="anchor" href="#_displayname_2"></a>DisplayName</h5>
<div class="paragraph">
<p><strong>@DisplayName</strong> annotation has been removed.</p>
</div>
</div>
<div class="sect4">
<h5 id="_description_2"><a class="anchor" href="#_description_2"></a>Description</h5>
<div class="paragraph">
<p>Similarly you can add detailed description for each test method. To add such description use <strong>@Description</strong> annotation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td>
  <td class="code"><pre><span class="keyword">package</span> <span class="namespace">my.company.tests</span>;

<span class="keyword">import</span> <span class="include">org.junit.Test</span>;
<span class="keyword">import</span> <span class="include">io.qameta.allure.Description</span>;

<span class="annotation">@Test</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">MyTests</span> {

    <span class="annotation">@Test</span>
    <span class="annotation">@Description</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Some detailed test description</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">public</span> <span class="type">void</span> testSomething() <span class="directive">throws</span> <span class="exception">Exception</span> {
        ...
    }

}</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_steps_2"><a class="anchor" href="#_steps_2"></a>Steps</h5>
<div class="paragraph">
<p>Steps are any actions that constitute a testing scenario. Steps can be used in different testing scenarios.
They can: be parametrized, make checks, have nested steps, and create attachments. Each step has a name.</p>
</div>
<div class="paragraph">
<p>In order to define steps in Java code, you need to annotate the respective methods with <strong>@Step</strong> annotation.
When not specified, the step name is equal to the annotated method name converted to human-readable format.</p>
</div>
<div class="paragraph">
<p>Note that steps' mechanics was revised and now it supports smart fields' analysis.
In Allure 1 users had to specify indexes to refer which args' values they want to inject into step.
Allure 2 uses reflection-based approach, which provides deep fields' extraction by their names.</p>
</div>
<div class="paragraph">
<p>Assuming that you have the following entity:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
</pre></td>
  <td class="code"><pre><span class="directive">public</span> <span class="type">class</span> <span class="class">User</span> {

     <span class="directive">private</span> <span class="predefined-type">String</span> name;
     <span class="directive">private</span> <span class="predefined-type">String</span> password;
     ...
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>You can access these fields' values directly by name:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
</pre></td>
  <td class="code"><pre><span class="keyword">import</span> <span class="include">io.qameta.allure.Step</span>;

...

<span class="annotation">@Step</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Type {user.name} / {user.password}.</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">void</span> loginWith(User user) {
     ...
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Arrays</strong> and <strong>Collections</strong> are supported as well.
So you don&#8217;t need to explicitly override <strong>toString()</strong> for your custom objects anymore.</p>
</div>
</div>
<div class="sect4">
<h5 id="_attachments_2"><a class="anchor" href="#_attachments_2"></a>Attachments</h5>
<div class="paragraph">
<p>An attachment in Java code is simply a method annotated with <strong>@Attachment</strong> that returns either
a <strong>String</strong> or <strong>byte[]</strong>, which should be added to the report:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td>
  <td class="code"><pre><span class="keyword">import</span> <span class="include">io.qameta.allure.Attachment</span>;

...

<span class="annotation">@Attachment</span>
<span class="directive">public</span> <span class="predefined-type">String</span> performedActions(ActionSequence actionSequence) {
    <span class="keyword">return</span> actionSequence.toString();
}

<span class="annotation">@Attachment</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="content">Page screenshot</span><span class="delimiter">&quot;</span></span>, type = <span class="string"><span class="delimiter">&quot;</span><span class="content">image/png</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">byte</span><span class="type">[]</span> saveScreenshot(<span class="type">byte</span><span class="type">[]</span> screenShot) {
    <span class="keyword">return</span> screenShot;
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Or you can use Allure helper methods</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
</pre></td>
  <td class="code"><pre><span class="keyword">import</span> <span class="include">io.qameta.allure.Allure</span>;

...

Allure.addAttachment(<span class="string"><span class="delimiter">&quot;</span><span class="content">My attachment</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">My attachment content</span><span class="delimiter">&quot;</span></span>);

Path content = Paths.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">path-to-my-attachment-contnet</span><span class="delimiter">&quot;</span></span>);
<span class="keyword">try</span> (<span class="predefined-type">InputStream</span> is = Files.newInputStream(content)) {
    Allure.addAttachemnt(<span class="string"><span class="delimiter">&quot;</span><span class="content">My attachment</span><span class="delimiter">&quot;</span></span>, is);
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If return type in a method annotated with <strong>@Attachment</strong> differs from <strong>String</strong> or <strong>byte[]</strong> we call <strong>toString()</strong>
on return value to get attachment contents.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can specify exact MIME type for each attached file using <strong>type</strong> parameter of <strong>@Attachment</strong> annotation
like shown above. However there&#8217;s no need to explicitly specify attachment type for all attached files as Allure
by default analyses attachment contents and can determine attachment type automatically. You usually need to
specify attachment type when working with plain text files.</p>
</div>
</div>
<div class="sect4">
<h5 id="_links_2"><a class="anchor" href="#_links_2"></a>Links</h5>
<div class="paragraph">
<p>ou can link your tests to some resources such as TMS (test management system) or bug tracker.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td>
  <td class="code"><pre><span class="keyword">import</span> <span class="include">io.qameta.allure.Link</span>;
<span class="keyword">import</span> <span class="include">io.qameta.allure.Issue</span>;
<span class="keyword">import</span> <span class="include">io.qameta.allure.TmsLink</span>;

<span class="annotation">@Link</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">https://example.org</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Link</span>(name = <span class="string"><span class="delimiter">&quot;</span><span class="content">allure</span><span class="delimiter">&quot;</span></span>, type = <span class="string"><span class="delimiter">&quot;</span><span class="content">mylink</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">void</span> testSomething() {
     ...
}

<span class="annotation">@Issue</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">123</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Issue</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">432</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">void</span> testSomething() {
     ...
}

<span class="annotation">@TmsLink</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">test-1</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@TmsLink</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">test-2</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">void</span> testSomething() {
     ...
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>In order to specify the link pattern you can use the system property in the following format:
<code>allure.link.my-link-type.pattern=https://example.org/custom/{}/path</code>. Allure will replace <code>{}</code> placeholders with
value specified in annotation. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="linenums">allure.link.mylink.pattern=https://example.org/mylink/{}
allure.link.issue.pattern=https://example.org/issue/{}
allure.link.tms.pattern=https://example.org/tms/{}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_severity_2"><a class="anchor" href="#_severity_2"></a>Severity</h5>
<div class="paragraph">
<p><strong>@Severity</strong> annotation is used in order to prioritize test methods by severity:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td>
  <td class="code"><pre><span class="keyword">package</span> <span class="namespace">org.example.tests</span>;

<span class="keyword">import</span> <span class="include">org.junit.Test</span>;
<span class="keyword">import</span> <span class="include">io.qameta.allure.Severity</span>;
<span class="keyword">import</span> <span class="include">io.qameta.allure.SeverityLevel</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">MyTest</span> {

    <span class="annotation">@Test</span>
    <span class="annotation">@Severity</span>(SeverityLevel.CRITICAL)
    <span class="directive">public</span> <span class="type">void</span> testSomething() <span class="directive">throws</span> <span class="exception">Exception</span> {
        <span class="comment">// ...</span>
    }

}</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_behaviours_mapping_2"><a class="anchor" href="#_behaviours_mapping_2"></a>Behaviours Mapping</h5>
<div class="paragraph">
<p>In some development approaches tests are classified by Features and Stories. To add such mapping you
can use <code>Epic</code>, <code>Feature</code> and <code>Stories</code> annotations:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td>
  <td class="code"><pre><span class="keyword">package</span> <span class="namespace">org.example.tests</span>;

<span class="keyword">import</span> <span class="include">org.junit.Test</span>;
<span class="keyword">import</span> <span class="include">io.qameta.allure.Epic</span>;
<span class="keyword">import</span> <span class="include">io.qameta.allure.Feature</span>;
<span class="keyword">import</span> <span class="include">io.qameta.allure.Story</span>;

<span class="annotation">@Epic</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Allure examples</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Feature</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Junit 4 support</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">MyTest</span> {

    <span class="annotation">@Test</span>
    <span class="annotation">@Story</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Base support for bdd annotations</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@Story</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Advanced support for bdd annotations</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">public</span> <span class="type">void</span> testSomething() <span class="directive">throws</span> <span class="exception">Exception</span> {
        <span class="comment">// ...</span>
    }

}</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_testng"><a class="anchor" href="#_testng"></a>5.3. TestNG</h3>
<div class="sect3">
<h4 id="_installation_3"><a class="anchor" href="#_installation_3"></a>5.3.1. Installation</h4>
<div class="paragraph">
<p>The available latest version of <code>allure-testng</code>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://img.shields.io/maven-central/v/io.qameta.allure/allure-testng.svg" alt="Allure TestNG">
</div>
</div>
<div class="sect4">
<h5 id="_maven_3"><a class="anchor" href="#_maven_3"></a>Maven</h5>
<div class="paragraph">
<p>You need to add the following to your <strong>pom.xml</strong>:</p>
</div>
<div class="listingblock">
<div class="title">pom.xml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
</pre></td>
  <td class="code"><pre><span class="tag">&lt;properties&gt;</span>
    <span class="tag">&lt;aspectj.version&gt;</span>1.8.10<span class="tag">&lt;/aspectj.version&gt;</span>
<span class="tag">&lt;/properties&gt;</span>

<span class="tag">&lt;dependencies&gt;</span>
    <span class="tag">&lt;dependency&gt;</span>
        <span class="tag">&lt;groupId&gt;</span>io.qameta.allure<span class="tag">&lt;/groupId&gt;</span>
        <span class="tag">&lt;artifactId&gt;</span>allure-testng<span class="tag">&lt;/artifactId&gt;</span>
        <span class="tag">&lt;version&gt;</span>LAST_VERSION<span class="tag">&lt;/version&gt;</span>
        <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
    <span class="tag">&lt;/dependency&gt;</span>
<span class="tag">&lt;/dependencies&gt;</span>

<span class="tag">&lt;build&gt;</span>
    <span class="tag">&lt;plugins&gt;</span>
        <span class="tag">&lt;plugin&gt;</span>
            <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
            <span class="tag">&lt;artifactId&gt;</span>maven-surefire-plugin<span class="tag">&lt;/artifactId&gt;</span>
            <span class="tag">&lt;version&gt;</span>2.20<span class="tag">&lt;/version&gt;</span>
            <span class="tag">&lt;configuration&gt;</span>
                <span class="tag">&lt;argLine&gt;</span>
                    -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;
                <span class="tag">&lt;/argLine&gt;</span>
            <span class="tag">&lt;/configuration&gt;</span>
            <span class="tag">&lt;dependencies&gt;</span>
                <span class="tag">&lt;dependency&gt;</span>
                    <span class="tag">&lt;groupId&gt;</span>org.aspectj<span class="tag">&lt;/groupId&gt;</span>
                    <span class="tag">&lt;artifactId&gt;</span>aspectjweaver<span class="tag">&lt;/artifactId&gt;</span>
                    <span class="tag">&lt;version&gt;</span>${aspectj.version}<span class="tag">&lt;/version&gt;</span>
                <span class="tag">&lt;/dependency&gt;</span>
            <span class="tag">&lt;/dependencies&gt;</span>
        <span class="tag">&lt;/plugin&gt;</span>
    <span class="tag">&lt;/plugins&gt;</span>
<span class="tag">&lt;/build&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Then run the build as usual:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ mvn clean test</code></pre>
</div>
</div>
<div class="paragraph">
<p>Allure results will appear in <strong>target/allure-results</strong> folder. To generate html report and automatically open it in a web browser, run the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ allure serve target/allure-results</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_gradle_3"><a class="anchor" href="#_gradle_3"></a>Gradle</h5>
<div class="paragraph">
<p>For Gradle users, the <code>allure-gradle</code> plugin is available. The plugin autoconfigures all of the required dependencies:</p>
</div>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td>
  <td class="code"><pre>buildscript {
    repositories {
        jcenter()
    }
    dependencies {
        classpath <span class="string"><span class="delimiter">&quot;</span><span class="content">io.qameta.allure:allure-gradle:2.3</span><span class="delimiter">&quot;</span></span>
    }
}

plugins {
    id <span class="string"><span class="delimiter">'</span><span class="content">io.qameta.allure</span><span class="delimiter">'</span></span>
}

allure {
    version = <span class="string"><span class="delimiter">'</span><span class="content">2.2.1</span><span class="delimiter">'</span></span>
    autoconfigure = <span class="predefined-constant">true</span>
    aspectjweaver = <span class="predefined-constant">true</span>
    allureJavaVersion = LATEST_VERSION
}
</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Then run the build as usual:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ ./gradlew clean test</code></pre>
</div>
</div>
<div class="paragraph">
<p>Allure results will appear in <strong>build/allure-results</strong> folder. To generate html report and automatically open it in a web browser, run the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ ./gradlew allureServe build/allure-results</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_features_4"><a class="anchor" href="#_features_4"></a>5.3.2. Features</h4>
<div class="paragraph">
<p>This adapter comes with a set of Java annotations and traits allowing to use main Allure features.</p>
</div>
<div class="sect4">
<h5 id="_displayname_3"><a class="anchor" href="#_displayname_3"></a>DisplayName</h5>
<div class="paragraph">
<p>In order to add human-readable name to any test method you need to use <code>description</code> property of <code>@Test</code> annotation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td>
  <td class="code"><pre><span class="keyword">package</span> <span class="namespace">my.company.tests</span>;

<span class="keyword">import</span> <span class="include">org.testng.annotations.Test</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">MyTests</span> {

    <span class="annotation">@BeforeMethod</span>(description = <span class="string"><span class="delimiter">&quot;</span><span class="content">Configure something before test</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">public</span> <span class="type">void</span> setUp() {
        <span class="comment">//...</span>
    }

    <span class="annotation">@Test</span>(description = <span class="string"><span class="delimiter">&quot;</span><span class="content">Human-readable test name</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">public</span> <span class="type">void</span> testSomething() <span class="directive">throws</span> <span class="exception">Exception</span> {
        <span class="comment">//...</span>
    }

}</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_description_3"><a class="anchor" href="#_description_3"></a>Description</h5>
<div class="paragraph">
<p>Similarly you can add detailed description for each test method. To add such description use <strong>@Description</strong> annotation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td>
  <td class="code"><pre><span class="keyword">package</span> <span class="namespace">my.company.tests</span>;

<span class="keyword">import</span> <span class="include">org.junit.Test</span>;
<span class="keyword">import</span> <span class="include">io.qameta.allure.Description</span>;

<span class="annotation">@Test</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">MyTests</span> {

    <span class="annotation">@Test</span>
    <span class="annotation">@Description</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Some detailed test description</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">public</span> <span class="type">void</span> testSomething() <span class="directive">throws</span> <span class="exception">Exception</span> {
        ...
    }

}</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_steps_3"><a class="anchor" href="#_steps_3"></a>Steps</h5>
<div class="paragraph">
<p>Steps are any actions that constitute a testing scenario. Steps can be used in different testing scenarios.
They can: be parametrized, make checks, have nested steps, and create attachments. Each step has a name.</p>
</div>
<div class="paragraph">
<p>In order to define steps in Java code, you need to annotate the respective methods with <strong>@Step</strong> annotation.
When not specified, the step name is equal to the annotated method name converted to human-readable format.</p>
</div>
<div class="paragraph">
<p>Note that steps' mechanics was revised and now it supports smart fields' analysis.
In Allure 1 users had to specify indexes to refer which args' values they want to inject into step.
Allure 2 uses reflection-based approach, which provides deep fields' extraction by their names.</p>
</div>
<div class="paragraph">
<p>Assuming that you have the following entity:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
</pre></td>
  <td class="code"><pre><span class="directive">public</span> <span class="type">class</span> <span class="class">User</span> {

     <span class="directive">private</span> <span class="predefined-type">String</span> name;
     <span class="directive">private</span> <span class="predefined-type">String</span> password;
     ...
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>You can access these fields' values directly by name:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
</pre></td>
  <td class="code"><pre><span class="keyword">import</span> <span class="include">io.qameta.allure.Step</span>;

...

<span class="annotation">@Step</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Type {user.name} / {user.password}.</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">void</span> loginWith(User user) {
     ...
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Arrays</strong> and <strong>Collections</strong> are supported as well.
So you don&#8217;t need to explicitly override <strong>toString()</strong> for your custom objects anymore.</p>
</div>
</div>
<div class="sect4">
<h5 id="_attachments_3"><a class="anchor" href="#_attachments_3"></a>Attachments</h5>
<div class="paragraph">
<p>An attachment in Java code is simply a method annotated with <strong>@Attachment</strong> that returns either
a <strong>String</strong> or <strong>byte[]</strong>, which should be added to the report:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td>
  <td class="code"><pre><span class="keyword">import</span> <span class="include">io.qameta.allure.Attachment</span>;

...

<span class="annotation">@Attachment</span>
<span class="directive">public</span> <span class="predefined-type">String</span> performedActions(ActionSequence actionSequence) {
    <span class="keyword">return</span> actionSequence.toString();
}

<span class="annotation">@Attachment</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="content">Page screenshot</span><span class="delimiter">&quot;</span></span>, type = <span class="string"><span class="delimiter">&quot;</span><span class="content">image/png</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">byte</span><span class="type">[]</span> saveScreenshot(<span class="type">byte</span><span class="type">[]</span> screenShot) {
    <span class="keyword">return</span> screenShot;
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Or you can use Allure helper methods</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
</pre></td>
  <td class="code"><pre><span class="keyword">import</span> <span class="include">io.qameta.allure.Allure</span>;

...

Allure.addAttachment(<span class="string"><span class="delimiter">&quot;</span><span class="content">My attachment</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">My attachment content</span><span class="delimiter">&quot;</span></span>);

Path content = Paths.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">path-to-my-attachment-contnet</span><span class="delimiter">&quot;</span></span>);
<span class="keyword">try</span> (<span class="predefined-type">InputStream</span> is = Files.newInputStream(content)) {
    Allure.addAttachemnt(<span class="string"><span class="delimiter">&quot;</span><span class="content">My attachment</span><span class="delimiter">&quot;</span></span>, is);
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If return type in a method annotated with <strong>@Attachment</strong> differs from <strong>String</strong> or <strong>byte[]</strong> we call <strong>toString()</strong>
on return value to get attachment contents.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can specify exact MIME type for each attached file using <strong>type</strong> parameter of <strong>@Attachment</strong> annotation
like shown above. However there&#8217;s no need to explicitly specify attachment type for all attached files as Allure
by default analyses attachment contents and can determine attachment type automatically. You usually need to
specify attachment type when working with plain text files.</p>
</div>
</div>
<div class="sect4">
<h5 id="_links_3"><a class="anchor" href="#_links_3"></a>Links</h5>
<div class="paragraph">
<p>ou can link your tests to some resources such as TMS (test management system) or bug tracker.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td>
  <td class="code"><pre><span class="keyword">import</span> <span class="include">io.qameta.allure.Link</span>;
<span class="keyword">import</span> <span class="include">io.qameta.allure.Issue</span>;
<span class="keyword">import</span> <span class="include">io.qameta.allure.TmsLink</span>;

<span class="annotation">@Link</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">https://example.org</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Link</span>(name = <span class="string"><span class="delimiter">&quot;</span><span class="content">allure</span><span class="delimiter">&quot;</span></span>, type = <span class="string"><span class="delimiter">&quot;</span><span class="content">mylink</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">void</span> testSomething() {
     ...
}

<span class="annotation">@Issue</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">123</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Issue</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">432</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">void</span> testSomething() {
     ...
}

<span class="annotation">@TmsLink</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">test-1</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@TmsLink</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">test-2</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">void</span> testSomething() {
     ...
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>In order to specify the link pattern you can use the system property in the following format:
<code>allure.link.my-link-type.pattern=https://example.org/custom/{}/path</code>. Allure will replace <code>{}</code> placeholders with
value specified in annotation. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="linenums">allure.link.mylink.pattern=https://example.org/mylink/{}
allure.link.issue.pattern=https://example.org/issue/{}
allure.link.tms.pattern=https://example.org/tms/{}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_severity_3"><a class="anchor" href="#_severity_3"></a>Severity</h5>
<div class="paragraph">
<p><strong>@Severity</strong> annotation is used in order to prioritize test methods by severity:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td>
  <td class="code"><pre><span class="keyword">package</span> <span class="namespace">org.example.tests</span>;

<span class="keyword">import</span> <span class="include">org.junit.Test</span>;
<span class="keyword">import</span> <span class="include">io.qameta.allure.Severity</span>;
<span class="keyword">import</span> <span class="include">io.qameta.allure.SeverityLevel</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">MyTest</span> {

    <span class="annotation">@Test</span>
    <span class="annotation">@Severity</span>(SeverityLevel.CRITICAL)
    <span class="directive">public</span> <span class="type">void</span> testSomething() <span class="directive">throws</span> <span class="exception">Exception</span> {
        <span class="comment">// ...</span>
    }

}</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_behaviours_mapping_3"><a class="anchor" href="#_behaviours_mapping_3"></a>Behaviours Mapping</h5>
<div class="paragraph">
<p>In some development approaches tests are classified by Features and Stories. To add such mapping you
can use <code>Epic</code>, <code>Feature</code> and <code>Stories</code> annotations:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td>
  <td class="code"><pre><span class="keyword">package</span> <span class="namespace">org.example.tests</span>;

<span class="keyword">import</span> <span class="include">org.junit.Test</span>;
<span class="keyword">import</span> <span class="include">io.qameta.allure.Epic</span>;
<span class="keyword">import</span> <span class="include">io.qameta.allure.Feature</span>;
<span class="keyword">import</span> <span class="include">io.qameta.allure.Story</span>;

<span class="annotation">@Epic</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Allure examples</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Feature</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Junit 4 support</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">MyTest</span> {

    <span class="annotation">@Test</span>
    <span class="annotation">@Story</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Base support for bdd annotations</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@Story</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Advanced support for bdd annotations</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">public</span> <span class="type">void</span> testSomething() <span class="directive">throws</span> <span class="exception">Exception</span> {
        <span class="comment">// ...</span>
    }

}</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_cucumber_jvm"><a class="anchor" href="#_cucumber_jvm"></a>5.4. Cucumber JVM</h3>
<div class="sect3">
<h4 id="_installation_4"><a class="anchor" href="#_installation_4"></a>5.4.1. Installation</h4>
<div class="paragraph">
<p>The available latest version of <code>allure-cucumber-jvm</code>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://img.shields.io/maven-central/v/io.qameta.allure/allure-cucumber-jvm.svg" alt="Allure CucumberJVM">
</div>
</div>
<div class="sect4">
<h5 id="_maven_4"><a class="anchor" href="#_maven_4"></a>Maven</h5>
<div class="paragraph">
<p>Simply add <code>allure-cucumber-jvm</code> plugin as dependency to your project and add it to CucumberOptions:</p>
</div>
<div class="listingblock">
<div class="title">pom.xml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
</pre></td>
  <td class="code"><pre><span class="tag">&lt;properties&gt;</span>
    <span class="tag">&lt;aspectj.version&gt;</span>1.8.10<span class="tag">&lt;/aspectj.version&gt;</span>
<span class="tag">&lt;/properties&gt;</span>

<span class="tag">&lt;dependencies&gt;</span>
    <span class="tag">&lt;dependency&gt;</span>
        <span class="tag">&lt;groupId&gt;</span>io.qameta.allure<span class="tag">&lt;/groupId&gt;</span>
        <span class="tag">&lt;artifactId&gt;</span>allure-cucumber-jvm<span class="tag">&lt;/artifactId&gt;</span>
        <span class="tag">&lt;version&gt;</span>LATEST_VERSION<span class="tag">&lt;/version&gt;</span>
    <span class="tag">&lt;/dependency&gt;</span>
<span class="tag">&lt;/dependencies&gt;</span>

<span class="tag">&lt;build&gt;</span>
    <span class="tag">&lt;plugins&gt;</span>
        <span class="tag">&lt;plugin&gt;</span>
            <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
            <span class="tag">&lt;artifactId&gt;</span>maven-surefire-plugin<span class="tag">&lt;/artifactId&gt;</span>
            <span class="tag">&lt;version&gt;</span>2.20<span class="tag">&lt;/version&gt;</span>
            <span class="tag">&lt;configuration&gt;</span>
                <span class="tag">&lt;argLine&gt;</span>
                    -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;
                    -Dcucumber.options=&quot;--plugin io.qameta.allure.cucumberjvm.AllureCucumberJvm&quot;
                <span class="tag">&lt;/argLine&gt;</span>
            <span class="tag">&lt;/configuration&gt;</span>
            <span class="tag">&lt;dependencies&gt;</span>
                <span class="tag">&lt;dependency&gt;</span>
                    <span class="tag">&lt;groupId&gt;</span>org.aspectj<span class="tag">&lt;/groupId&gt;</span>
                    <span class="tag">&lt;artifactId&gt;</span>aspectjweaver<span class="tag">&lt;/artifactId&gt;</span>
                    <span class="tag">&lt;version&gt;</span>${aspectj.version}<span class="tag">&lt;/version&gt;</span>
                <span class="tag">&lt;/dependency&gt;</span>
            <span class="tag">&lt;/dependencies&gt;</span>
        <span class="tag">&lt;/plugin&gt;</span>
    <span class="tag">&lt;/plugins&gt;</span>
<span class="tag">&lt;/build&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Then execute <code>mvn clean test</code> goal. After tests executed allure JSON files will be<br>
placed in <code>allure-results</code> directory by default. It can be overridden by setting <code>allure.results.directory</code><br>
system property.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_features_5"><a class="anchor" href="#_features_5"></a>5.4.2. Features</h4>
<div class="paragraph">
<p>This adapter provides runtime integration allowing conversion of Gherkin dsl features into basic Allure features</p>
</div>
<div class="sect4">
<h5 id="_display_name"><a class="anchor" href="#_display_name"></a>Display Name</h5>
<div class="paragraph">
<p>Titles for tests and suites are extracted at runtime from  <code>.feature</code> files</p>
</div>
</div>
<div class="sect4">
<h5 id="_description_4"><a class="anchor" href="#_description_4"></a>Description</h5>
<div class="paragraph">
<p>Feature&#8217;s description appears on every scenario</p>
</div>
</div>
<div class="sect4">
<h5 id="_steps_4"><a class="anchor" href="#_steps_4"></a>Steps</h5>
<div class="paragraph">
<p>All scenario steps are automatically translated into allure steps</p>
</div>
</div>
<div class="sect4">
<h5 id="_attachments_4"><a class="anchor" href="#_attachments_4"></a>Attachments</h5>
<div class="paragraph">
<p>An attachment in Java code is simply a method annotated with <strong>@Attachment</strong> that returns either
a <strong>String</strong> or <strong>byte[]</strong>, which should be added to the report:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td>
  <td class="code"><pre><span class="keyword">import</span> <span class="include">io.qameta.allure.Attachment</span>;

...

<span class="annotation">@Attachment</span>
<span class="directive">public</span> <span class="predefined-type">String</span> performedActions(ActionSequence actionSequence) {
    <span class="keyword">return</span> actionSequence.toString();
}

<span class="annotation">@Attachment</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="content">Page screenshot</span><span class="delimiter">&quot;</span></span>, type = <span class="string"><span class="delimiter">&quot;</span><span class="content">image/png</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">byte</span><span class="type">[]</span> saveScreenshot(<span class="type">byte</span><span class="type">[]</span> screenShot) {
    <span class="keyword">return</span> screenShot;
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Or you can use Allure helper methods</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
</pre></td>
  <td class="code"><pre><span class="keyword">import</span> <span class="include">io.qameta.allure.Allure</span>;

...

Allure.addAttachment(<span class="string"><span class="delimiter">&quot;</span><span class="content">My attachment</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">My attachment content</span><span class="delimiter">&quot;</span></span>);

Path content = Paths.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">path-to-my-attachment-contnet</span><span class="delimiter">&quot;</span></span>);
<span class="keyword">try</span> (<span class="predefined-type">InputStream</span> is = Files.newInputStream(content)) {
    Allure.addAttachemnt(<span class="string"><span class="delimiter">&quot;</span><span class="content">My attachment</span><span class="delimiter">&quot;</span></span>, is);
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If return type in a method annotated with <strong>@Attachment</strong> differs from <strong>String</strong> or <strong>byte[]</strong> we call <strong>toString()</strong>
on return value to get attachment contents.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can specify exact MIME type for each attached file using <strong>type</strong> parameter of <strong>@Attachment</strong> annotation
like shown above. However there&#8217;s no need to explicitly specify attachment type for all attached files as Allure
by default analyses attachment contents and can determine attachment type automatically. You usually need to
specify attachment type when working with plain text files.</p>
</div>
</div>
<div class="sect4">
<h5 id="_links_4"><a class="anchor" href="#_links_4"></a>Links</h5>
<div class="paragraph">
<p>To pass issues to report, just add <code>@issue=&lt;ISSUE-NUMBER&gt;</code> on top of Scenario on Feature in your .feature file.</p>
</div>
<div class="paragraph">
<p>To pass TMS links to report, just add <code>@tmsLink=&lt;TEST-CASE-ID&gt;</code> on top of Scenario on Feature in your .feature file.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
do not forget to configure allure properties with link patterns.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_severity_4"><a class="anchor" href="#_severity_4"></a>Severity</h5>
<div class="paragraph">
<p>To set severity, add <code>@severity=blocker</code> on top of Scenario on Feature in your .feature file.<br>
If severity has wrong value it will be forced to normal (default).</p>
</div>
<div class="paragraph">
<p>Supported severity values: <code>blocker</code>, <code>critical</code>, <code>normal</code>, <code>minor</code>, <code>trivial</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_markers"><a class="anchor" href="#_test_markers"></a>Test markers</h5>
<div class="paragraph">
<p>Every Feature or Scenario can be annotated by following tags: <code>@flaky</code>, <code>@muted</code>, <code>@known</code></p>
</div>
</div>
<div class="sect4">
<h5 id="_test_fixtures"><a class="anchor" href="#_test_fixtures"></a>Test fixtures</h5>
<div class="paragraph">
<p>All methods annotated by <code>@import cucumber.api.java.After</code> or <code>@cucumber.api.java.Before</code> annotations<br>
will appear in the report as steps with method names.<br>
If @Before execution fails, the scenario will be marked as skipped.<br>
If @After execution fails, the scenario will be marked as passed, and only <code>After</code> method&#8217;s step<br>
will be marked as failed.</p>
</div>
</div>
<div class="sect4">
<h5 id="_behaviours_mapping_4"><a class="anchor" href="#_behaviours_mapping_4"></a>Behaviours Mapping</h5>
<div class="paragraph">
<p>Allure Cucumber JVM integration uses information extracted from <code>Feature:</code> section.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_selenide"><a class="anchor" href="#_selenide"></a>5.5. Selenide</h3>
<div class="sect3">
<h4 id="_installation_5"><a class="anchor" href="#_installation_5"></a>5.5.1. Installation</h4>
<div class="paragraph">
<p>The available latest version of <code>allure-selenide</code>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://img.shields.io/maven-central/v/io.qameta.allure/allure-selenide.svg" alt="Allure TestNG">
</div>
</div>
<div class="sect4">
<h5 id="_maven_5"><a class="anchor" href="#_maven_5"></a>Maven</h5>
<div class="paragraph">
<p>You need to add the following to your <strong>pom.xml</strong>:</p>
</div>
<div class="listingblock">
<div class="title">pom.xml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
</pre></td>
  <td class="code"><pre><span class="tag">&lt;dependencies&gt;</span>
    ...
    <span class="tag">&lt;dependency&gt;</span>
        <span class="tag">&lt;groupId&gt;</span>io.qameta.allure<span class="tag">&lt;/groupId&gt;</span>
        <span class="tag">&lt;artifactId&gt;</span>allure-selenide<span class="tag">&lt;/artifactId&gt;</span>
        <span class="tag">&lt;version&gt;</span>LAST_VERSION<span class="tag">&lt;/version&gt;</span>
        <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
    <span class="tag">&lt;/dependency&gt;</span>
    ...
<span class="tag">&lt;/dependencies&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_gradle_4"><a class="anchor" href="#_gradle_4"></a>Gradle</h5>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre>...
compile <span class="key">group</span>: <span class="string"><span class="delimiter">'</span><span class="content">io.qameta.allure</span><span class="delimiter">'</span></span>, <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">allure-selenide</span><span class="delimiter">'</span></span>, <span class="key">version</span>: <span class="string"><span class="delimiter">'</span><span class="content">2.0-BETA22</span><span class="delimiter">'</span></span>
...</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_listener"><a class="anchor" href="#_listener"></a>Listener</h5>
<div class="paragraph">
<p>And add listener to Selenide:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre><span class="keyword">import</span> <span class="include">io.qameta.allure.selenide.AllureSelenide</span>;
...
SelenideLogger.addListener(<span class="string"><span class="delimiter">&quot;</span><span class="content">AllureSelenide</span><span class="delimiter">&quot;</span></span>, <span class="keyword">new</span> AllureSelenide().screenshots(<span class="predefined-constant">true</span>).savePageSource(<span class="predefined-constant">false</span>));</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_python"><a class="anchor" href="#_python"></a>6. Python</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_pytest"><a class="anchor" href="#_pytest"></a>6.1. Pytest</h3>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
This plugin currently supports only Allure 1.4.x series.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_installation_and_usage"><a class="anchor" href="#_installation_and_usage"></a>6.1.1. Installation and Usage</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python">py.test --alluredir [path_to_report_dir]
<span class="comment"># WARNING [path_to_report_dir] will be purged at first run</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This plugin gets automatically connected to <code>py.test</code> via <code>entry point</code> if installed.</p>
</div>
<div class="paragraph">
<p>Connecting to IDE:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python">pytest_plugins = <span class="string"><span class="delimiter">'</span><span class="content">allure.pytest_plugin</span><span class="delimiter">'</span></span>,<span class="error">\</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_features_6"><a class="anchor" href="#_features_6"></a>6.1.2. Features</h4>
<div class="sect4">
<h5 id="_title"><a class="anchor" href="#_title"></a>Title</h5>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Not implemented now
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_description_5"><a class="anchor" href="#_description_5"></a>Description</h5>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Not implemented now
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_steps_5"><a class="anchor" href="#_steps_5"></a>Steps</h5>
<div class="paragraph">
<p>To divide a test into steps:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">import</span> <span class="include">pytest</span>

<span class="keyword">def</span> <span class="function">test_foo</span>():
    <span class="keyword">with</span> pytest.allure.step(<span class="string"><span class="delimiter">'</span><span class="content">step one</span><span class="delimiter">'</span></span>):
        <span class="comment"># do stuff</span>

    <span class="keyword">with</span> pytest.allure.step(<span class="string"><span class="delimiter">'</span><span class="content">step two</span><span class="delimiter">'</span></span>):
        <span class="comment"># do more stuff</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Can also be used as decorators. By default step name is generated from method name:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">import</span> <span class="include">pytest</span>

<span class="decorator">@pytest.allure.step</span>
<span class="keyword">def</span> <span class="function">make_test_data_foo</span>():
    <span class="comment"># do stuff</span>

<span class="keyword">def</span> <span class="function">test_foo</span>():
    <span class="keyword">assert</span> make_some_data_foo() <span class="keyword">is</span> <span class="keyword">not</span> <span class="predefined-constant">None</span>

<span class="decorator">@pytest.allure.step</span>(<span class="string"><span class="delimiter">'</span><span class="content">make_some_data_foo</span><span class="delimiter">'</span></span>)
<span class="keyword">def</span> <span class="function">make_some_data_bar</span>():
    <span class="comment"># do another stuff</span>

<span class="keyword">def</span> <span class="function">test_bar</span>():
    <span class="keyword">assert</span> make_some_data_bar() <span class="keyword">is</span> <span class="keyword">not</span> <span class="predefined-constant">None</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Steps can also be used without pytest. In that case instead of <code>pytest.allure.step</code> simply use <code>allure.step</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">import</span> <span class="include">allure</span>

<span class="decorator">@allure.step</span>(<span class="string"><span class="delimiter">'</span><span class="content">some operation</span><span class="delimiter">'</span></span>)
<span class="keyword">def</span> <span class="function">do_operation</span>():
    <span class="comment"># do stuff</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>allure.step</code> decorator supports step name formatting with function parameters:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">import</span> <span class="include">allure</span>

<span class="decorator">@allure.step</span>(<span class="string"><span class="delimiter">'</span><span class="content">some operation for bar={0}</span><span class="delimiter">'</span></span>)
<span class="keyword">def</span> <span class="function">do_operation</span>(bar):
    <span class="comment"># do stuff</span>

<span class="keyword">def</span> <span class="function">test_foo</span>():
    <span class="keyword">assert</span> do_operation(<span class="string"><span class="delimiter">'</span><span class="content">abcdef</span><span class="delimiter">'</span></span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>The step in the latter case will have name <code>some operation for bar=abcdef</code>.
Formatting is done via python&#8217;s built-in <code>string.format</code> and supports it&#8217;s options.
Arguments are passed to <code>format</code> method in the same way they are passed to the decorated function.</p>
</div>
<div class="paragraph">
<p>Steps support is limited when used with fixtures.</p>
</div>
</div>
<div class="sect4">
<h5 id="_attachments_5"><a class="anchor" href="#_attachments_5"></a>Attachments</h5>
<div class="paragraph">
<p>To attach some content to test report:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">import</span> <span class="include">allure</span>

<span class="keyword">def</span> <span class="function">test_foo</span>():
    allure.attach(<span class="string"><span class="delimiter">'</span><span class="content">my attach</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">Hello, World</span><span class="delimiter">'</span></span>)</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_issues_tracker"><a class="anchor" href="#_issues_tracker"></a>Issues Tracker</h5>
<div class="paragraph">
<p>Issues can be set for test.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">import</span> <span class="include">pytest</span>

<span class="decorator">@pytest.allure.issue</span>(<span class="string"><span class="delimiter">'</span><span class="content">http://jira.lan/browse/ISSUE-1</span><span class="delimiter">'</span></span>)
<span class="keyword">def</span> <span class="function">test_foo</span>():
    <span class="keyword">assert</span> <span class="predefined-constant">False</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">import</span> <span class="include">allure</span>

<span class="decorator">@allure.issue</span>(<span class="string"><span class="delimiter">'</span><span class="content">http://jira.lan/browse/ISSUE-2</span><span class="delimiter">'</span></span>)
<span class="keyword">class</span> <span class="class">TestBar</span>:

    <span class="comment"># test will have ISSUE-2, ISSUE-3 and ISSUE-4 label</span>
    <span class="decorator">@allure.issue</span>(<span class="string"><span class="delimiter">'</span><span class="content">http://jira.lan/browse/ISSUE-3</span><span class="delimiter">'</span></span>)
    <span class="keyword">def</span> <span class="function">test_bar1</span>(<span class="predefined-constant">self</span>):
        <span class="comment"># You can use this feature like a function inside the test</span>
        allure.dynamic_issue(<span class="string"><span class="delimiter">'</span><span class="content">http://jira.lan/browse/ISSUE-4</span><span class="delimiter">'</span></span>)
        <span class="keyword">pass</span>

    <span class="comment"># test will have only ISSUE-2 label</span>
    <span class="keyword">def</span> <span class="function">test_bar2</span>(<span class="predefined-constant">self</span>):
        <span class="keyword">pass</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_test_management_system"><a class="anchor" href="#_test_management_system"></a>Test Management System</h5>
<div class="paragraph">
<p>Test cases links can be set for test also.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">import</span> <span class="include">pytest</span>

<span class="decorator">@pytest.allure.testcase</span>(<span class="string"><span class="delimiter">'</span><span class="content">http://my.tms.org/TESTCASE-1</span><span class="delimiter">'</span></span>)
<span class="keyword">def</span> <span class="function">test_foo</span>():
    <span class="keyword">assert</span> <span class="predefined-constant">False</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">import</span> <span class="include">allure</span>

<span class="decorator">@allure.testcase</span>(<span class="string"><span class="delimiter">'</span><span class="content">http://my.tms.org/browse/TESTCASE-2</span><span class="delimiter">'</span></span>)
<span class="keyword">class</span> <span class="class">TestBar</span>:

    <span class="comment"># test will have TESTCASE-2 and TESTCASE-3 label</span>
    <span class="decorator">@allure.testcase</span>(<span class="string"><span class="delimiter">'</span><span class="content">TESTCASE-3</span><span class="delimiter">'</span></span>)
    <span class="keyword">def</span> <span class="function">test_bar1</span>(<span class="predefined-constant">self</span>):
        <span class="keyword">pass</span>

    <span class="comment"># test will have only TESTCASE-2 label</span>
    <span class="keyword">def</span> <span class="function">test_bar2</span>(<span class="predefined-constant">self</span>):
        <span class="keyword">pass</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_parameters"><a class="anchor" href="#_parameters"></a>Parameters</h5>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Not implemented now
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_severity_5"><a class="anchor" href="#_severity_5"></a>Severity</h5>
<div class="paragraph">
<p>Any test, class or module can be marked with different severity:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">import</span> <span class="include">pytest</span>

<span class="decorator">@pytest.allure.severity</span>(pytest.allure.severity_level.MINOR)
<span class="keyword">def</span> <span class="function">test_minor</span>():
    <span class="keyword">assert</span> <span class="predefined-constant">False</span>


<span class="decorator">@pytest.allure.severity</span>(pytest.allure.severity_level.CRITICAL)
<span class="keyword">class</span> <span class="class">TestBar</span>:

    <span class="comment"># will have CRITICAL priority</span>
    <span class="keyword">def</span> <span class="function">test_bar</span>(<span class="predefined-constant">self</span>):
        <span class="keyword">pass</span>

    <span class="comment"># will have BLOCKER priority via a short-cut decorator</span>
    <span class="decorator">@pytest.allure.BLOCKER</span>
    <span class="keyword">def</span> <span class="function">test_bar</span>(<span class="predefined-constant">self</span>):
        <span class="keyword">pass</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To run tests with concrete priority:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="rest">py.test my_tests/ --allure_severities=critical,blocker</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_behaviours_mapping_5"><a class="anchor" href="#_behaviours_mapping_5"></a>Behaviours Mapping</h5>
<div class="paragraph">
<p>Feature and Story can be set for test.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">import</span> <span class="include">allure</span>


<span class="decorator">@allure.feature</span>(<span class="string"><span class="delimiter">'</span><span class="content">Feature1</span><span class="delimiter">'</span></span>)
<span class="decorator">@allure.story</span>(<span class="string"><span class="delimiter">'</span><span class="content">Story1</span><span class="delimiter">'</span></span>)
<span class="keyword">def</span> <span class="function">test_minor</span>():
    <span class="keyword">assert</span> <span class="predefined-constant">False</span>


<span class="decorator">@allure.feature</span>(<span class="string"><span class="delimiter">'</span><span class="content">Feature2</span><span class="delimiter">'</span></span>)
<span class="decorator">@allure.story</span>(<span class="string"><span class="delimiter">'</span><span class="content">Story2</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">Story3</span><span class="delimiter">'</span></span>)
<span class="decorator">@allure.story</span>(<span class="string"><span class="delimiter">'</span><span class="content">Story4</span><span class="delimiter">'</span></span>)
 <span class="keyword">class</span> <span class="class">TestBar</span>:

    <span class="comment"># will have 'Feature2 and Story2 and Story3 and Story4'</span>
    <span class="keyword">def</span> <span class="function">test_bar</span>(<span class="predefined-constant">self</span>):
        <span class="keyword">pass</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To run tests by Feature or Story:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="rest">py.test my_tests/ --allure_features=feature1,feature2
py.test my_tests/ --allure_features=feature1,feature2 --allure_stories=story1,story2</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_environment_parameters"><a class="anchor" href="#_environment_parameters"></a>Environment Parameters</h5>
<div class="paragraph">
<p>You can provide test environment parameters such as report name, browser or test server address to allure test report.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">import</span> <span class="include">allure</span>
<span class="keyword">import</span> <span class="include">pytest</span>


<span class="keyword">def</span> <span class="function">pytest_configure</span>(config):
    allure.environment(report=<span class="string"><span class="delimiter">'</span><span class="content">Allure report</span><span class="delimiter">'</span></span>, browser=<span class="string"><span class="modifier">u</span><span class="delimiter">'</span><span class="content">Я.Браузер</span><span class="delimiter">'</span></span>)


<span class="decorator">@pytest.fixture</span>(scope=<span class="string"><span class="delimiter">&quot;</span><span class="content">session</span><span class="delimiter">&quot;</span></span>)
<span class="keyword">def</span> <span class="function">app_host_name</span>():
    host_name = <span class="string"><span class="delimiter">&quot;</span><span class="content">my.host.local</span><span class="delimiter">&quot;</span></span>
    allure.environment(hostname=host_name)
    <span class="keyword">return</span> host_name


<span class="decorator">@pytest.mark.parametrize</span>(<span class="string"><span class="delimiter">'</span><span class="content">country</span><span class="delimiter">'</span></span>, (<span class="string"><span class="delimiter">'</span><span class="content">USA</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">Germany</span><span class="delimiter">'</span></span>, <span class="string"><span class="modifier">u</span><span class="delimiter">'</span><span class="content">Россия</span><span class="delimiter">'</span></span>, <span class="string"><span class="modifier">u</span><span class="delimiter">'</span><span class="content">Япония</span><span class="delimiter">'</span></span>))
<span class="keyword">def</span> <span class="function">test_minor</span>(country):
    allure.environment(country=country)
    <span class="keyword">assert</span> country</code></pre>
</div>
</div>
<div class="paragraph">
<p>More details about allure environment you can know from <a href="https://github.com/allure-framework/allure-core/wiki/" class="bare">https://github.com/allure-framework/allure-core/wiki/</a>
Environment[documentation].</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_development"><a class="anchor" href="#_development"></a>6.1.3. Development</h4>
<div class="paragraph">
<p>Use <code>allure.common.AllureImpl</code> class to bind your logic to this adapter.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_behave"><a class="anchor" href="#_behave"></a>6.2. Behave</h3>
<div class="paragraph">
<p>Allure integrates with behave as an external formatter.</p>
</div>
<div class="sect3">
<h4 id="_instalation"><a class="anchor" href="#_instalation"></a>6.2.1. Instalation</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ pip install allure-behave</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_usage"><a class="anchor" href="#_usage"></a>6.2.2. Usage</h4>
<div class="paragraph">
<p>You can specify the formatter directly in the command line:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ behave -f allure_behave.formatter:AllureFormatter -o %allure_result_folder% ./features</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_features_7"><a class="anchor" href="#_features_7"></a>6.2.3. Features</h4>
<div class="sect4">
<h5 id="_severity_6"><a class="anchor" href="#_severity_6"></a>Severity</h5>
<div class="paragraph">
<p>Tags that are matched to severity names (like critical, trivial, etc.) will be interpreted as a feature or scenario severity.
Scenario inherits feature severity if not provided, or overrides it in the other case. If there is more than one severity
definition tag, only the last one is used.</p>
</div>
</div>
<div class="sect4">
<h5 id="_steps_and_scenarious_status"><a class="anchor" href="#_steps_and_scenarious_status"></a>Steps and Scenarious status</h5>
<div class="paragraph">
<p>Steps with assertion exceptions will be marked as failed. Other exceptions thrown during the test execution will cause
it to have status broken. Scenario status will be determined by the first unsuccessful step status. When all steps are
passed, then the whole scenario is considered passed.</p>
</div>
</div>
<div class="sect4">
<h5 id="_step_data"><a class="anchor" href="#_step_data"></a>Step Data</h5>
<div class="paragraph">
<p>Step data text or table data are represented as step attachments in report.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_nose"><a class="anchor" href="#_nose"></a>6.3. Nose</h3>
<div class="paragraph">
<p>It is a port of <a href="https://github.com/allure-framework/allure-python">pytest-allure-adaptor</a> for <a href="https://github.com/nose-devs/nose">nose framework</a>.</p>
</div>
<div class="sect3">
<h4 id="_usage_2"><a class="anchor" href="#_usage_2"></a>6.3.1. Usage</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash"> nosetests --with-allure --logdir=/path/to/put/results
 nosetests --with-allure --logdir=/path/to/put/results --not-clear-logdir</code></pre>
</div>
</div>
<div class="paragraph">
<p>Option "--not-clear-logdir" is useful with option "--processes" to prevent cleaning of logdr at the end of testing.</p>
</div>
</div>
<div class="sect3">
<h4 id="_supported_features"><a class="anchor" href="#_supported_features"></a>6.3.2. Supported features</h4>
<div class="sect4">
<h5 id="_attachment"><a class="anchor" href="#_attachment"></a>Attachment</h5>
<div class="paragraph">
<p>To attach some content to test report:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="pyhton">import nose

def test_foo():
    nose.allure.attach('my attach', 'Hello, World')</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_step"><a class="anchor" href="#_step"></a>Step</h5>
<div class="paragraph">
<p>To divide a test into steps:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">import</span> <span class="include">nose</span>

<span class="keyword">def</span> <span class="function">test_foo</span>():
    <span class="keyword">with</span> nose.allure.step(<span class="string"><span class="delimiter">'</span><span class="content">step one</span><span class="delimiter">'</span></span>):
        <span class="comment"># do stuff</span>

    <span class="keyword">with</span> nose.allure.step(<span class="string"><span class="delimiter">'</span><span class="content">step two</span><span class="delimiter">'</span></span>):
        <span class="comment"># do more stuff</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Can also be used as decorators. By default step name is generated from method name:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">import</span> <span class="include">nose</span>

<span class="decorator">@nose.allure.step</span>
<span class="keyword">def</span> <span class="function">make_test_data_foo</span>():
    <span class="comment"># do stuff</span>

<span class="keyword">def</span> <span class="function">test_foo</span>():
    <span class="keyword">assert</span> make_some_data_foo() <span class="keyword">is</span> <span class="keyword">not</span> <span class="predefined-constant">None</span>

<span class="decorator">@nose.allure.step</span>(<span class="string"><span class="delimiter">'</span><span class="content">make_some_data_foo</span><span class="delimiter">'</span></span>)
<span class="keyword">def</span> <span class="function">make_some_data_bar</span>():
    <span class="comment"># do another stuff</span>

<span class="keyword">def</span> <span class="function">test_bar</span>():
    <span class="keyword">assert</span> make_some_data_bar() <span class="keyword">is</span> <span class="keyword">not</span> <span class="predefined-constant">None</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_environment_2"><a class="anchor" href="#_environment_2"></a>Environment</h5>
<div class="paragraph">
<p>You can provide test <a href="https://github.com/allure-framework/allure-core/wiki/Environment">environment parameters</a> such as report name, browser or test server address to allure test report.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">import</span> <span class="include">nose</span>

<span class="keyword">def</span> <span class="function">test_dummy</span>():
    nose.allure.environment(report=<span class="string"><span class="delimiter">'</span><span class="content">Allure report</span><span class="delimiter">'</span></span>, browser=<span class="string"><span class="modifier">u</span><span class="delimiter">'</span><span class="content">Firefox</span><span class="delimiter">'</span></span>)</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_severity_7"><a class="anchor" href="#_severity_7"></a>Severity</h5>
<div class="paragraph">
<p>Any test, class or module can be marked with different severity:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">import</span> <span class="include">nose</span>

<span class="keyword">class</span> <span class="class">TestBar</span>(<span class="predefined">object</span>):

    <span class="decorator">@nose.allure.severity</span>(nose.allure.severity_level.CRITICAL)
    <span class="keyword">def</span> <span class="function">test_bar</span>(<span class="predefined-constant">self</span>):
        <span class="keyword">pass</span>

<span class="comment"># custom severity</span>
<span class="decorator">@nose.allure.severity</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">hard</span><span class="delimiter">&quot;</span></span>)
<span class="keyword">def</span> <span class="function">test_bar</span>(<span class="predefined-constant">self</span>):
    <span class="keyword">pass</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To run tests with concrete priority:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">nosetests my_tests/ --with-allure --logdir=tmp --severity=&quot;critical, hard&quot;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_issue"><a class="anchor" href="#_issue"></a>Issue</h5>
<div class="paragraph">
<p>Issues can be set for test.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">import</span> <span class="include">nose</span>

<span class="decorator">@nose.allure.issue</span>(<span class="string"><span class="delimiter">'</span><span class="content">http://jira.lan/browse/ISSUE-1</span><span class="delimiter">'</span></span>)
<span class="keyword">def</span> <span class="function">test_foo</span>():
    <span class="keyword">assert</span> <span class="predefined-constant">False</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_features_stories"><a class="anchor" href="#_features_stories"></a>Features &amp; Stories</h5>
<div class="paragraph">
<p>Feature and Story can be set for test.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">import</span> <span class="include">nose</span>

<span class="decorator">@nose.allure.feature</span>(<span class="string"><span class="delimiter">'</span><span class="content">Feature1</span><span class="delimiter">'</span></span>)
<span class="decorator">@nose.allure.story</span>(<span class="string"><span class="delimiter">'</span><span class="content">Story1</span><span class="delimiter">'</span></span>)
<span class="keyword">def</span> <span class="function">test_minor</span>():
    <span class="keyword">assert</span> <span class="predefined-constant">False</span>

<span class="keyword">class</span> <span class="class">TestBar</span>(<span class="predefined">object</span>):

    <span class="decorator">@nose.allure.feature</span>(<span class="string"><span class="delimiter">'</span><span class="content">Feature2</span><span class="delimiter">'</span></span>)
    <span class="decorator">@nose.allure.story</span>(<span class="string"><span class="delimiter">'</span><span class="content">Story1</span><span class="delimiter">'</span></span>)
    <span class="keyword">def</span> <span class="function">test_bar</span>(<span class="predefined-constant">self</span>):
        <span class="keyword">pass</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To run tests by Feature or Story:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash"> nosetests my_tests/ --with-allure --logdir=tmp --feature=&quot;Feature1, Feature2&quot;
 nosetests my_tests/ --with-allure --logdir=tmp --feature=&quot;Feature1, Feature2&quot; --story=&quot;Story1, Story2&quot;</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_javascript"><a class="anchor" href="#_javascript"></a>7. JavaScript</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_jasmine"><a class="anchor" href="#_jasmine"></a>7.1. Jasmine</h3>
<div class="paragraph">
<p>A plugin for Allure report generation from Jasmine tests.</p>
</div>
<div class="sect3">
<h4 id="_installation_6"><a class="anchor" href="#_installation_6"></a>7.1.1. Installation</h4>
<div class="sect4">
<h5 id="_from_jasmine2"><a class="anchor" href="#_from_jasmine2"></a>From Jasmine2</h5>
<div class="paragraph">
<p>Add the lib into <code>package.json</code> and then configure the plugin:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="comment">// conf.js</span>
<span class="keyword">var</span> AllureReporter = require(<span class="string"><span class="delimiter">'</span><span class="content">jasmine-allure-reporter</span><span class="delimiter">'</span></span>);
jasmine.getEnv().addReporter(<span class="keyword">new</span> AllureReporter({
  <span class="key">resultsDir</span>: <span class="string"><span class="delimiter">'</span><span class="content">allure-results</span><span class="delimiter">'</span></span>
}));</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_from_protractor"><a class="anchor" href="#_from_protractor"></a>From Protractor</h5>
<div class="paragraph">
<p>Put the above code into the <code>onPrepare</code> inside of your <code>conf.js</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="comment">// conf.js</span>
exports.config = {
  <span class="key">framework</span>: <span class="string"><span class="delimiter">'</span><span class="content">jasmine2</span><span class="delimiter">'</span></span>,
  <span class="function">onPrepare</span>: <span class="keyword">function</span>() {
    <span class="keyword">var</span> AllureReporter = require(<span class="string"><span class="delimiter">'</span><span class="content">jasmine-allure-reporter</span><span class="delimiter">'</span></span>);
    jasmine.getEnv().addReporter(<span class="keyword">new</span> AllureReporter({
      <span class="key">resultsDir</span>: <span class="string"><span class="delimiter">'</span><span class="content">allure-results</span><span class="delimiter">'</span></span>
    }));
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_generate_html_report_from_allure_results"><a class="anchor" href="#_generate_html_report_from_allure_results"></a>7.1.2. Generate HTML report from Allure results</h4>
<div class="paragraph">
<p>The Reporter will generate xml files inside of a <code>resultsDir</code>, then we need to generate HTML out of them.
You can use Maven for that. Copy ready-to-use <code>pom.xml</code> from <code>node_modules/jasmine-allure-reporter</code> and run:</p>
</div>
<div class="paragraph">
<p><code>mvn site -Dallure.results_pattern=allure-results</code></p>
</div>
<div class="paragraph">
<p>It will put HTMLs into <code>target/site/allure-maven-plugin</code> folder. To serve them via <code>localhost:1324</code> use:</p>
</div>
<div class="paragraph">
<p><code>mvn jetty:run -Djetty.port=1234</code></p>
</div>
<div class="paragraph">
<p>Otherwise choose one of the
<a href="https://github.com/allure-framework/allure-core/wiki#generating-a-report">other ways to generate HTML</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_features_8"><a class="anchor" href="#_features_8"></a>7.1.3. Features</h4>
<div class="paragraph">
<p>This adapter provides a set of methods that can be called from the global <code>Jasmine2AllureReporter</code> object.
It wraps <a href="https://github.com/allure-framework/allure-js-commons">common allure JS adapter</a> and provides access
to basic Allure features implemented there.</p>
</div>
<div class="sect4">
<h5 id="_title_2"><a class="anchor" href="#_title_2"></a>Title</h5>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
TBD it is not implemented currently
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_description_6"><a class="anchor" href="#_description_6"></a>Description</h5>
<div class="paragraph">
<p>In order to add a detailed description for a test you should call a <code>setDescription(description)</code> method
where <strong>description</strong> is your string argument.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
code snippet TBD
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_severity_8"><a class="anchor" href="#_severity_8"></a>Severity</h5>
<div class="paragraph">
<p>You can specify a severity attribute for a test via <code>severity(severity)</code> method where
<strong>severity</strong> argument can hold one of the following pre-defined values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>BLOCKER</p>
</li>
<li>
<p>CRITICAL</p>
</li>
<li>
<p>NORMAL</p>
</li>
<li>
<p>MINOR</p>
</li>
<li>
<p>TRIVIAL</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
code snippet TBD
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_behaviours"><a class="anchor" href="#_behaviours"></a>Behaviours</h5>
<div class="paragraph">
<p>In some development approaches tests are classified by
<a href="https://github.com/allure-framework/allure-core/wiki/Glossary#user-story">stories</a> and
<a href="https://github.com/allure-framework/allure-core/wiki/Glossary#feature">features</a>.
If you’re using this, then for each test you can set story and feature attributes via <code>story(story)</code> and
<code>feature(feature)</code> methods respectively, accepting <strong>story</strong> or <strong>feature</strong> as a string argument.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
code snippet TBD
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_steps_6"><a class="anchor" href="#_steps_6"></a>Steps</h5>
<div class="paragraph">
<p>Steps are needed to specify actions that constitute a testing scenario.
Steps are named, they can create attachments and can be used in different testing scenarios.
You can add a step via <code>createStep(name, stepFunc)</code> method, where</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>name</strong> is a string arg bearing step name</p>
</li>
<li>
<p><strong>stepFunc</strong> is a wrapped function whose logic this step represents in the report.</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
code snippet TBD
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_attachments_6"><a class="anchor" href="#_attachments_6"></a>Attachments</h5>
<div class="paragraph">
<p>You can add an attachment for one of the steps via <code>createAttachment(name, content, type)</code> method
here</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>name</strong> is a string bearing attachment&#8217;s description</p>
</li>
<li>
<p><strong>content</strong> is either a function, returning attachment object or the attachment object itself.</p>
</li>
<li>
<p><strong>type</strong> is a string parameter to specify exact MIME type for each attached file. However there’s no need to
specify attachment explicitly type for all attached files as Allure by default analyses attachment contents and
can determine attachment type automatically. You usually need to specify attachment type when working with plain
text files.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Example: adding a screenshot in the end of each test</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">  <span class="function">onPrepare</span>: <span class="keyword">function</span> () {
    <span class="keyword">var</span> AllureReporter = require(<span class="string"><span class="delimiter">'</span><span class="content">jasmine-allure-reporter</span><span class="delimiter">'</span></span>);
    jasmine.getEnv().addReporter(<span class="keyword">new</span> AllureReporter());
    jasmine.getEnv().afterEach(<span class="keyword">function</span>(done){
      browser.takeScreenshot().then(<span class="keyword">function</span> (png) {
        allure.createAttachment(<span class="string"><span class="delimiter">'</span><span class="content">Screenshot</span><span class="delimiter">'</span></span>, <span class="keyword">function</span> () {
          <span class="keyword">return</span> <span class="keyword">new</span> Buffer(png, <span class="string"><span class="delimiter">'</span><span class="content">base64</span><span class="delimiter">'</span></span>)
        }, <span class="string"><span class="delimiter">'</span><span class="content">image/png</span><span class="delimiter">'</span></span>)();
        done();
      })
    });
  }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note <code>done</code> callback!</p>
</div>
</div>
<div class="sect4">
<h5 id="_issues_tracker_2"><a class="anchor" href="#_issues_tracker_2"></a>Issues Tracker</h5>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Integration with bug tracker system is not currently implemented
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_test_management_system_2"><a class="anchor" href="#_test_management_system_2"></a>Test Management System</h5>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Integration with test management system is not currently implemented
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_2"><a class="anchor" href="#_parameters_2"></a>Parameters</h5>
<div class="paragraph">
<p>In order to add information about test method
<a href="https://github.com/allure-framework/allure-core/wiki/Glossary#parameter">parameters</a> you should use one of the methods:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>addArgument(name, value)</code> - to specify more information on one of the test arguments</p>
</li>
<li>
<p><code>addEnvironment(name, value)</code> - to specify more information on some of the environment variables</p>
</li>
</ol>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
code snippet TBD
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_tbd"><a class="anchor" href="#_tbd"></a>7.1.4. TBD</h4>
<div class="ulist">
<ul>
<li>
<p>Currently attachments are added to the test case instead of the current step. This needs to be fixed in allure-js-commons.</p>
</li>
<li>
<p>Add support for Features.</p>
</li>
<li>
<p>Add support to Jasmine1. Right now only Jasmine2 is available (do we really need this?).</p>
</li>
<li>
<p>Add ability to use reflection for decoration method of page objects so that we don&#8217;t need to write
Allure-related boilerplate tying ourselves to one specific reporter.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_for_developers"><a class="anchor" href="#_for_developers"></a>7.1.5. For Developers</h4>
<div class="paragraph">
<p>See the <a href="https://github.com/allure-framework/allure-jasmine-plugin/blob/master/test/system">system tests</a>
to quickly check how the reporter works in real life:</p>
</div>
<div class="paragraph">
<p><code>node_modules/protractor/bin/protractor ./test/system/conf.js</code></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_cucumber_js"><a class="anchor" href="#_cucumber_js"></a>7.2. Cucumber JS</h3>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Allure report version supported : 1.4.15
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_usage_3"><a class="anchor" href="#_usage_3"></a>7.2.1. Usage:</h4>
<div class="paragraph">
<p>Add <code>reporter.js</code> file in feature packages with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="keyword">var</span> reporter = require(<span class="string"><span class="delimiter">'</span><span class="content">cucumberjs-allure-reporter</span><span class="delimiter">'</span></span>);
reporter.config(
    {...}
);
module.exports = reporter;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Supported configuration keys:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>targetDir</em> - directory where allure will save results xml&#8217;s</p>
</li>
<li>
<p><em>labels</em> - custom label matchers, example:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">labels : {
        <span class="key">feature</span>: [<span class="regexp"><span class="delimiter">/</span><span class="content">sprint-(</span><span class="char">\d</span><span class="content">*)</span><span class="delimiter">/</span></span>, <span class="regexp"><span class="delimiter">/</span><span class="content">release-(</span><span class="char">\d</span><span class="content">)</span><span class="delimiter">/</span></span>, <span class="regexp"><span class="delimiter">/</span><span class="content">area-(.*)</span><span class="delimiter">/</span></span>],
        <span class="key">issue</span>: [<span class="regexp"><span class="delimiter">/</span><span class="content">(bug-</span><span class="char">\d</span><span class="content">*)</span><span class="delimiter">/</span></span>]
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Possible labels:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>feature</p>
</li>
<li>
<p>story</p>
</li>
<li>
<p>severity</p>
</li>
<li>
<p>language</p>
</li>
<li>
<p>framework</p>
</li>
<li>
<p>issue</p>
</li>
<li>
<p>testId</p>
</li>
<li>
<p>host</p>
</li>
<li>
<p>thread</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you want to cancel step or test, simply throw new Error with message 'Step cancelled' or 'Test cancelled'.</p>
</div>
</div>
<div class="sect3">
<h4 id="_generate_html_report_from_allure_results_2"><a class="anchor" href="#_generate_html_report_from_allure_results_2"></a>7.2.2. Generate HTML report from Allure results</h4>
<div class="paragraph">
<p>The Reporter will generate xml files inside of a <code>targetDir</code>, then we need to generate HTML out of them.
You can use Maven for that. Copy ready-to-use <code>pom.xml</code> from <code>node_modules/cucumberjs-allure-reporter</code> and run:</p>
</div>
<div class="paragraph">
<p><code>mvn site -Dallure.results_pattern=allure-results</code></p>
</div>
<div class="paragraph">
<p>It will put HTMLs into <code>target/site/allure-maven-plugin</code> folder. To serve them via <code>localhost:1234</code> use:</p>
</div>
<div class="paragraph">
<p><code>mvn jetty:run -Djetty.port=1234</code></p>
</div>
<div class="paragraph">
<p>Otherwise choose one of
<a href="https://github.com/allure-framework/allure-core/wiki#generating-a-report">other ways to generate HTML</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_for_developers_2"><a class="anchor" href="#_for_developers_2"></a>7.2.3. For Developers</h4>
<div class="sect4">
<h5 id="_run_test_examples_with"><a class="anchor" href="#_run_test_examples_with"></a>Run test examples with:</h5>
<div class="paragraph">
<p><code>./node_modules/.bin/cucumber.js features/&lt;FEATURE_NAME&gt;.feature</code></p>
</div>
<div class="paragraph">
<p>Available tests:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>basic &#8594; basic test results</p>
</li>
<li>
<p>description &#8594; scenario description test</p>
</li>
<li>
<p>label &#8594; cucumber tags (currently labels are not visible in generated report &#8230;&#8203;)</p>
</li>
<li>
<p>exception &#8594; test throws exception</p>
</li>
<li>
<p>attachments &#8594; docStrings and dataTable tests</p>
</li>
<li>
<p>scenarioOutline &#8594; scenario outline tests</p>
</li>
<li>
<p>subSteps &#8594; steps add sub steps using allure object</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>or run everything with: <code>./node_modules/.bin/cucumber.js features/</code></p>
</div>
<div class="paragraph">
<p>To check protractor screenshot test install <code>protractor</code> and <code>protractor-cucumber-framework</code> and then
run tests: <code>./node_modules/protractor/bin/protractor miscellaneous/protractorScreenshot/conf.js</code></p>
</div>
<div class="paragraph">
<p>To check basic logging run: <code>./node_modules/.bin/cucumber.js miscellaneous/logging</code></p>
</div>
<div class="paragraph">
<p>To check basic configuration run: <code>./node_modules/.bin/cucumber.js miscellaneous/configuration</code></p>
</div>
<div class="paragraph">
<p>To check custom tags run: <code>./node_modules/.bin/cucumber.js miscellaneous/customTagNames</code></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_release_notes"><a class="anchor" href="#_release_notes"></a>7.2.4. Release notes</h4>
<div class="paragraph">
<p>01/09/2016 version 1.0.3</p>
</div>
<div class="ulist">
<ul>
<li>
<p>added possibility to cancel steps and tests</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>11/07/2016 version 1.0.2</p>
</div>
<div class="ulist">
<ul>
<li>
<p>peer dependency for cucumber (&gt;= 1.2.0) added</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>06/07/2016 version 1.0.1</p>
</div>
<div class="ulist">
<ul>
<li>
<p>dependencies updated for allure-js-commons, protractor, cucumber and protractor-cucumber-framework</p>
</li>
<li>
<p>fixed cucumber handlers - getPayload will not be available in upcoming cucumber major release</p>
</li>
<li>
<p>updated data table and doc string handling</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>02/12/2015 version 1.0.0</p>
</div>
<div class="ulist">
<ul>
<li>
<p>plugin updated to work with cucumber 0.9.1</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>01/09/2015 version 0.0.1</p>
</div>
<div class="ulist">
<ul>
<li>
<p>first release</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_karma"><a class="anchor" href="#_karma"></a>7.3. Karma</h3>
<div class="paragraph">
<p>Reporter for the Allure XML format. It allows to make a detailed report</p>
</div>
<div class="sect3">
<h4 id="_karma_allure_reporter"><a class="anchor" href="#_karma_allure_reporter"></a>7.3.1. karma-allure-reporter</h4>
<div class="paragraph">
<p>Install karma-allure-reporter into your project as devDependency</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">devDependencies</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">karma</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">~0.10</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">karma-allure-reporter</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">~1.0.0</span><span class="delimiter">&quot;</span></span>
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can simple do it by:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">npm install karma-allure-reporter --save-dev</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_configuration"><a class="anchor" href="#_configuration"></a>7.3.2. Configuration</h4>
<div class="paragraph">
<p>Add allure into <code>reporters</code> section. Allure-reporter has a single config, it&#8217;s a <code>reportDir</code> —
result files location relatively to base dir. By default, files save right in the base dir.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="comment">// karma.conf.js</span>
module.<span class="function">exports</span> = <span class="keyword">function</span>(config) {
  config.set({
    <span class="key">reporters</span>: [<span class="string"><span class="delimiter">'</span><span class="content">progress</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">allure</span><span class="delimiter">'</span></span>],

    <span class="comment">// the default configuration</span>
    <span class="key">allureReport</span>: {
      <span class="key">reportDir</span>: <span class="string"><span class="delimiter">'</span><span class="delimiter">'</span></span>,
    }
  });
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can pass list of reporters as a CLI argument too:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">karma start --reporters allure,dots</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_api"><a class="anchor" href="#_api"></a>7.3.3. API</h4>
<div class="paragraph">
<p>With allure reporter you get some functions for provide additional info about tests.
All functions available as methods of the global <code>allure</code> object.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>description(description)</code> assign a description to current testcase</p>
</li>
<li>
<p><code>severity(severity)</code> assign a severity to current testcase. Possible values enumerated as properties,
eg. <code>allure.severity.BLOCKER</code>. All securities by descending of their importance:</p>
<div class="ulist">
<ul>
<li>
<p>BLOCKER</p>
</li>
<li>
<p>CRITICAL</p>
</li>
<li>
<p>NORMAL</p>
</li>
<li>
<p>MINOR</p>
</li>
<li>
<p>TRIVIAL</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>createStep(name, stepFunction)</code> defines test step. Returns wrapped function which reports about every step calling.
Step function can be nested within one another.
It is most powerful feature of allure, because it allow to write self-documented tests which report about every its step.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See the <a href="https://github.com/allure-framework/allure/blob/master/docs/dictionary.md">docs</a>
 in core project for more information about these features and their purpose.</p>
</div>
</div>
<div class="sect3">
<h4 id="_example"><a class="anchor" href="#_example"></a>7.3.4. Example</h4>
<div class="paragraph">
<p>There is an <a href="https://github.com/allure-examples/allure-karma-example">example project</a>, where you may look to allure-reporter in action.</p>
</div>
<div class="paragraph">
<p>For more information about Allure see the <a href="https://github.com/allure-framework/allure">allure core</a> project.</p>
</div>
<div class="paragraph">
<p>For more information about Karma see the <a href="http://karma-runner.github.com/">Karma homepage</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_mocha"><a class="anchor" href="#_mocha"></a>7.4. Mocha</h3>
<div class="sect3">
<h4 id="_mocha_allure_reporter"><a class="anchor" href="#_mocha_allure_reporter"></a>7.4.1. mocha-allure-reporter</h4>
<div class="paragraph">
<p>Allure reporter for Mocha framework.</p>
</div>
</div>
<div class="sect3">
<h4 id="_installation_7"><a class="anchor" href="#_installation_7"></a>7.4.2. Installation</h4>
<div class="paragraph">
<p>Assuming that you have <a href="http://mochajs.org/">mocha</a> installed, install reporter via npm:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">npm install mocha-allure-reporter</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then use it as any other mocha reporter:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">mocha --reporter mocha-allure-reporter</code></pre>
</div>
</div>
<div class="paragraph">
<p>After running tests you will get raw tests result into <code>allure-results</code> directory.
See <a href="https://github.com/allure-framework/allure-core/wiki#generating-a-report">generator list</a> on how to make a report from raw results.</p>
</div>
<div class="paragraph">
<p>Also check out <a href="https://github.com/allure-examples/mocha-allure-example">mocha-allure-example</a> to see it in action.</p>
</div>
</div>
<div class="sect3">
<h4 id="_supported_options"><a class="anchor" href="#_supported_options"></a>7.4.3. Supported options</h4>
<div class="ulist">
<ul>
<li>
<p>targetDir <em>(string)</em> – directory where test results will be stored</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_runtime_api"><a class="anchor" href="#_runtime_api"></a>7.4.4. Runtime API</h4>
<div class="paragraph">
<p>Allure is a test framework which provides more data from tests than usual.
Once added <code>mocha-allure-reporter</code> will create global <code>allure</code> object with the following API:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>allure.createStep(name, stepFn)</code> – define step function. Result of each call of this function will
be recorded into report.</p>
</li>
<li>
<p><code>allure.createAttachement(name, content, [type])</code> – save attachment to test. If you&#8217;re calling this
inside step function or during its execution (e.g. asynchronously via promises), attachment will be saved to step function.</p>
<div class="ulist">
<ul>
<li>
<p><code>name</code> <em>(String)</em> - attachment name. Note that it is not then name of the file, actual filename
will be generated.</p>
</li>
<li>
<p><code>content</code> <em>(Buffer|String|Function)</em> – attachment content. If you pass Buffer or String,
it will be saved to file immediately. If you are passing Function, you will get decorated function and
 you can call it several times to trigger attachment. General purpose of the second case is an ability
  to create utility function to take screenshot. You can define function for you test framework only once
   and then call it each time you need a screenshot.</p>
</li>
<li>
<p><code>type</code> <em>(String, optional)</em> – attachment MIME-type. If you omit this argument we&#8217;ll try to detect type
automatically via <a href="https://github.com/sindresorhus/file-type">file-type</a> library</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>allure.description(description)</code> – set detailed test description, if test name is not enough.</p>
</li>
<li>
<p><code>allure.severity(severity)</code> – set test severity, one of: <code>blocker</code>, <code>critical</code>, <code>normal</code>, <code>minor</code>, <code>trivial</code>.
You can also use constants like <code>allure.SEVERITY.BLOKER</code>.</p>
</li>
<li>
<p><code>allure.feature(featureName)</code> – assign feature to test</p>
</li>
<li>
<p><code>allure.story(storyName)</code> – assign user story to test. See
<a href="https://github.com/allure-framework/allure-core/wiki/Features-and-Stories">documentation</a> for details</p>
</li>
<li>
<p><code>allure.addArgument(name, value)</code> - provide parameters, which had been used in test. Unlike other languages,
javascript test methods usually doesn&#8217;t have special arguments (only callbacks), so developers use other way
to populate parameters to test. This method is to provide them to Allure</p>
</li>
<li>
<p><code>allure.addEnvironment(name, value)</code> - save environment value. It is similar to <code>addArgument</code> method, but it is
designed to store more verbose data, like HTTP-links to test page or used package version.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ruby"><a class="anchor" href="#_ruby"></a>8. Ruby</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_cucumber"><a class="anchor" href="#_cucumber"></a>8.1. Cucumber</h3>
<div class="paragraph">
<p>This page describes Allure adaptor usage for <a href="http://cukes.info/">Cucumber</a> framework.</p>
</div>
<div class="sect3">
<h4 id="_installation_8"><a class="anchor" href="#_installation_8"></a>8.1.1. Installation</h4>
<div class="paragraph">
<p>Add this line to your application&#8217;s Gemfile:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby">gem <span class="string"><span class="delimiter">'</span><span class="content">allure-cucumber</span><span class="delimiter">'</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>And then execute:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ bundle</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or install it yourself as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ gem install allure-cucumber</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_configuration_2"><a class="anchor" href="#_configuration_2"></a>8.1.2. Configuration</h4>
<div class="paragraph">
<p>By default, Allure XML files are stored in <code>gen/allure-results</code>.
To change this add the following in <code>features/support/env.rb</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby"><span class="constant">AllureCucumber</span>.configure <span class="keyword">do</span> |c|
   c.output_dir = <span class="string"><span class="delimiter">&quot;</span><span class="content">/output/dir</span><span class="delimiter">&quot;</span></span>
<span class="keyword">end</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>By default, the Allure XML files from earlier runs are deleted at the start of new run. This can be disabled by:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby"><span class="constant">AllureCucumber</span>.configure <span class="keyword">do</span> |c|
  c.clean_dir  = <span class="predefined-constant">false</span>
<span class="keyword">end</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>By default, allure-cucumber will analyze your cucumber tags looking for Test Management, Issue Management,
 and Severity hooks. These hooks will be displayed in the generated allure report (see allure-core for further info).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby">    <span class="constant">DEFAULT_TMS_PREFIX</span>      = <span class="string"><span class="delimiter">'</span><span class="content">@TMS:</span><span class="delimiter">'</span></span>
    <span class="constant">DEFAULT_ISSUE_PREFIX</span>    = <span class="string"><span class="delimiter">'</span><span class="content">@ISSUE:</span><span class="delimiter">'</span></span>
    <span class="constant">DEFAULT_SEVERITY_PREFIX</span> = <span class="string"><span class="delimiter">'</span><span class="content">@SEVERITY:</span><span class="delimiter">'</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby">  <span class="instance-variable">@SEVERITY</span><span class="symbol">:trivial</span> <span class="instance-variable">@ISSUE</span><span class="symbol">:YZZ</span>-<span class="integer">100</span> <span class="instance-variable">@TMS</span>:<span class="integer">9901</span>
  <span class="key">Scenario</span>: <span class="constant">Leave</span> <span class="constant">First</span> <span class="constant">Name</span> <span class="constant">Blank</span>
    <span class="constant">When</span> <span class="constant">I</span> register an account without a first name
    <span class="constant">Then</span> exactly (<span class="integer">1</span>) [validation_error] should be visible</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can configure what allure-cucumber looks for by making the following changes</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby"><span class="constant">AllureCucumber</span>.configure <span class="keyword">do</span> |c|
  c.clean_dir  = <span class="predefined-constant">false</span>
  c.tms_prefix      = <span class="string"><span class="delimiter">'</span><span class="content">@HIPTEST--</span><span class="delimiter">'</span></span>
  c.issue_prefix    = <span class="string"><span class="delimiter">'</span><span class="content">@JIRA++</span><span class="delimiter">'</span></span>
  c.severity_prefix = <span class="string"><span class="delimiter">'</span><span class="content">@URGENCY:</span><span class="delimiter">'</span></span>
<span class="keyword">end</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby">  <span class="instance-variable">@URGENCY</span><span class="symbol">:critical</span> <span class="instance-variable">@JIRA</span>++<span class="constant">YZZ</span>-<span class="integer">100</span> <span class="instance-variable">@HIPTEST</span>-<span class="integer">-9901</span>
  <span class="key">Scenario</span>: <span class="constant">Leave</span> <span class="constant">First</span> <span class="constant">Name</span> <span class="constant">Blank</span>
    <span class="constant">When</span> <span class="constant">I</span> register an account without a first name
    <span class="constant">Then</span> exactly (<span class="integer">1</span>) [validation_error] should be visible</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_usage_4"><a class="anchor" href="#_usage_4"></a>8.1.3. Usage</h4>
<div class="paragraph">
<p>Put the following in your <code>features/support/env.rb</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby">require <span class="string"><span class="delimiter">'</span><span class="content">allure-cucumber</span><span class="delimiter">'</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Use <code>--format AllureCucumber::Formatter --out where/you-want-results</code> while running cucumber
or add it to <code>cucumber.yml</code></p>
</div>
<div class="paragraph">
<p>You can also <a href="https://github.com/allure-framework/allure-core/wiki/Glossary#attachment">attach screenshots</a>,
 logs or test data to <a href="https://github.com/allure-framework/allure-core/wiki/Glossary#test-step">steps</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby"> <span class="comment">#file: features/support/env.rb</span>
 include <span class="constant">AllureCucumber</span>::<span class="constant">DSL</span>
 attach_file(title, file)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_how_to_generate_report"><a class="anchor" href="#_how_to_generate_report"></a>8.1.4. How to generate report</h4>
<div class="paragraph">
<p>This adapter only generates XML files containing information about tests. See
<a href="https://github.com/allure-framework/allure-core/wiki#generating-report">wiki section</a>
 on how to generate report.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_rspec"><a class="anchor" href="#_rspec"></a>8.2. RSpec</h3>
<div class="paragraph">
<p>Adaptor to use the Allure framework along with the RSpec. See <a href="https://github.com/allure-examples/allure-rspec-example">an
example</a> project to take a quick tour.</p>
</div>
<div class="sect3">
<h4 id="_what_s_new"><a class="anchor" href="#_what_s_new"></a>8.2.1. What&#8217;s new</h4>
<div class="paragraph">
<p>See the <a href="https://github.com/allure-framework/allure-rspec/releases">releases</a> tab.</p>
</div>
</div>
<div class="sect3">
<h4 id="_setup"><a class="anchor" href="#_setup"></a>8.2.2. Setup</h4>
<div class="paragraph">
<p>Add the dependency to your Gemfile. Choose the version carefully:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>0.5.x - for RSpec2.</p>
</li>
<li>
<p>&#8656; 0.6.7 - for RSpec &lt; 3.2.</p>
</li>
<li>
<p>&gt;= 0.6.9 - for RSpec &gt;= 3.2.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby"> gem <span class="string"><span class="delimiter">'</span><span class="content">allure-rspec</span><span class="delimiter">'</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>And then include it in your spec_helper.rb:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby">    <span class="constant">RSpec</span>.configure <span class="keyword">do</span> |c|
      c.include <span class="constant">AllureRSpec</span>::<span class="constant">Adaptor</span>
    <span class="keyword">end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_advanced_options"><a class="anchor" href="#_advanced_options"></a>8.2.3. Advanced options</h4>
<div class="paragraph">
<p>You can specify the directory where the Allure test results will appear. By default it would be 'gen/allure-results'
within your current directory.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby">    <span class="constant">AllureRSpec</span>.configure <span class="keyword">do</span> |c|
      c.output_dir = <span class="string"><span class="delimiter">&quot;</span><span class="content">/whatever/you/like</span><span class="delimiter">&quot;</span></span> <span class="comment"># default: gen/allure-results</span>
      c.clean_dir = <span class="predefined-constant">false</span> <span class="comment"># clean the output directory first? (default: true)</span>
      c.logging_level = <span class="constant">Logger</span>::<span class="constant">DEBUG</span> <span class="comment"># logging level (default: DEBUG)</span>
    <span class="keyword">end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_usage_examples"><a class="anchor" href="#_usage_examples"></a>8.2.4. Usage examples</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby">describe <span class="constant">MySpec</span>, <span class="symbol">:feature</span> =&gt; <span class="string"><span class="delimiter">&quot;</span><span class="content">Some feature</span><span class="delimiter">&quot;</span></span>, <span class="symbol">:severity</span> =&gt; <span class="symbol">:normal</span> <span class="keyword">do</span>

  before(<span class="symbol">:step</span>) <span class="keyword">do</span> |s|
    puts <span class="string"><span class="delimiter">&quot;</span><span class="content">Before step </span><span class="inline"><span class="inline-delimiter">#{</span>s.current_step<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
  <span class="keyword">end</span>

  it <span class="string"><span class="delimiter">&quot;</span><span class="content">should be critical</span><span class="delimiter">&quot;</span></span>, <span class="symbol">:story</span> =&gt; <span class="string"><span class="delimiter">&quot;</span><span class="content">First story</span><span class="delimiter">&quot;</span></span>, <span class="symbol">:severity</span> =&gt; <span class="symbol">:critical</span>, <span class="symbol">:testId</span> =&gt; <span class="integer">99</span> <span class="keyword">do</span>
    <span class="string"><span class="delimiter">&quot;</span><span class="content">string</span><span class="delimiter">&quot;</span></span>.should == <span class="string"><span class="delimiter">&quot;</span><span class="content">string</span><span class="delimiter">&quot;</span></span>
  <span class="keyword">end</span>

  it <span class="string"><span class="delimiter">&quot;</span><span class="content">should be steps enabled</span><span class="delimiter">&quot;</span></span>, <span class="symbol">:story</span> =&gt; [<span class="string"><span class="delimiter">&quot;</span><span class="content">First story</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Second story</span><span class="delimiter">&quot;</span></span>], <span class="symbol">:testId</span> =&gt; <span class="integer">31</span> <span class="keyword">do</span> |e|

    e.step <span class="string"><span class="delimiter">&quot;</span><span class="content">step1</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span> |s|
      s.attach_file <span class="string"><span class="delimiter">&quot;</span><span class="content">screenshot1</span><span class="delimiter">&quot;</span></span>, take_screenshot_as_file
    <span class="keyword">end</span>

    e.step <span class="string"><span class="delimiter">&quot;</span><span class="content">step2</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
      <span class="integer">5</span>.should be &gt; <span class="integer">0</span>
    <span class="keyword">end</span>

    e.step <span class="string"><span class="delimiter">&quot;</span><span class="content">step3</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
      <span class="integer">0</span>.should == <span class="integer">0</span>
    <span class="keyword">end</span>

    e.attach_file <span class="string"><span class="delimiter">&quot;</span><span class="content">screenshot2</span><span class="delimiter">&quot;</span></span>, take_screenshot_as_file
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_groovy"><a class="anchor" href="#_groovy"></a>9. Groovy</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_spock"><a class="anchor" href="#_spock"></a>9.1. Spock</h3>
<div class="paragraph">
<p>Spock Framework sources - <a href="https://github.com/spockframework/spock" class="bare">https://github.com/spockframework/spock</a></p>
</div>
<div class="sect3">
<h4 id="_spock_framework_compatibilities"><a class="anchor" href="#_spock_framework_compatibilities"></a>9.1.1. Spock Framework compatibilities</h4>
<div class="ulist">
<ul>
<li>
<p>spock-0.7 - <a href="http://repo1.maven.org/maven2/org/spockframework/spock-core/0.7-groovy-2.0/">0.7-groovy-2.0</a></p>
</li>
<li>
<p>spock-1.0 - <a href="https://oss.sonatype.org/content/repositories/snapshots/org/spockframework/spock-core/1.0-groovy-2.0-SNAPSHOT/">1.0-groovy-2.0-SNAPSHOT</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_php"><a class="anchor" href="#_php"></a>10. PHP</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_phpunit"><a class="anchor" href="#_phpunit"></a>10.1. PHPUnit</h3>
<div class="paragraph">
<p>This an official PHPUnit adapter for Allure Framework - a flexible, lightweight and multi-language framework for writing
self-documenting tests.</p>
</div>
<div class="sect3">
<h4 id="_what_is_this_for"><a class="anchor" href="#_what_is_this_for"></a>10.1.1. What is this for?</h4>
<div class="paragraph">
<p>The main purpose of this adapter is to accumulate information about your tests and write it out to a set of XML files:
one for each test class. Then you can use a standalone command line tool or a plugin for popular continuous integration
systems to generate an HTML page showing your tests in a good form.</p>
</div>
</div>
<div class="sect3">
<h4 id="_example_project"><a class="anchor" href="#_example_project"></a>10.1.2. Example project</h4>
<div class="paragraph">
<p>Example project is located at: <a href="https://github.com/allure-framework/allure-phpunit-example" class="bare">https://github.com/allure-framework/allure-phpunit-example</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_how_to_generate_report_2"><a class="anchor" href="#_how_to_generate_report_2"></a>10.1.3. How to generate report</h4>
<div class="paragraph">
<p>This adapter only generates XML files containing information about tests. See
<a href="https://github.com/allure-framework/allure-core/wiki#generating-report">wiki section</a> on how to generate report.</p>
</div>
</div>
<div class="sect3">
<h4 id="_installation_usage"><a class="anchor" href="#_installation_usage"></a>10.1.4. Installation &amp;&amp; Usage</h4>
<div class="paragraph">
<p><strong>Note:</strong> this adapter supports Allure 1.4.x only.
In order to use this adapter you need to add a new dependency to your <strong>composer.json</strong> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
    <span class="key"><span class="delimiter">&quot;</span><span class="content">require</span><span class="delimiter">&quot;</span></span>: {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">php</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">&gt;=5.4.0</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">allure-framework/allure-phpunit</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">~1.2.0</span><span class="delimiter">&quot;</span></span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then add Allure test listener in <strong>phpunit.xml</strong> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;listeners&gt;</span>
    <span class="tag">&lt;listener</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Yandex\Allure\Adapter\AllureAdapter</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">file</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">vendor/allure-framework/allure-phpunit/src/Yandex/Allure/Adapter/AllureAdapter.php</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;arguments&gt;</span>
            <span class="tag">&lt;string&gt;</span>build/allure-results<span class="tag">&lt;/string&gt;</span> <span class="comment">&lt;!-- XML files output directory --&gt;</span>
            <span class="tag">&lt;boolean&gt;</span>true<span class="tag">&lt;/boolean&gt;</span> <span class="comment">&lt;!-- Whether to delete previous results on rerun --&gt;</span>
            <span class="tag">&lt;array&gt;</span> <span class="comment">&lt;!-- A list of custom annotations to ignore (optional) --&gt;</span>
                <span class="tag">&lt;element</span> <span class="attribute-name">key</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">0</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
                    <span class="tag">&lt;string&gt;</span>someCustomAnnotation<span class="tag">&lt;/string&gt;</span>
                <span class="tag">&lt;/element&gt;</span>
            <span class="tag">&lt;/array&gt;</span>
        <span class="tag">&lt;/arguments&gt;</span>
    <span class="tag">&lt;/listener&gt;</span>
<span class="tag">&lt;/listeners&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>After running PHPUnit tests a new folder will be created (<strong>build/allure-results</strong> in the example above). This folder
will contain generated XML files. See <a href="https://github.com/allure-framework/allure-core/wiki">framework help</a> for details
about how to generate report from XML files. By default generated report will only show a limited set of information but
you can use cool Allure features by adding a minimum of test code changes. Read next section for details.</p>
</div>
</div>
<div class="sect3">
<h4 id="_main_features"><a class="anchor" href="#_main_features"></a>10.1.5. Main features</h4>
<div class="paragraph">
<p>This adapter comes with a set of PHP annotations and traits allowing to use main Allure features.</p>
</div>
<div class="sect4">
<h5 id="_human_readable_test_class_or_test_method_title"><a class="anchor" href="#_human_readable_test_class_or_test_method_title"></a>Human-readable test class or test method title</h5>
<div class="paragraph">
<p>In order to add such title to any test class or <a href="https://github.com/allure-framework/allure-core/wiki/Glossary#test-case">test case</a>
method you need to annotate it with <strong>@Title</strong> annotation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="php"><span class="keyword">namespace</span> <span class="constant">Example</span>\<span class="constant">Tests</span>;

<span class="keyword">use</span> <span class="constant">PHPUnit_Framework_TestCase</span>;
<span class="keyword">use</span> <span class="constant">Yandex</span>\<span class="constant">Allure</span>\<span class="constant">Adapter</span>\<span class="constant">Annotation</span>\<span class="constant">Title</span>;

<span class="comment">/**
 * @Title(&quot;Human-readable test class title&quot;)
 */</span>
<span class="keyword">class</span> <span class="class">SomeTest</span> <span class="keyword">extends</span> <span class="constant">PHPUnit_Framework_TestCase</span>
{
    <span class="comment">/**
     * @Title(&quot;Human-readable test method title&quot;)
     */</span>
    <span class="keyword">public</span> <span class="keyword">function</span> <span class="function">testCase</span>()
    {
        <span class="comment">//Some implementation here...</span>
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_extended_test_class_or_test_method_description"><a class="anchor" href="#_extended_test_class_or_test_method_description"></a>Extended test class or test method description</h5>
<div class="paragraph">
<p>Similarly you can add detailed description for each test class and <a href="https://github.com/allure-framework/allure-core/wiki/Glossary#test-case">test method</a>.
To add such description simply use <strong>@Description</strong> annotation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="php"><span class="keyword">namespace</span> <span class="constant">Example</span>\<span class="constant">Tests</span>;

<span class="keyword">use</span> <span class="constant">PHPUnit_Framework_TestCase</span>;
<span class="keyword">use</span> <span class="constant">Yandex</span>\<span class="constant">Allure</span>\<span class="constant">Adapter</span>\<span class="constant">Annotation</span>\<span class="constant">Description</span>;
<span class="keyword">use</span> <span class="constant">Yandex</span>\<span class="constant">Allure</span>\<span class="constant">Adapter</span>\<span class="constant">Model</span>\<span class="constant">DescriptionType</span>;

<span class="comment">/**
 * @Description(&quot;Detailed description for test class&quot;)
 */</span>
<span class="keyword">class</span> <span class="class">SomeTest</span> <span class="keyword">extends</span> <span class="constant">PHPUnit_Framework_TestCase</span>
{
    <span class="comment">/**
     * @Description(value = &quot;Detailed description for &lt;b&gt;test class&lt;/b&gt;.&quot;, type = DescriptionType::HTML)
     */</span>
    <span class="keyword">public</span> <span class="keyword">function</span> <span class="function">testCase</span>()
    {
        <span class="comment">//Some implementation here...</span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Description can be added in plain text, HTML or Markdown format - simply assign different <strong>type</strong> value.</p>
</div>
</div>
<div class="sect4">
<h5 id="_set_test_severity"><a class="anchor" href="#_set_test_severity"></a>Set test severity</h5>
<div class="paragraph">
<p><strong>@Severity</strong> annotation is used in order to prioritize test methods by severity:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="php"><span class="keyword">namespace</span> <span class="constant">Example</span>\<span class="constant">Tests</span>;

<span class="keyword">use</span> <span class="constant">PHPUnit_Framework_TestCase</span>;
<span class="keyword">use</span> <span class="constant">Yandex</span>\<span class="constant">Allure</span>\<span class="constant">Adapter</span>\<span class="constant">Annotation</span>\<span class="constant">Severity</span>;
<span class="keyword">use</span> <span class="constant">Yandex</span>\<span class="constant">Allure</span>\<span class="constant">Adapter</span>\<span class="constant">Model</span>\<span class="constant">SeverityLevel</span>;

<span class="keyword">class</span> <span class="class">SomeTest</span> <span class="keyword">extends</span> <span class="constant">PHPUnit_Framework_TestCase</span>
{
    <span class="comment">/**
     * @Severity(level = SeverityLevel::MINOR)
     */</span>
    <span class="keyword">public</span> <span class="keyword">function</span> <span class="function">testCase</span>()
    {
        <span class="comment">//Some implementation here...</span>
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_specify_test_parameters_information"><a class="anchor" href="#_specify_test_parameters_information"></a>Specify test parameters information</h5>
<div class="paragraph">
<p>In order to add information about test method <a href="https://github.com/allure-framework/allure-core/wiki/Glossary#parameter">parameters</a>
you should use <strong>@Parameter</strong> annotation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="php"><span class="keyword">namespace</span> <span class="constant">Example</span>\<span class="constant">Tests</span>;

<span class="keyword">use</span> <span class="constant">PHPUnit_Framework_TestCase</span>;
<span class="keyword">use</span> <span class="constant">Yandex</span>\<span class="constant">Allure</span>\<span class="constant">Adapter</span>\<span class="constant">Annotation</span>\<span class="constant">Parameter</span>;
<span class="keyword">use</span> <span class="constant">Yandex</span>\<span class="constant">Allure</span>\<span class="constant">Adapter</span>\<span class="constant">Model</span>\<span class="constant">ParameterKind</span>;

<span class="keyword">class</span> <span class="class">SomeTest</span> <span class="keyword">extends</span> <span class="constant">PHPUnit_Framework_TestCase</span>
{
    <span class="comment">/**
     * @Parameter(name = &quot;param1&quot;, value = &quot;value1&quot;)
     * @Parameter(name = &quot;param2&quot;, value = &quot;value2&quot;, kind = ParameterKind::SYSTEM_PROPERTY)
     */</span>
    <span class="keyword">public</span> <span class="keyword">function</span> <span class="function">testCase</span>()
    {
        <span class="comment">//Some implementation here...</span>
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_map_test_classes_and_test_methods_to_features_and_stories"><a class="anchor" href="#_map_test_classes_and_test_methods_to_features_and_stories"></a>Map test classes and test methods to features and stories</h5>
<div class="paragraph">
<p>In some development approaches tests are classified by <a href="https://github.com/allure-framework/allure-core/wiki/Glossary#user-story">stories</a>
and <a href="https://github.com/allure-framework/allure-core/wiki/Glossary#feature">features</a>. If you&#8217;re using this then you can
annotate your test with <strong>@Stories</strong> and <strong>@Features</strong> annotations:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="php"><span class="keyword">namespace</span> <span class="constant">Example</span>\<span class="constant">Tests</span>;

<span class="keyword">use</span> <span class="constant">PHPUnit_Framework_TestCase</span>;
<span class="keyword">use</span> <span class="constant">Yandex</span>\<span class="constant">Allure</span>\<span class="constant">Adapter</span>\<span class="constant">Annotation</span>\<span class="constant">Features</span>;
<span class="keyword">use</span> <span class="constant">Yandex</span>\<span class="constant">Allure</span>\<span class="constant">Adapter</span>\<span class="constant">Annotation</span>\<span class="constant">Stories</span>;

<span class="comment">/**
 * @Stories({&quot;story1&quot;, &quot;story2&quot;})
 * @Features({&quot;feature1&quot;, &quot;feature2&quot;, &quot;feature3&quot;})
 */</span>
<span class="keyword">class</span> <span class="class">SomeTest</span> <span class="keyword">extends</span> <span class="constant">PHPUnit_Framework_TestCase</span>
{
    <span class="comment">/**
     * @Features({&quot;feature2&quot;})
     * @Stories({&quot;story1&quot;})
     */</span>
    <span class="keyword">public</span> <span class="keyword">function</span> <span class="function">testCase</span>()
    {
        <span class="comment">//Some implementation here...</span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You will then be able to filter tests by specified features and stories in generated Allure report.</p>
</div>
</div>
<div class="sect4">
<h5 id="_attach_files_to_report"><a class="anchor" href="#_attach_files_to_report"></a>Attach files to report</h5>
<div class="paragraph">
<p>If you wish to <a href="https://github.com/allure-framework/allure-core/wiki/Glossary#attachment">attach some files</a> generated
during PHPUnit run (screenshots, log files, dumps and so on) to report - then you need to use <strong>AttachmentSupport</strong>
trait in your test class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="php"><span class="keyword">namespace</span> <span class="constant">Example</span>\<span class="constant">Tests</span>;

<span class="keyword">use</span> <span class="constant">PHPUnit_Framework_TestCase</span>;
<span class="keyword">use</span> <span class="constant">Yandex</span>\<span class="constant">Allure</span>\<span class="constant">Adapter</span>\<span class="constant">Support</span>\<span class="constant">AttachmentSupport</span>;

<span class="keyword">class</span> <span class="class">SomeTest</span> <span class="keyword">extends</span> <span class="constant">PHPUnit_Framework_TestCase</span>
{

    <span class="keyword">use</span> <span class="constant">AttachmentSupport</span>;

    <span class="keyword">public</span> <span class="keyword">function</span> <span class="function">testCase</span>()
    {
        <span class="comment">//Some implementation here...</span>
        <span class="local-variable">$filePath</span> = <span class="local-variable">$this</span>-&gt;outputSomeContentToTemporaryFile();
        <span class="local-variable">$this</span>-&gt;addAttachment(<span class="local-variable">$filePath</span>, <span class="string"><span class="delimiter">'</span><span class="content">Attachment human-readable name</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">text/plain</span><span class="delimiter">'</span></span>);
        <span class="comment">//Some implementation here...</span>
    }

    <span class="keyword">private</span> <span class="keyword">function</span> <span class="function">outputSomeContentToTemporaryFile</span>()
    {
        <span class="local-variable">$tmpPath</span> = <span class="predefined">tempnam</span>(sys_get_temp_dir(), <span class="string"><span class="delimiter">'</span><span class="content">test</span><span class="delimiter">'</span></span>);
        <span class="predefined">file_put_contents</span>(<span class="local-variable">$tmpPath</span>, <span class="string"><span class="delimiter">'</span><span class="content">Some content to be outputted to temporary file.</span><span class="delimiter">'</span></span>);
        <span class="keyword">return</span> <span class="local-variable">$tmpPath</span>;
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In order to create an <a href="https://github.com/allure-framework/allure-core/wiki/Glossary#attachment">attachment</a> simply call
<strong>AttachmentSupport::addAttachment()</strong> method. This method accepts attachment type, human-readable name and a string
either storing full path to the file we need to attach or file contents.</p>
</div>
</div>
<div class="sect4">
<h5 id="_divide_test_methods_into_steps"><a class="anchor" href="#_divide_test_methods_into_steps"></a>Divide test methods into steps</h5>
<div class="paragraph">
<p>Allure framework also supports very useful feature called <a href="https://github.com/allure-framework/allure-core/wiki/Glossary#test-step">steps</a>.
Consider a test method which has complex logic inside and several assertions. When an exception is thrown or one of
assertions fails sometimes it&#8217;s very difficult to determine which one caused the failure. Allure steps allow to divide
test method logic into several isolated pieces having independent run statuses such as <strong>passed</strong> or <strong>failed</strong>. This
allows to have much more cleaner understanding of what really happens. In order to use steps simply import
<strong>StepSupport</strong> trait in your test class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="php"><span class="keyword">namespace</span> <span class="constant">Example</span>\<span class="constant">Tests</span>;

<span class="keyword">use</span> <span class="constant">PHPUnit_Framework_TestCase</span>;
<span class="keyword">use</span> <span class="constant">Yandex</span>\<span class="constant">Allure</span>\<span class="constant">Adapter</span>\<span class="constant">Support</span>\<span class="constant">StepSupport</span>;

<span class="keyword">class</span> <span class="class">SomeTest</span> <span class="keyword">extends</span> <span class="constant">PHPUnit_Framework_TestCase</span>
{

    <span class="keyword">use</span> <span class="constant">StepSupport</span>;

    <span class="keyword">public</span> <span class="keyword">function</span> <span class="function">testCase</span>()
    {
        <span class="comment">//Some implementation here...</span>
        <span class="local-variable">$this</span>-&gt;executeStep(<span class="string"><span class="delimiter">&quot;</span><span class="content">This is step one</span><span class="delimiter">&quot;</span></span>, <span class="keyword">function</span> () {
            <span class="local-variable">$this</span>-&gt;stepOne();
        });

        <span class="local-variable">$this</span>-&gt;executeStep(<span class="string"><span class="delimiter">&quot;</span><span class="content">This is step two</span><span class="delimiter">&quot;</span></span>, <span class="keyword">function</span> () {
            <span class="local-variable">$this</span>-stepTwo();
        });

        <span class="local-variable">$this</span>-&gt;executeStep(<span class="string"><span class="delimiter">&quot;</span><span class="content">This is step three</span><span class="delimiter">&quot;</span></span>, <span class="keyword">function</span> () {
            <span class="local-variable">$this</span>-&gt;stepThree(<span class="string"><span class="delimiter">'</span><span class="content">someArgument</span><span class="delimiter">'</span></span>);
        });
        <span class="comment">//Some implementation here...</span>
    }

    <span class="keyword">private</span> <span class="keyword">function</span> <span class="function">stepOne</span>()
    {
        <span class="comment">//Some implementation here...</span>
    }

    <span class="keyword">private</span> <span class="keyword">function</span> <span class="function">stepTwo</span>()
    {
        <span class="comment">//Some implementation here...</span>
    }

    <span class="keyword">private</span> <span class="keyword">function</span> <span class="function">stepThree</span>(<span class="local-variable">$argument</span>)
    {
        <span class="comment">//Some implementation here...</span>
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The entire test method execution status will depend on every step but information about steps status will be stored separately.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_allurecodeception"><a class="anchor" href="#_allurecodeception"></a>10.2. ALLURECodeception</h3>
<div class="paragraph">
<p>This is an official <a href="http://codeception.com/">Codeception</a> adapter for Allure Framework.</p>
</div>
<div class="sect3">
<h4 id="_what_is_this_for_2"><a class="anchor" href="#_what_is_this_for_2"></a>10.2.1. What is this for?</h4>
<div class="paragraph">
<p>The main purpose of this adapter is to accumulate information about your tests and write it out to a set of XML
files: one for each test class. This adapter only generates XML files containing information about tests.
See <a href="https://github.com/allure-framework/allure-core/wiki#generating-report">wiki section</a> on how to generate report.</p>
</div>
</div>
<div class="sect3">
<h4 id="_example_project_2"><a class="anchor" href="#_example_project_2"></a>10.2.2. Example project</h4>
<div class="paragraph">
<p>Example project is located at: <a href="https://github.com/allure-examples/allure-codeception-example" class="bare">https://github.com/allure-examples/allure-codeception-example</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_installation_and_usage_2"><a class="anchor" href="#_installation_and_usage_2"></a>10.2.3. Installation and Usage</h4>
<div class="paragraph">
<p>In order to use this adapter you need to add a new dependency to your <strong>composer.json</strong> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
    <span class="key"><span class="delimiter">&quot;</span><span class="content">require</span><span class="delimiter">&quot;</span></span>: {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">php</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">&gt;=5.4.0</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">allure-framework/allure-codeception</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">~1.1.0</span><span class="delimiter">&quot;</span></span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To enable this adapter in Codeception tests simply put it in "enabled" extensions section of <strong>codeception.yml</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yml"><span class="key">extensions</span>:
    <span class="key">enabled</span>:
        - <span class="string"><span class="content">Yandex\Allure\Adapter\AllureAdapter</span></span>
    <span class="key">config</span>:
        <span class="error">Yandex\Allure\Adapter\AllureAdapter</span>:
            <span class="key">deletePreviousResults</span>: <span class="string"><span class="content">false</span></span>
            <span class="key">outputDirectory</span>: <span class="string"><span class="content">allure-results</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>deletePreviousResults</code> will clear all <code>.xml</code> files from output directory
(this behavior may change to complete cleanup later). It is set to <code>false</code> by default.</p>
</div>
<div class="paragraph">
<p><code>outputDirectory</code> is used to store Allure results and will be calculated relatively to
Codeception output directory (also known as <code>paths: log</code> in codeception.yml) unless you specify
an absolute path. You can traverse up using <code>..</code> as usual. <code>outputDirectory</code> defaults to <code>allure-results</code>.</p>
</div>
<div class="paragraph">
<p>To generate report from your favourite terminal, <a href="https://github.com/allure-framework/allure-cli#installation">install</a>
 allure-cli and run following command (assuming you&#8217;re in project root and using default configuration):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">allure generate --report-version 1.4.5 --report-path tests/_output/allure-report -- tests/_output/allure-results</code></pre>
</div>
</div>
<div class="paragraph">
<p>Report will be generated in <code>tests/_output/allure-report</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_main_features_2"><a class="anchor" href="#_main_features_2"></a>10.2.4. Main features</h4>
<div class="paragraph">
<p>See respective <a href="https://github.com/allure-framework/allure-phpunit#advanced-features">PHPUnit</a> section.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__net"><a class="anchor" href="#__net"></a>11. .Net</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_mstest"><a class="anchor" href="#_mstest"></a>11.1. MSTest</h3>
<div class="paragraph">
<p><strong>MSTestAllureAdapter</strong> allows you convert an MSTest trx file to the XMLs from which an Allure report can be generated.</p>
</div>
<div class="paragraph">
<p>Because MSTest does not have an extension or hook mechanism this adapter cannot run as part of MSTest but instead it converts the resulting trx file to the xml format expected by allure.</p>
</div>
<div class="paragraph">
<p>It is a .NET/Mono based console application.</p>
</div>
<div class="sect3">
<h4 id="_usage_5"><a class="anchor" href="#_usage_5"></a>11.1.1. Usage</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">MSTestAllureAdapter.Console.exe &lt;TRX file&gt; [output target dir]</code></pre>
</div>
</div>
<div class="paragraph">
<p>If '[output target dir]' is missing the reslts are saved in the current directory in a folder named 'results'.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ mono MSTestAllureAdapter.Console.exe sample.trx</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will generate the xml files from which the allure report can be created based upon the 'sample.trx' file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ mono MSTestAllureAdapter.Console.exe sample.trx output-xmls</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will generate the xml files from which the allure report can be created in a folder named 'output-xmls' based upon the 'sample.trx' file.</p>
</div>
<div class="paragraph">
<p>If the target directory does not exists it is created.</p>
</div>
<div class="paragraph">
<p>To generate a report using <a href="https://github.com/allure-framework/allure-cli/releases/tag/allure-cli-2.1">allure-cli</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ allure generate output-xmls -v 1.4.0</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_nunit"><a class="anchor" href="#_nunit"></a>11.2. NUnit</h3>
<div class="sect3">
<h4 id="_installation_and_usage_3"><a class="anchor" href="#_installation_and_usage_3"></a>11.2.1. Installation and Usage</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download NUnit <strong>2.6.3</strong> or <strong>2.6.4</strong> from <a href="http://www.nunit.org/">official site</a>;</p>
</li>
<li>
<p>Download latest release from <a href="https://github.com/allure-framework/allure-nunit/releases">allure-nunit2 releases</a> for
corresponding version (version specified in parentheses);</p>
</li>
<li>
<p>Unpack binaries to <strong>%NUnit_installation_directory%\bin\addins</strong>;</p>
</li>
<li>
<p><strong>NOTE:</strong> addin will NOT be visible in <strong>Tools &#8594; Addins..</strong> because it&#8217;s built against <strong>.NET 4.0</strong>;</p>
</li>
<li>
<p>In <strong>%NUnit_installation_directory%\bin\addins\config.xml</strong> specify ABSOLUTE path to any folder (this folder will be created automatically) where <strong>xml</strong> files will be generated (e.g. <strong>&lt;results-path&gt;C:\test-results\AllureResults&lt;/results-path&gt;</strong> or <strong>&lt;results-path&gt;/home/user/test-results/AllureResults&lt;/results-path&gt;</strong>);</p>
</li>
<li>
<p>You can also specify in configuration whether you want to take screenshots after failed tests and whether you want to have test output to be written to attachments.</p>
</li>
<li>
<p>Run your tests with <strong>NUnit GUI</strong> or <strong>nunit-console</strong> using .NET 4.0 (e.g. nunit-console YourAssembly.dll /framework=net-4.0);</p>
</li>
<li>
<p>After all tests finish you&#8217;ll see new folder that you specified on step 5 with generated <strong>xml</strong> files;</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_how_to_generate_report_3"><a class="anchor" href="#_how_to_generate_report_3"></a>11.2.2. How to generate report</h4>
<div class="paragraph">
<p>This adapter only generates XML files containing information about tests. See
<a href="https://github.com/allure-framework/allure-core/wiki#generating-report">wiki section</a> on how to generate report.</p>
</div>
</div>
<div class="sect3">
<h4 id="_what_about_nunit_3"><a class="anchor" href="#_what_about_nunit_3"></a>11.2.3. What about NUnit 3?</h4>
<div class="paragraph">
<p>It&#8217;s still in alpha-stage, too early to develop an adapter for it. Adapter for NUnit 3 will be located in it&#8217;s own repository.</p>
</div>
</div>
<div class="sect3">
<h4 id="_further_reading"><a class="anchor" href="#_further_reading"></a>11.2.4. Further reading</h4>
<div class="ulist">
<ul>
<li>
<p><a href="http://ilya-murzinov.github.io/articles/allure-csharp/)">Article</a> about configuring the adapter</p>
</li>
<li>
<p><a href="https://github.com/allure-framework/allure-csharp-commons/wiki">Allure NUnit Wiki</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_scala"><a class="anchor" href="#_scala"></a>12. Scala</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_scalatest"><a class="anchor" href="#_scalatest"></a>12.1. ScalaTest</h3>
<div class="paragraph">
<p>This adapter allows to retrieve test execution data from <a href="http://www.scalatest.org">ScalaTest</a> framework and convert it
to the form suitable for <a href="https://github.com/allure-framework/allure-core/wiki#generating-report">Allure report generation</a>.</p>
</div>
<div class="sect3">
<h4 id="_example_project_3"><a class="anchor" href="#_example_project_3"></a>12.1.1. Example project</h4>
<div class="paragraph">
<p>Example project is located at: <a href="https://github.com/allure-framework/allure-scalatest-example" class="bare">https://github.com/allure-framework/allure-scalatest-example</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_installation_configuration_and_usage"><a class="anchor" href="#_installation_configuration_and_usage"></a>12.1.2. Installation, Configuration and Usage</h4>
<div class="paragraph">
<p><strong>In order to use this adapter you need to have JDK 1.7+ installed.</strong> To enabled adapter simply add the following
dependency to build.sbt:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">libraryDependencies += &quot;ru.yandex.qatools.allure&quot; % &quot;allure-scalatest_2.10&quot; % &quot;1.4.0-SNAPSHOT&quot;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then attach <strong>AllureReporter</strong> in build.sbt:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">testOptions in Test ++= Seq(
    Tests.Argument(TestFrameworks.ScalaTest, &quot;-oD&quot;),
    Tests.Argument(TestFrameworks.ScalaTest, &quot;-C&quot;, &quot;ru.yandex.qatools.allure.scalatest.AllureReporter&quot;)
)</code></pre>
</div>
</div>
<div class="paragraph">
<p>When using this adapter you can encounter the following warning:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[ScalaTest-dispatcher] WARN ru.yandex.qatools.allure.utils.AllureResultsUtils - Can't set "com.sun.xml.bind.marshaller.CharacterEscapeHandler" property to given marshaller
javax.xml.bind.PropertyException: name: com.sun.xml.bind.marshaller.CharacterEscapeHandler value: ru.yandex.qatools.allure.utils.BadXmlCharacterEscapeHandler@5e652b7b
    at javax.xml.bind.helpers.AbstractMarshallerImpl.setProperty(AbstractMarshallerImpl.java:358)
    at com.sun.xml.internal.bind.v2.runtime.MarshallerImpl.setProperty(MarshallerImpl.java:527)
    at ru.yandex.qatools.allure.utils.AllureResultsUtils.setPropertySafely(AllureResultsUtils.java:199)
    at ru.yandex.qatools.allure.utils.AllureResultsUtils.marshaller(AllureResultsUtils.java:171)
    at ru.yandex.qatools.allure.utils.AllureResultsUtils.writeTestSuiteResult(AllureResultsUtils.java:148)
    at ru.yandex.qatools.allure.Allure.fire(Allure.java:180)
    at ru.yandex.qatools.allure.scalatest.AllureReporter.testSuiteFinished(AllureReporter.scala:74)
    at ru.yandex.qatools.allure.scalatest.AllureReporter.apply(AllureReporter.scala:46)
    at org.scalatest.DispatchReporter$Propagator$$anonfun$run$1.apply(DispatchReporter.scala:240)
    at org.scalatest.DispatchReporter$Propagator$$anonfun$run$1.apply(DispatchReporter.scala:239)
    at scala.collection.immutable.List.foreach(List.scala:318)
    at org.scalatest.DispatchReporter$Propagator.run(DispatchReporter.scala:239)
    at java.lang.Thread.run(Thread.java:744)</pre>
</div>
</div>
<div class="paragraph">
<p>This is related to incompatible JAXB versions used in Allure and Scalatest so you can safely ignore it.</p>
</div>
</div>
<div class="sect3">
<h4 id="_how_to_generate_report_4"><a class="anchor" href="#_how_to_generate_report_4"></a>12.1.3. How to generate report</h4>
<div class="paragraph">
<p>This adapter only generates XML files containing information about tests. See [wiki section]
(<a href="https://github.com/allure-framework/allure-core/wiki#generating-report" class="bare">https://github.com/allure-framework/allure-core/wiki#generating-report</a>) on how to generate report.</p>
</div>
</div>
<div class="sect3">
<h4 id="_publishing_to_sonatype_adapter_development"><a class="anchor" href="#_publishing_to_sonatype_adapter_development"></a>12.1.4. Publishing to Sonatype (adapter development)</h4>
<div class="paragraph">
<p>A publicly available (on public keyserver) GPG key should be present in you default GPG keyring. You need to create
<strong>sonatype.sbt</strong> file in <strong>~/.sbt/&lt;sbt-version&gt;/</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">credentials += Credentials(&quot;Sonatype Nexus Repository Manager&quot;,
                           &quot;oss.sonatype.org&quot;,
                           &quot;login&quot;,
                           &quot;password&quot;)</code></pre>
</div>
</div>
<div class="paragraph">
<p>To publish simply run:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ sbt publish-signed</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_specs"><a class="anchor" href="#_specs"></a>12.2. Specs</h3>
<div class="paragraph">
<p>This adapter allows to retrieve test execution data from Specs framework and convert it to the form suitable for Allure
report generation.</p>
</div>
<div class="sect3">
<h4 id="_example_project_4"><a class="anchor" href="#_example_project_4"></a>12.2.1. Example project</h4>
<div class="paragraph">
<p>Example project is located at: <a href="https://github.com/allure-framework/allure-specs-example" class="bare">https://github.com/allure-framework/allure-specs-example</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_usage_6"><a class="anchor" href="#_usage_6"></a>12.2.2. Usage</h4>
<div class="paragraph">
<p><strong>In order to use this adapter you need to have JDK 1.7+ installed.</strong> To enabled adapter simply add the following
 dependency to build.sbt:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">libraryDependencies += &quot;ru.yandex.qatools.allure&quot; % &quot;allure-specs2_2.10&quot; % &quot;1.4.0-SNAPSHOT&quot;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then attach <strong>AllureReporter</strong> in build.sbt:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">testOptions in Test ++= Seq(
  Tests.Argument(TestFrameworks.Specs2, &quot;notifier&quot;, &quot;ru.yandex.qatools.allure.specs2.AllureNotifier&quot;)
)</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_reporting"><a class="anchor" href="#_reporting"></a>13. Reporting</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once the XML files have been created by the adapter, you can generate an Allure report using one of the following tools</p>
</div>
<div class="sect2">
<h3 id="_commandline"><a class="anchor" href="#_commandline"></a>13.1. Commandline</h3>
<div class="paragraph">
<p>Using Allure command line tool you can generate the report from existing Allure results.</p>
</div>
<div class="sect3">
<h4 id="_installation_9"><a class="anchor" href="#_installation_9"></a>13.1.1. Installation</h4>
<div class="paragraph">
<p>Allure CLI is a Java application so it&#8217;s available for all platforms. You have to manually install Java 1.8 before using Allure CLI</p>
</div>
<div class="sect4">
<h5 id="_mac_os"><a class="anchor" href="#_mac_os"></a>Mac OS</h5>
<div class="paragraph">
<p>You can install Allure CLI via <a href="http://brew.sh">Homebrew</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ brew tap qameta/allure
$ brew install allure</code></pre>
</div>
</div>
<div class="paragraph">
<p>After installation you will have <strong>allure</strong> command available.
Read more about <a href="https://github.com/qameta/homebrew-allure">Allure Homebrew Formula</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_debian"><a class="anchor" href="#_debian"></a>Debian</h5>
<div class="paragraph">
<p>For Debian-based repositories we provide a PPA so the installation is straightforward:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ sudo apt-add-repository ppa:yandex-qatools/allure-framework
$ sudo apt-get update
$ sudo apt-get install allure-commandline</code></pre>
</div>
</div>
<div class="paragraph">
<p>Supported distributions are: <a href="http://releases.ubuntu.com/14.04">Trusty</a> and <a href="http://releases.ubuntu.com/12.04">Precise</a>.
After installation you will have allure command available.
Read more about <a href="https://github.com/allure-framework/allure-debian">Allure Debian Package</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_windows_and_other_unix"><a class="anchor" href="#_windows_and_other_unix"></a>Windows and other Unix</h5>
<div class="ulist">
<ul>
<li>
<p>Download the latest version as zip archive from <a href="https://bintray.com/qameta/generic/allure2">bintray</a>.</p>
</li>
<li>
<p>Unpack the archive to <strong>allure-commandline</strong> directory.</p>
</li>
<li>
<p>Navigate to <strong>bin</strong> directory.</p>
</li>
<li>
<p>Use <strong>allure.bat</strong> for Windows and <strong>allure</strong> for other Unix platforms.</p>
</li>
<li>
<p>Add <strong>allure</strong> to system PATH.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_configuration_3"><a class="anchor" href="#_configuration_3"></a>13.1.2. Configuration</h4>
<div class="sect4">
<h5 id="_command_line_arguments"><a class="anchor" href="#_command_line_arguments"></a>Command line arguments</h5>
<div class="paragraph">
<p>There are an options you can use directly from command line. To show them, execute the command</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ allure help</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_usage_7"><a class="anchor" href="#_usage_7"></a>Usage</h5>
<div class="paragraph">
<p>There is few commands available.</p>
</div>
<div class="sect5">
<h6 id="_generate_the_report"><a class="anchor" href="#_generate_the_report"></a>Generate the report</h6>
<div class="paragraph">
<p>To generate the report from existing Allure results you can use the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ allure generate &lt;directory-with-results&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The report will be generated to <strong>allure-report</strong> folder. You can change the destination folder using <strong>-o</strong> flag:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ allure generate &lt;directory-with-results&gt; -o &lt;directory-with-report&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more information use the <strong>allure help generate</strong> command.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_open_the_report"><a class="anchor" href="#_open_the_report"></a>Open the report</h5>
<div class="paragraph">
<p>When the report is generated you can open it in your default system browser. Simply run</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ allure open &lt;directory-with-report&gt;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You can also use <code>allure serve</code> command, to generate the report to temporary folder and open it.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_clean_the_report"><a class="anchor" href="#_clean_the_report"></a>Clean the report</h5>
<div class="paragraph">
<p>If you want to remove the generated report data use <strong>allure report clean</strong> command.</p>
</div>
<div class="paragraph">
<p>By default the report commands will looking for the report in <strong>allure-results</strong> folder.
If you are want to use the report from different location you can use <strong>-o</strong> option.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_jenkins"><a class="anchor" href="#_jenkins"></a>13.2. Jenkins</h3>
<div class="sect3">
<h4 id="_installation_10"><a class="anchor" href="#_installation_10"></a>13.2.1. Installation</h4>
<div class="paragraph">
<p>First part of installation guide concerns global installation of Allure plugin and it&#8217;s
commandline tool. Note that unlike to previous versions Jenkins Allure Plugin since 2.11
does not require to configure Jenkins Content Security Policy properties.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Install the latest version of <a href="https://wiki.jenkins-ci.org/display/JENKINS/Allure+Plugin">Allure Plugin</a>
from "Plugin Manager" page.</p>
</li>
<li>
<p>Open Plugin Advanced Settings (at <strong>&lt;your_jenkins_host&gt;/pluginManager/advanced</strong>).</p>
</li>
<li>
<p>Click "Check Updates" button on the bottom right corner of the page.</p>
</li>
<li>
<p>Configure Allure Commandline from "Global Tools Configuration".</p>
</li>
</ol>
</div>
<div class="sect4">
<h5 id="_build_agents_have_connection_to_maven_repository_with_allure_distribution"><a class="anchor" href="#_build_agents_have_connection_to_maven_repository_with_allure_distribution"></a>Build agents have connection to Maven repository with Allure distribution</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open "Global Tool Configuration".</p>
</li>
<li>
<p>Find "Allure Commandline" configuration block.</p>
<div class="imageblock">
<div class="content">
<img src="images/jenkins_plugin_find_cmd.jpeg" alt="Find Allure Commandline">
</div>
</div>
</li>
<li>
<p>Click "Add Allure Commandline" button.</p>
<div class="imageblock">
<div class="content">
<img src="images/jenkins_plugin_install.jpeg" alt="Install Allure Commandline">
</div>
</div>
</li>
<li>
<p>Fill the name and choose the version in the "From Maven Central" dropdown.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_downloading_and_installing_allure_from_archive"><a class="anchor" href="#_downloading_and_installing_allure_from_archive"></a>Downloading and installing Allure from archive</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Go to the
<a href="https://bintray.com/qameta/generic/allure2">Bintray page</a>, click the latest released version, and download the allure-[version].zip file</p>
</li>
<li>
<p>Upload downloaded file to any file server. Build agents must have access to the file by url.</p>
</li>
<li>
<p>Open "Global Tool Configuration". and find "Allure Commandline" configuration block.</p>
</li>
<li>
<p>Click "Add Allure Commandline" button.</p>
<div class="imageblock">
<div class="content">
<img src="images/jenkins_plugin_install_cmd.jpeg" alt="Install Allure Commandline">
</div>
</div>
</li>
<li>
<p>Click "Add Installer" and choose "Extract <strong>.zip/</strong>.tar.gz".</p>
<div class="imageblock">
<div class="content">
<img src="images/jenkins_plugin_add_installer.jpeg" alt="Install Allure Commandline">
</div>
</div>
</li>
<li>
<p>Fill the name and download url. Mind that Jenkins will check the provided url immediately and show a warning
if it&#8217;s not available.</p>
<div class="imageblock">
<div class="content">
<img src="images/jenkins_plugin_fill_name_and_url.jpeg" alt="Install Allure Commanline">
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_configuration_4"><a class="anchor" href="#_configuration_4"></a>13.2.2. Configuration</h4>
<div class="sect4">
<h5 id="_job_configuration"><a class="anchor" href="#_job_configuration"></a>Job configuration</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open job configuration page.</p>
</li>
<li>
<p>Ensure that your build generates some data in one of the formats digestible for Allure Commandline tool.</p>
</li>
<li>
<p>Add <strong>Allure Report</strong> post build action.</p>
<div class="imageblock">
<div class="content">
<img src="images/jenkins_plugin_add_allure_report.jpeg" alt="Select "Allure Report" post-build action">
</div>
</div>
</li>
<li>
<p>Configure the Allure Report.</p>
<div class="imageblock">
<div class="content">
<img src="images/jenkins_plugin_configure_allure_report.jpeg" alt="install allure commanline">
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_test_management_and_bug_tracking_systems_integrations"><a class="anchor" href="#_test_management_and_bug_tracking_systems_integrations"></a>Test Management and Bug-Tracking systems integrations</h5>
<div class="paragraph">
<p>Currently all versions of Allure support setting of url patterns to make direct links
to your TMS or bug-tracker available from the report. (Learn more about this integrations link-[here])
It may be done by setting special system properties:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>allure.tests.management.pattern</strong> property:</p>
<div class="imageblock">
<div class="content">
<img src="images/jenkins_plugin_setup_tms.jpeg" alt="Filling TMS link property">
</div>
</div>
</li>
<li>
<p><strong>allure.issues.tracker.pattern</strong> property:</p>
<div class="imageblock">
<div class="content">
<img src="images/jenkins_plugin_setup_tracker.jpeg" alt="Filling bug-tracker link property">
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>in both patterns <strong>%s</strong> will be substituted for a string value obtained from the label added to test case.</p>
</div>
</div>
<div class="sect4">
<h5 id="_advanced_options_2"><a class="anchor" href="#_advanced_options_2"></a>Advanced Options</h5>
<div class="paragraph">
<p>"Advanced&#8230;&#8203;" button provides you with several additional settings:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>jdk to use</p>
</li>
<li>
<p>build policy value</p>
</li>
<li>
<p>include environment flag  - <strong>currently is not implemented</strong></p>
</li>
<li>
<p>report path -
You can specify the report output folder. Currently it is strictly NOT recommend to modify this value.
You will lose the previous history information when change this value.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/jenkins_plugin_advanced_options.jpeg" alt="Allure build step advanced options">
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_usage_8"><a class="anchor" href="#_usage_8"></a>13.2.3. Usage</h4>
<div class="paragraph">
<p>When build is finished a link to Allure report will appear on the build page and also in the build history entries:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/jenkins_plugin_allure_sidebar.png" alt="Install Allure Commanline">
</div>
</div>
<div class="paragraph">
<p>Generated Allure report is stored in the artifacts folder of the build and can be processed
the same way as all the other artifacts, or downloaded as .zip archive.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/jenkins_plugin_allure_report.png" alt="install allure commanline">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_history_files"><a class="anchor" href="#_history_files"></a>13.2.4. History files</h4>
<div class="paragraph">
<p>Allure since version 2 supports history for tests in the report [Learn more about History plugin].
At the every report generation during the build Jenkins Allure Plugin will try to access working directory of the previous
build and copy contents of <code>allure-report\history</code> folder to the current report contents. At the moment history entry for
test case stores information about up to 5 previous results.</p>
</div>
</div>
<div class="sect3">
<h4 id="_extensions"><a class="anchor" href="#_extensions"></a>13.2.5. Extensions</h4>
<div class="sect4">
<h5 id="_job_dsl_plugin"><a class="anchor" href="#_job_dsl_plugin"></a>Job DSL Plugin</h5>
<div class="paragraph">
<p>The <a href="https://github.com/jenkinsci/job-dsl-plugin/wiki">job-dsl-plugin</a> allows the programmatic creation of projects using a DSL.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="comment">// default</span>
publishers {
    allure([<span class="string"><span class="delimiter">'</span><span class="content">allure-results</span><span class="delimiter">'</span></span>])
}

<span class="comment">// advanced</span>
publishers {
    allure([<span class="string"><span class="delimiter">'</span><span class="content">first-results</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">second-results</span><span class="delimiter">'</span></span>]) {
        jdk(<span class="string"><span class="delimiter">'</span><span class="content">java7</span><span class="delimiter">'</span></span>)
        commandline(<span class="string"><span class="delimiter">'</span><span class="content">1.4.18</span><span class="delimiter">'</span></span>)

        buildFor(<span class="string"><span class="delimiter">'</span><span class="content">UNSTABLE</span><span class="delimiter">'</span></span>)
        includeProperties(<span class="predefined-constant">true</span>)
        property(<span class="string"><span class="delimiter">'</span><span class="content">allure.issues.tracker.pattern</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">http://tracker.company.com/%s</span><span class="delimiter">'</span></span>)
        property(<span class="string"><span class="delimiter">'</span><span class="content">allure.tests.management.pattern</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">http://tms.company.com/%s</span><span class="delimiter">'</span></span>)
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_pipeline_plugin"><a class="anchor" href="#_pipeline_plugin"></a>Pipeline Plugin</h5>
<div class="paragraph">
<p>To add Allure report generation from pipeline steps one can use Pipeline Syntax builder
to generate Allure step code. Note, that <code>commandline</code> parameter points to Allure Commandline
installation name to use, if it is not provided, plugin will pick first suitable installation found automatically.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/jenkins_plugin_pipeline_step_builder.png" alt="Pipeline step generation">
</div>
</div>
<div class="paragraph">
<p>which gives a pipeline script:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">node {
<span class="comment">// script body</span>

allure([
         <span class="key">includeProperties</span>: <span class="predefined-constant">false</span>,
         <span class="key">jdk</span>: <span class="string"><span class="delimiter">'</span><span class="delimiter">'</span></span>,
         <span class="key">properties</span>: [[<span class="key">key</span>: <span class="string"><span class="delimiter">'</span><span class="content">allure.issues.tracker.pattern</span><span class="delimiter">'</span></span>, <span class="key">value</span>: <span class="string"><span class="delimiter">'</span><span class="content">http://tracker.company.com/%s</span><span class="delimiter">'</span></span>]],
         <span class="key">reportBuildPolicy</span>: <span class="string"><span class="delimiter">'</span><span class="content">ALWAYS</span><span class="delimiter">'</span></span>,
         <span class="key">results</span>: [[<span class="key">path</span>: <span class="string"><span class="delimiter">'</span><span class="content">target/allure-results</span><span class="delimiter">'</span></span>], [<span class="key">path</span>: <span class="string"><span class="delimiter">'</span><span class="content">other_target/allure-results</span><span class="delimiter">'</span></span>]]
         ])
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To use Allure Report from the pipeline steps one can invoke Allure DSL method as script:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">stage(<span class="string"><span class="delimiter">'</span><span class="content">reports</span><span class="delimiter">'</span></span>) {
    steps {
    script {
            allure([
                    <span class="key">includeProperties</span>: <span class="predefined-constant">false</span>,
                    <span class="key">jdk</span>: <span class="string"><span class="delimiter">'</span><span class="delimiter">'</span></span>,
                    <span class="key">properties</span>: <span class="type">[]</span>,
                    <span class="key">reportBuildPolicy</span>: <span class="string"><span class="delimiter">'</span><span class="content">ALWAYS</span><span class="delimiter">'</span></span>,
                    <span class="key">results</span>: [[<span class="key">path</span>: <span class="string"><span class="delimiter">'</span><span class="content">target/allure-results</span><span class="delimiter">'</span></span>]]
            ])
    }
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_teamcity"><a class="anchor" href="#_teamcity"></a>13.3. TeamCity</h3>
<div class="sect3">
<h4 id="_installation_11"><a class="anchor" href="#_installation_11"></a>13.3.1. Installation</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="https://confluence.jetbrains.com/display/TCD10/Installing+Additional+Plugins">Install Allure TeamCity plugin</a>.</p>
</li>
<li>
<p>Download the latest <code>allure-x.x.zip</code> from (<a href="https://bintray.com/qameta/generic/allure2">latest release</a></p>
</li>
<li>
<p>Copy downloaded file
to the &lt;<a href="https://confluence.jetbrains.com/display/TCD10/TeamCity+Data+Directory">TeamCity Data Directory</a>&gt;/plugins/.tools directory as <code>allure-commandline.zip</code>.
No server restart needed for this step.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_configuration_5"><a class="anchor" href="#_configuration_5"></a>13.3.2. Configuration</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open the build <strong>configuration settings</strong>.</p>
</li>
<li>
<p>Ensure that your build <a href="https://github.com/allure-framework/allure-core/wiki#gathering-information-about-tests)">generates Allure XML files</a>.</p>
</li>
<li>
<p>Go to <strong>Build steps</strong> and add the <strong>Allure Report</strong> build step.</p>
</li>
<li>
<p>(optional) In <strong>Execute step:</strong> select <strong>Even if some of the previous steps failed</strong> to generate report for failing tests as well.</p>
<div class="imageblock">
<div class="content">
<img src="images/teamcity_plugin_add_build_step.png" alt="TeamCity plugin add step">
</div>
</div>
</li>
<li>
<p>Configure the step.</p>
<div class="imageblock">
<div class="content">
<img src="images/teamcity_plugin_configure_build_step.png" alt="TeamCity plugin install">
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>In case you upgrading the Allure TeamCity plugin you need to remove old Allure report generation feature.</p>
</div>
</div>
<div class="sect3">
<h4 id="_usage_9"><a class="anchor" href="#_usage_9"></a>13.3.3. Usage</h4>
<div class="paragraph">
<p>When the build is done you will get Allure Report as a part of build artifacts – simply open the index.html.
image::teamcity_plugin_usage.png[TeamCity plugin usage]</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_bamboo"><a class="anchor" href="#_bamboo"></a>13.4. Bamboo</h3>
<div class="sect3">
<h4 id="_installation_12"><a class="anchor" href="#_installation_12"></a>13.4.1. Installation</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Install <a href="https://confluence.atlassian.com/display/UPM/Installing+add-ons">Allure Plugin</a> from "Plugin Manager Page".</p>
</li>
<li>
<p>You can either:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>download the latest version of allure-commandline.zip from github and extract it on your Bamboo server</p>
</li>
<li>
<p>or allow Bamboo plugin to download Allure binary automatically for you.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Allure Bamboo Plugin will add the new executable server capability upon the installation. However you may decide to
change the Allure version or to have multiple versions of Allure executable.</p>
<div class="paragraph">
<p>To <a href="https://confluence.atlassian.com/bamboo/defining-a-new-executable-capability-289277164.html">define a new executable
capability</a> with using the extraction directory, you need to open "Executables" admin menu item and then select "add an
executable as a server capability" link in the description. You need to select "Allure Report" as a capability type.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/bamboo_add_capability.png" alt="Add capability">
</div>
</div>
<div class="paragraph">
<p>Executable label defines the version of Allure executable, that will be downloaded automatically. Version should be set
at the end of the label name (e.g. "Allure 2.3.1" or "allure 2.4-BETA1").</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_configuration_6"><a class="anchor" href="#_configuration_6"></a>13.4.2. Configuration</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open "Allure Report" administration menu item under "PLANS" group.</p>
<div class="imageblock">
<div class="content">
<img src="images/bamboo_admin_allure_report.png" alt="Allure Report Config">
</div>
</div>
</li>
<li>
<p>Configure "Allure local storage" if necessary. This defines a directory where built Allure reports will be stored.</p>
<div class="paragraph">
<p><strong>Please note</strong> that Allure Bamboo Plugin stores reports on a same filesystem where Bamboo server is running, and
it does not clean the directory automatically. So you might need to configure the removal of the old reports manually.</p>
</div>
</li>
<li>
<p>You may decide to enable Allure Bamboo Plugin for all of your builds. In this case it will be trying to build a
report for every failed build in your Bamboo instance by default. You can always turn it off/on for each particular
plan later:</p>
<div class="imageblock">
<div class="content">
<img src="images/bamboo_plan_configuration.png" alt="Plan configuration">
</div>
</div>
</li>
<li>
<p>You can select different versions of Allure executable on per-plan basis. You may decide to build reports for the
failed builds only (by checking the respective checkbox).</p>
</li>
<li>
<p>If your build plan produces many different types of the artifacts, you may want to select the specific name of the
artifact with the Allure results, which Allure Bamboo plugin will use (by typing it in "Artifact name to use" textbox).
The most common name for this is "allure-results".</p>
</li>
<li>
<p>Ensure that your build <a href="https://github.com/allure-framework/allure-core/wiki#gathering-information-about-tests)">generates Allure result files</a>.</p>
</li>
<li>
<p>Also you should configure the Allure artifacts to be collected by each job. Just add the following artifact definition to the job:</p>
<div class="imageblock">
<div class="content">
<img src="images/bamboo_artifacts_definition.png" alt="Allure Artifacts Definition">
</div>
</div>
</li>
<li>
<p>For each correctly configured plan you should be able to see the "Allure Report" tab in the results:</p>
<div class="imageblock">
<div class="content">
<img src="images/bamboo_allure_tab.png" alt="Allure Report Tab">
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_storing_allure_reports_in_aws_s3"><a class="anchor" href="#_storing_allure_reports_in_aws_s3"></a>13.4.3. Storing Allure reports in AWS S3</h4>
<div class="paragraph">
<p>You may decide to store your artifacts and also Allure reports in Amazon S3 storage, which isn&#8217;t available in Bamboo by
default. However you can enable this feature by adding "-Dbamboo.darkfeature.artifacthandlers=true" to the command line
that you use to start up Bamboo instance. This will give you the ability to configure artifact handlers using
"Artifact handlers" admin menu item and allow to configure AWS S3 as a primary storage for all of your artifacts
(including built Allure reports).</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>"Artifact handlers" dark feature is not officially supported by Atlassian, so you&#8217;d be using it on your own risk.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_troubleshooting"><a class="anchor" href="#_troubleshooting"></a>13.4.4. Troubleshooting</h4>
<div class="sect4">
<h5 id="_no_artifacts_configured"><a class="anchor" href="#_no_artifacts_configured"></a>No artifacts configured</h5>
<div class="paragraph">
<p>If you haven&#8217;t configured Allure artifacts correctly or a build does not generate allure results, you should see the
following error:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/bamboo_no_artifacts.png" alt="Allure no artifacts">
</div>
</div>
</div>
<div class="sect4">
<h5 id="_empty_report_tab"><a class="anchor" href="#_empty_report_tab"></a>Empty report tab</h5>
<div class="paragraph">
<p>If a report has been generated successfully, but later has been removed, you should see the empty report tab.</p>
</div>
</div>
<div class="sect4">
<h5 id="_unknown_error"><a class="anchor" href="#_unknown_error"></a>Unknown error</h5>
<div class="paragraph">
<p>If something went wrong during the Allure report generation, you should see the exception in the Allure tab. This is
the important information if you decide to raise an issue in allure-bamboo issue tracker:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/bamboo_unknown_error.png" alt="Allure unknown error">
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_gradle_5"><a class="anchor" href="#_gradle_5"></a>13.5. Gradle</h3>
<div class="paragraph">
<p>Allure plugin for Gradle allows integration of Allure listeners into TestNG,
 Junit4, Cucumber JVM and Spock frameworks in your Gradle-based projects, and also
provides several tasks for building a single-project or multi-project report.</p>
</div>
<div class="sect3">
<h4 id="_autoconfiguration_for_junit4_and_testng"><a class="anchor" href="#_autoconfiguration_for_junit4_and_testng"></a>13.5.1. Autoconfiguration for Junit4 and TestNG</h4>
<div class="paragraph">
<p>Plugin is able to use Gradle integration for Junit4 and TestNG, so in case you
are using one of this frameworks, configuration will look very simple:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">buildscript {

    repositories {
        jcenter()
    }

    dependencies {
        classpath <span class="string"><span class="delimiter">&quot;</span><span class="content">io.qameta.allure:allure-gradle:2.3</span><span class="delimiter">&quot;</span></span>
    }
}

    plugins {
        id <span class="string"><span class="delimiter">'</span><span class="content">io.qameta.allure</span><span class="delimiter">'</span></span>
    }

    allure {
        version = <span class="string"><span class="delimiter">'</span><span class="content">2.2.1</span><span class="delimiter">'</span></span>
        autoconfigure = <span class="predefined-constant">true</span>
     }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here you will need only two parameters: <code>autoconfigure</code> - it is a flag that enables framework detection.
If you enable it, plugin will automatically add the right listener and a dependency for aspectjweaver
runtime agent and <code>version</code> - parameter that specifies the Allure Commandline to download and build a report with.</p>
</div>
<div class="paragraph">
<p>After you apply automatic configuration, Allure results obtained after the <code>test</code> task execution will
be stored in <code>build/allure-results</code>.</p>
</div>
<div class="paragraph">
<p>To build a report execute the <code>allure</code> Gradle task:</p>
</div>
<div class="paragraph">
<p><code>./gradlew clean build allure</code></p>
</div>
<div class="paragraph">
<p>Note, that if you don&#8217;t specify the version, plugin will not create any Allure-related tasks.
So if you only want to create results for further processing, omit the <code>version</code> parameter.</p>
</div>
</div>
<div class="sect3">
<h4 id="_configuration_for_a_specific_testing_framework"><a class="anchor" href="#_configuration_for_a_specific_testing_framework"></a>13.5.2. Configuration for a specific testing framework</h4>
<div class="paragraph">
<p>Plugin provides a configuration closure parameter for 4 different frameworks: Junit4, TestNG,
Cucumber JVM and Spock.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s see how the Spock-based build script will look:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">buildscript {

    repositories {
        jcenter()
    }

    dependencies {
        classpath <span class="string"><span class="delimiter">&quot;</span><span class="content">io.qameta.allure:allure-gradle:2.3</span><span class="delimiter">&quot;</span></span>
    }
}

plugins {
        id <span class="string"><span class="delimiter">'</span><span class="content">io.qameta.allure</span><span class="delimiter">'</span></span>
}

allure {
    version = <span class="string"><span class="delimiter">'</span><span class="content">2.2.1</span><span class="delimiter">'</span></span>
    aspectjweaver = <span class="predefined-constant">true</span>

    useSpock {
        version = <span class="string"><span class="delimiter">'</span><span class="content">2.0-BETA12</span><span class="delimiter">'</span></span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here <code>aspectjweaver</code> flag is used to add a corresponding dependency for runtime agent to your project, and <code>useSpock</code>
configures a version for Allure Spock adaptor dependency.</p>
</div>
</div>
<div class="sect3">
<h4 id="_full_configuration"><a class="anchor" href="#_full_configuration"></a>13.5.3. Full configuration</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">allure {
    version = <span class="string"><span class="delimiter">'</span><span class="content">2.2.1</span><span class="delimiter">'</span></span>

    autoconfigure = <span class="predefined-constant">false</span>

    <span class="predefined-type">String</span> allureJavaVersion = <span class="string"><span class="delimiter">'</span><span class="content">2.0-BETA9</span><span class="delimiter">'</span></span>

    aspectjweaver = <span class="predefined-constant">true</span>

    <span class="type">boolean</span> clean = <span class="predefined-constant">true</span>

    resultsDir = file(<span class="string"><span class="delimiter">'</span><span class="content">/path/to/project/module/build/allure-results</span><span class="delimiter">'</span></span>)

    reportDir = file(<span class="string"><span class="delimiter">'</span><span class="content">build/reports/allure-report</span><span class="delimiter">'</span></span>)

    <span class="predefined-type">String</span> configuration = <span class="string"><span class="delimiter">'</span><span class="content">testCompile</span><span class="delimiter">'</span></span>

    useJunit4 {
       version = <span class="string"><span class="delimiter">'</span><span class="content">2.0-BETA12</span><span class="delimiter">'</span></span>
    }

    useTestNG {
       version = <span class="string"><span class="delimiter">'</span><span class="content">2.0-BETA12</span><span class="delimiter">'</span></span>
       spi-off = <span class="predefined-constant">false</span>
    }

    useCucumberJVM {
       version = <span class="string"><span class="delimiter">'</span><span class="content">2.0-BETA12</span><span class="delimiter">'</span></span>
    }

    useSpock {
       version = <span class="string"><span class="delimiter">'</span><span class="content">2.0-BETA12</span><span class="delimiter">'</span></span>
    }

    downloadLink = <span class="string"><span class="delimiter">'</span><span class="content">https://dl.bintray.com/qameta/generic/io/qameta/allure/allure/2.2.1/allure-2.2.1.zip</span><span class="delimiter">'</span></span>
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>boolean</strong> <code>autoconfigure</code> (<code>default = <strong>false</strong></code>) - a flag to specify usage of autoconfiguration, plugin
will attempt to find test platform integration provided by Gradle (currently works only for Junit4 and TestNG).</p>
</li>
<li>
<p><strong>boolean</strong> <code>aspectjveaver</code> - a flag to specify inclusion/exclusion of aspectjweaver runtime agent</p>
</li>
<li>
<p><strong>boolean</strong> <code>clean</code> (<code>default = <strong>true</strong></code>) - enable <code>--clean</code> option for the Allure commandline tool, <code>true</code> by default.</p>
</li>
<li>
<p><strong>String</strong> <code>version</code> - specify report generator version, note, this property is necessary to enable <code>allure</code> and
<code>aggregatedAllureReport</code> tasks</p>
</li>
<li>
<p><strong>String</strong> <code>configuration</code> (<code>default = <strong>'testCompile'</strong></code>) - configuration name where to bind plugin dependencies</p>
</li>
<li>
<p><strong>File</strong> <code>resultsDir</code> - directory for Allure results in the current project, <code>build\allure-results</code> by default</p>
</li>
<li>
<p><strong>File</strong> <code>reportDir</code> - directory for Allure report in the current project, <code>build\reports\allure-report</code> by default</p>
</li>
<li>
<p><strong>String</strong> <code>allureJavaVersion</code> (<code>default = <strong>'2.0-BETA9'</strong></code>) - version of allure java release to be used for
autoconfiguration</p>
</li>
<li>
<p><strong>String</strong> <code>downloadLink</code> - custom location of Allure distribution to download from, by default allure is downloaded
from bintray by specified version and installed into <code>.allure</code> folder in the project root.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_tasks"><a class="anchor" href="#_tasks"></a>13.5.4. Tasks</h4>
<div class="paragraph">
<p>You can use some of the tasks that are defined in the plugin for your own convenience.</p>
</div>
<div class="sect4">
<h5 id="_allure"><a class="anchor" href="#_allure"></a>allure</h5>
<div class="paragraph">
<p>Creates Allure report for a given list of input directories</p>
</div>
<div class="paragraph">
<p>Parameters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>File</strong> <code>reportDir</code> - destination directory for Allure report</p>
</li>
<li>
<p><strong>boolean</strong> <code>clean</code> - enable <code>--clean</code> option for the Allure commandline tool</p>
</li>
<li>
<p><strong>String</strong> <code>version</code> - Allure Commandline version, will attempt to discover an installation of
commandline with this version in the <code>.allure</code> folder in the root of your project.</p>
</li>
<li>
<p><strong>List&lt;File&gt;</strong> <code>resultsDirs</code> - list of directories with Allure results.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>So to generate an Allure report for a multi-module project you will have to define your own
<code>allureAggregatedReport</code> task, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">plugins {
    id <span class="string"><span class="delimiter">'</span><span class="content">io.qameta.allure</span><span class="delimiter">'</span></span>
}

allprojects { project -&gt;

    apply <span class="key">plugin</span>: <span class="string"><span class="delimiter">'</span><span class="content">io.qameta.allure</span><span class="delimiter">'</span></span>

    allure {
        version = <span class="string"><span class="delimiter">'</span><span class="content">2.1.0</span><span class="delimiter">'</span></span>
    }
}

<span class="keyword">import</span> <span class="include">io.qameta.allure.gradle.task.AllureReport</span>

task allureAggregatedReport(<span class="key">type</span>: AllureReport) {
    resultsDirs = subprojects.allure.resultsDir
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>And invoke it like: <code>./gradlew clean build allureAggregatedReport</code></p>
</div>
</div>
<div class="sect4">
<h5 id="_downloadallure"><a class="anchor" href="#_downloadallure"></a>downloadAllure</h5>
<div class="paragraph">
<p>Downloads Allure Commandline from provided url and saves it into <code>.allure</code> folder in your project&#8217;s root
directory.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>String</strong> <code>src</code> - url specifying download location for Allure Commandline.</p>
</li>
<li>
<p><strong>String</strong> <code>version</code> - version parameter is needed to find the right version of Allure in the downloaded
archive.</p>
</li>
<li>
<p><strong>File</strong> <code>dest</code> - destination folder to install downloaded Allure Commandline.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>allure</code> task depends on <code>downloadAllure</code>, so in the default case there is no need to invoke it manually,
whenever <code>allure</code> task is invoked, it will call <code>downloadAllure</code> first.</p>
</div>
</div>
<div class="sect4">
<h5 id="_serve"><a class="anchor" href="#_serve"></a>serve</h5>
<div class="paragraph">
<p>Can be used to generate and open report in the default browser after the build.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>String</strong> <code>version</code> - version to discover Allure Commandline installation in the <code>.allure/<strong>version</strong></code></p>
</li>
<li>
<p><strong>List&lt;File&gt;</strong> <code>resultsDirs</code> - list of folders with results.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>By default <code>serve</code> task is configured by plugin for a single-module report and when executed will open it
in the default browser.</p>
</div>
<div class="paragraph">
<p>usage example: <code>./gradlew clean build serve</code></p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_maven_6"><a class="anchor" href="#_maven_6"></a>13.6. Maven</h3>
<div class="paragraph">
<p>This plugin generates Allure report by <a href="https://github.com/allure-framework/allure-core/wiki#gathering-information-about-tests">existing XML files</a> during the Maven build process.</p>
</div>
<div class="sect3">
<h4 id="_installation_13"><a class="anchor" href="#_installation_13"></a>13.6.1. Installation</h4>
<div class="paragraph">
<p>Add allure-maven-plugin to your pom.xml file build section.</p>
</div>
<div class="listingblock">
<div class="title">pom.xml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;project&gt;</span>
    ...
    <span class="tag">&lt;plugin&gt;</span>
        <span class="tag">&lt;groupId&gt;</span>io.qameta.allure<span class="tag">&lt;/groupId&gt;</span>
        <span class="tag">&lt;artifactId&gt;</span>allure-maven<span class="tag">&lt;/artifactId&gt;</span>
        <span class="tag">&lt;version&gt;</span>2.8<span class="tag">&lt;/version&gt;</span>
    <span class="tag">&lt;/plugin&gt;</span>
    ...
<span class="tag">&lt;/project&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_configuration_7"><a class="anchor" href="#_configuration_7"></a>13.6.2. Configuration</h4>
<div class="sect4">
<h5 id="_properties_handling"><a class="anchor" href="#_properties_handling"></a>Properties handling</h5>
<div class="paragraph">
<p>Since 2.5 report generation is configurable. There are a few ways to do it:</p>
</div>
<div class="sect5">
<h6 id="_directly_from_source_code"><a class="anchor" href="#_directly_from_source_code"></a>Directly from source code</h6>
<div class="paragraph">
<p>Put <strong>allure.properties</strong> (<strong>report.properties</strong> for Allure 1.5 or above) to classpath.
Both compile <strong>class</strong> path and <strong>test class</strong> path are supported.</p>
</div>
</div>
<div class="sect5">
<h6 id="_or_specify_the_strong_properties_strong_in_configuration"><a class="anchor" href="#_or_specify_the_strong_properties_strong_in_configuration"></a>Or specify the <strong>properties</strong> in configuration</h6>
<div id="allure-maven-plugin-configuration" class="listingblock">
<div class="title">pom.xml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
</pre></td>
  <td class="code"><pre><span class="tag">&lt;plugin&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>io.qameta.allure<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>allure-maven<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;configuration&gt;</span>
       <span class="tag">&lt;properties&gt;</span>
           <span class="tag">&lt;allure.issues.tracker.pattern&gt;</span>http://example.com/%s<span class="tag">&lt;/allure.issues.tracker.pattern&gt;</span>
       <span class="tag">&lt;/properties&gt;</span>
    <span class="tag">&lt;/configuration&gt;</span>
<span class="tag">&lt;/plugin&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_or_specify_the_strong_propertiesfilepath_strong"><a class="anchor" href="#_or_specify_the_strong_propertiesfilepath_strong"></a>Or specify the <strong>propertiesFilePath</strong></h6>
<div class="listingblock">
<div class="title">pom.xml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre><span class="tag">&lt;configuration&gt;</span>
   <span class="tag">&lt;propertiesFilePath&gt;</span>path/to/your/allure.properties<span class="tag">&lt;/propertiesFilePath&gt;</span>
<span class="tag">&lt;/configuration&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_report_version"><a class="anchor" href="#_report_version"></a>Report version</h5>
<div class="paragraph">
<p>Since 2.6, the plugin constructs a report using Allure which is downloaded from the default
<a href="https://dl.bintray.com/qameta/generic/io/qameta/allure/allure">url</a>.
Allure is extracted and placed into the <strong>.allure</strong> folder created in your project directory.</p>
</div>
<div class="paragraph">
<p>The default Allure version is <strong>2.0.1</strong></p>
</div>
<div class="listingblock">
<div class="title">pom.xml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre><span class="tag">&lt;configuration&gt;</span>
    <span class="tag">&lt;reportVersion&gt;</span>2.0.1<span class="tag">&lt;/reportVersion&gt;</span>
<span class="tag">&lt;/configuration&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>You can specify your own url for the download, or you can specify a file path using the system property <strong>allure.download.url</strong>.</p>
</div>
<div class="listingblock">
<div class="title">pom.xml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre><span class="tag">&lt;configuration&gt;</span>
    <span class="tag">&lt;allureDownloadUrl&gt;</span>https://example.com/allure/allure-2.0.1.zip<span class="tag">&lt;/allureDownloadUrl&gt;</span>
<span class="tag">&lt;/configuration&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_results_directory"><a class="anchor" href="#_results_directory"></a>Results Directory</h5>
<div class="paragraph">
<p>The path to Allure results directory. In general it is the directory created by allure adaptor and contains allure
files and attachments. This path can be relative from the build directory (for maven it is the target directory)
or absolute (absolute only for report mojo).</p>
</div>
<div class="paragraph">
<p>Default value is <strong>"allure-results"</strong>.</p>
</div>
<div class="paragraph">
<p>System property <strong>allure.results.directory</strong>.</p>
</div>
<div class="listingblock">
<div class="title">pom.xml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre><span class="tag">&lt;configuration&gt;</span>
    <span class="tag">&lt;reportDirectory&gt;</span>allure-report<span class="tag">&lt;/reportDirectory&gt;</span>
<span class="tag">&lt;/configuration&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_usage_10"><a class="anchor" href="#_usage_10"></a>13.6.3. Usage</h4>
<div class="paragraph">
<p>You can generate a report using one of the following command:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>mvn allure:serve</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Report will be generated into temp folder. Web server with results will start.
You can additionally configure the server timeout.
The default value is <strong>"3600"</strong> (one hour).</p>
</div>
<div class="paragraph">
<p>System property <strong>allure.serve.timeout</strong>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>mvn allure:report</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Report will be generated tо directory: <strong>target/site/allure-maven/index.html</strong></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_allure_plugins_system"><a class="anchor" href="#_allure_plugins_system"></a>14. Allure Plugins System</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Allure is designed to be highly customizable, because practice shows that many teams across the world
may have different metrics, or may have developed unique approaches for testing, their products might demand
something completely different to the initial requirements Allure was built to comply. To deal with this
kinds of challenges Allure has a plugin system, that gives a lot of flexibility to the report representation.</p>
</div>
<div class="paragraph">
<p>To be precise, all of the basic functionality is modularized into plugins, and it would be too lengthy to list
them all here. But nearly every feature described in the features section [link to allure features section]
 is implemented internally as a plugin.</p>
</div>
<div class="sect2">
<h3 id="_java_plugin_api_overview"><a class="anchor" href="#_java_plugin_api_overview"></a>14.1. Java Plugin API overview</h3>
<div class="paragraph">
<p>Let&#8217;s take a look into the class diagram of the top classes in the Allure plugins system.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/plugins_api_uml_diagram.png" alt="Top interfaces hierarchy">
</div>
</div>
<div class="paragraph">
<p>Plugin classes can extend 3 basic interfaces that provide different aspects of functionality:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Reader</strong> allows to implement a <code>readResults</code> method, which defines the logic of reading results with <code>ResultsVisitor</code>
instance from the directory with test results.</p>
</li>
<li>
<p><strong>Aggregator</strong> allows to implement <code>aggregate</code> method, which defines the logic of aggregating processed results across
all the results folders, and write resulting data to the report directory.</p>
</li>
<li>
<p><strong>Widget</strong> this interface allows to implement <code>getData</code> method which again defines the logic of processed results aggregation
but this time resulting data is saved into the <code>widget.json</code> file to be used by the widget named accordingly to the value
supplied in <code>getName</code>.</p>
</li>
<li>
<p><strong>Context&lt;T&gt;</strong> interface with <code>T getValue()</code> method enables to create some utility class to be used for all
plugins via a method <code>Configuration.requireContext(Class&lt;T&gt;)</code> available from a Configuration instance, provided as
a parameter in all of the 3 methods above.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_js_plugin_api_overview"><a class="anchor" href="#_js_plugin_api_overview"></a>14.2. JS Plugin API overview</h3>
<div class="paragraph">
<p>Front-end side of the Allure is built using <a href="http://backbonejs.org/">BackboneJS</a> framework. So some basic
understanding of its internal mechanisms may sometimes be necessary.</p>
</div>
<div class="paragraph">
<p>Api is accessible from the <code>allure.api</code> global object. Let&#8217;s take a look at the list of functions it provides:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>addTab(tabName, {title, icon, route, onEnter = notFound} = {})</code> - can be used to define a new tab for the report
which will appear on the left pane menu with name <strong>tabName</strong>, its icon will be defined by a css styles provided
in the <strong>icon</strong> string, <strong>route</strong> will define an address for a new tab page. <strong>onEnter</strong> should be a function, that
instantiates a View class managing your new tab&#8217;s representation.</p>
</li>
<li>
<p><code>addTranslation(lang, json)</code> - gives you an ability to support multiple languages for naming in tabs, widgets or
test case blocks you&#8217;ve created. <strong>lang</strong> is a language key, and <strong>json</strong> is a json object that contains mappings for string
values in the specified language.</p>
</li>
<li>
<p><code>translate(name, options)</code> - is needed if you generate html code in your plugin and don&#8217;t use existing components,
provided in <code>allure.components</code>. In the tab example above you have to wrap strings in the template in this function call
to enable string translation to be picked up from the global registry.
See more in the docs for <a href="https://www.npmjs.com/package/i18next-text">i18next</a>.</p>
</li>
<li>
<p><code>addWidget(name, Widget)</code> - is a way to create a new widget on the Overview page of the report. <strong>name</strong> will define
its displayed name, and <strong>Widget</strong> is a <code>View</code> to be added to the widgets grid.
Api provides you with a base class for a widget at <code>allure.components.WidgetStatusView</code>, which we will examine
later in the Behaviors plugin section. But you may design a widget for your own needs extending from
<code>Backbone.Marionette.View</code>, just keep in mind that this widget definition is designed to pop up the data
to fill the Model for this View from the <code>widgets.json</code> file, by the key you supplied in <strong>name</strong> parameter.</p>
</li>
<li>
<p><code>addTestcaseBlock(view, {position})</code> - allows to add a View class to the Test Case page, in the one of 3 possible
block groups, determined by a <strong>position</strong> argument. Position can be one of this values: <code>tag</code>, <code>after</code> or <code>before</code>.
To understand what kind of information you may attach to the test case page, jump to the section with related
features [jump to the features list]</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_writing_a_skeleton_code_for_a_new_plugin"><a class="anchor" href="#_writing_a_skeleton_code_for_a_new_plugin"></a>14.3. Writing a skeleton code for a new plugin.</h3>
<div class="paragraph">
<p>Here we will cover the steps that it usually takes to build a new plugin.</p>
</div>
<div class="sect3">
<h4 id="_step_1_create_a_new_plugin_project"><a class="anchor" href="#_step_1_create_a_new_plugin_project"></a>14.3.1. Step 1: Create a new plugin project</h4>
<div class="paragraph">
<p><strong>Plugin structure</strong></p>
</div>
<div class="paragraph">
<p>Basically, any plugin will be constituted of two main parts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Java classes</strong> that process the report data and produce some results in the report folder.</p>
</li>
<li>
<p><strong>JS script</strong> that takes stored results and creates a representation for them on the report&#8217;s front-end side,
e.g. a widget or an additional tab.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Typical structure of a plugin module would look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>/my-plugin
    /src
        /dist
            /static
            allure-plugin.yml
        /main
            /java
                /my.company.plugin
    build.gradle</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here in <code>src/dist/static</code> all the static <code>.js</code> and <code>.css</code> files are stored, and everything under <code>src/main/java</code>
is a data processing Java code. <code>allure-plugin.yml</code> - is a configuration file.</p>
</div>
<div class="paragraph">
<p><strong>Contents of allure-plugin.yml file</strong></p>
</div>
<div class="paragraph">
<p>This file contains directives in human-readable format that plugin loader will further use to locate resources
 and connect the plugin.</p>
</div>
<div id="app-listing" class="listingblock">
<div class="title">allure-plugin.yml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yml"><span class="key">id</span>: <span class="string"><span class="content">my-plugin</span></span>
<span class="key">name</span>: <span class="string"><span class="content">Plugin name goes here</span></span>
<span class="key">description</span>: <span class="string"><span class="content">More detailed explanation of what does this plugin do.</span></span>
<span class="key">extensions</span>:
- <span class="string"><span class="content">my.company.allure.CustomPlugin // - Fully qualified names of classes that implement `Extension` interface and comprise data processing functionality.</span></span>
- <span class="string"><span class="content">my.company.allure.CustomWidget</span></span>
<span class="key">jsFiles</span>:
- <span class="string"><span class="content">index.js</span></span>
<span class="key">cssFiles</span>:
- <span class="string"><span class="content">styles.css</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Adding allure-plugin-api dependency</strong></p>
</div>
<div class="paragraph">
<p>To be able to use the API you should simply download the <code>allure-plugin-api</code> dependency
<a href="https://mvnrepository.com/artifact/io.qameta.allure/allure-plugin-api">from</a> the jcenter repository.
To do so add to your project build script:</p>
</div>
<div class="paragraph">
<p>in Gradle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">dependencies {
    compileOnly(<span class="string"><span class="delimiter">'</span><span class="content">io.qameta.allure:allure-plugin-api:${allureVersion}</span><span class="delimiter">'</span></span>)
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>in Maven:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">        <span class="tag">&lt;dependency&gt;</span>
            <span class="tag">&lt;groupId&gt;</span>io.qameta.allure<span class="tag">&lt;/groupId&gt;</span>
            <span class="tag">&lt;artifactId&gt;</span>allure-plugin-api<span class="tag">&lt;/artifactId&gt;</span>
            <span class="tag">&lt;version&gt;</span>${allureVersion}<span class="tag">&lt;/version&gt;</span>
            <span class="tag">&lt;scope&gt;</span>provided<span class="tag">&lt;/scope&gt;</span>
        <span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_step_2_writing_a_java_class_that_processes_test_results"><a class="anchor" href="#_step_2_writing_a_java_class_that_processes_test_results"></a>14.3.2. Step 2: Writing a Java class that processes test results</h4>
<div class="paragraph">
<p>Let&#8217;s consider we have some very simple set of parameterized tests, where typical result will contain captured
arguments of test case in the <code>parameters</code> section.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">uuid</span><span class="delimiter">&quot;</span></span>:<span class="string"><span class="delimiter">&quot;</span><span class="content">0edd28b1-3c7f-4593-8dda-db9aa004891f</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">fullName</span><span class="delimiter">&quot;</span></span>:<span class="string"><span class="delimiter">&quot;</span><span class="content">io.qameta.allure.animals.AnimalsTest.angryCat</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>:<span class="string"><span class="delimiter">&quot;</span><span class="content">angryCat</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">status</span><span class="delimiter">&quot;</span></span>:<span class="string"><span class="delimiter">&quot;</span><span class="content">passed</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">stage</span><span class="delimiter">&quot;</span></span>:<span class="string"><span class="delimiter">&quot;</span><span class="content">finished</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">start</span><span class="delimiter">&quot;</span></span>:<span class="integer">1495467840415</span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">stop</span><span class="delimiter">&quot;</span></span>:<span class="integer">1495467840416</span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">parameters</span><span class="delimiter">&quot;</span></span>:[
    {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>:<span class="string"><span class="delimiter">&quot;</span><span class="content">arg0</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">value</span><span class="delimiter">&quot;</span></span>:<span class="string"><span class="delimiter">&quot;</span><span class="content">Hiss!</span><span class="delimiter">&quot;</span></span>
    }
  ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>We are preparing to write a fully-fledged new plugin that adds a new tab with
some test results representation and creates a widget to place on Overview tab with some digested data.
For example, let&#8217;s consider a plugin that extracts passed and failed parameters from this parameterized tests,
creates a new tab, and a widget where only recent failures are displayed.</p>
</div>
<div class="paragraph">
<p>We should start with writing a Java class that implements <code>Aggregator</code> and <code>Widget</code> interfaces.</p>
</div>
<div id="app-listing" class="listingblock">
<div class="title">MyPlugin.java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">MyPlugin</span> <span class="directive">implements</span> Aggregator, Widget {

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">void</span> aggregate(<span class="directive">final</span> <span class="predefined-type">Configuration</span> configuration,
                          <span class="directive">final</span> <span class="predefined-type">List</span>&lt;LaunchResults&gt; launches,
                          <span class="directive">final</span> Path outputDirectory) <span class="directive">throws</span> <span class="exception">IOException</span> {
    <span class="directive">final</span> JacksonContext jacksonContext = configuration
        .requireContext(JacksonContext.class);
    <span class="directive">final</span> Path dataFolder = Files.createDirectories(outputDirectory.resolve(<span class="string"><span class="delimiter">&quot;</span><span class="content">data</span><span class="delimiter">&quot;</span></span>));
    <span class="directive">final</span> Path dataFile = dataFolder.resolve(<span class="string"><span class="delimiter">&quot;</span><span class="content">myplugindata.json</span><span class="delimiter">&quot;</span></span>);
    <span class="directive">final</span> Stream&lt;TestResult&gt; resultsStream = launches.stream()
        .flatMap(launch -&gt; launch.getAllResults().stream());
    <span class="keyword">try</span> (<span class="predefined-type">OutputStream</span> os = Files.newOutputStream(dataFile)) {
        jacksonContext.getValue().writeValue(os, extractData(resultsStream));
    }
    }

    <span class="directive">private</span> <span class="predefined-type">Collection</span>&lt;<span class="predefined-type">Map</span>&gt; extractData(<span class="directive">final</span> Stream&lt;TestResult&gt; testResults) {
        <span class="comment">//extraction logic</span>
    }

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="predefined-type">Object</span> getData(<span class="predefined-type">Configuration</span> configuration, <span class="predefined-type">List</span>&lt;LaunchResults&gt; launches) {
        Stream&lt;TestResult&gt; filteredResults = launches.stream().flatMap(launch -&gt; launch.getAllResults().stream())
                .filter(result -&gt; result.getStatus().equals(Status.FAILED));
        <span class="keyword">return</span> extractData(filteredResults);
    }

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="predefined-type">String</span> getName() {
        <span class="keyword">return</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">mywidget</span><span class="delimiter">&quot;</span></span>;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>What is happening in the code above?</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In <code>aggregate</code> method, data that is extracted from test results in the <code>extractData</code> method is written to the
<code>myplugindata.json</code> file that is stored in the report&#8217;s <code>data</code> folder. To create a proper .json file a
<code>JacksonContext</code> is used to obtain a mapper instance. This data will be displayed on the new tab.</p>
</li>
<li>
<p><code>getData</code> method implementation creates data to be used in the new widget, and <code>getName</code> method defines
name of the entry for the <code>widgets.json</code> file where this data will be stored.</p>
</li>
</ol>
</div>
<div id="app-listing" class="listingblock">
<div class="title">myplugindata.json</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">[ {
  <span class="key"><span class="delimiter">&quot;</span><span class="content">sounds</span><span class="delimiter">&quot;</span></span> : [ <span class="string"><span class="delimiter">&quot;</span><span class="content">Growl!</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Hiss!</span><span class="delimiter">&quot;</span></span> ],
  <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">angryCat</span><span class="delimiter">&quot;</span></span>
}, {
  <span class="key"><span class="delimiter">&quot;</span><span class="content">sounds</span><span class="delimiter">&quot;</span></span> : [ <span class="string"><span class="delimiter">&quot;</span><span class="content">Oink!</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Meow!</span><span class="delimiter">&quot;</span></span> ],
  <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">hungryCat</span><span class="delimiter">&quot;</span></span>
}, {
  <span class="key"><span class="delimiter">&quot;</span><span class="content">sounds</span><span class="delimiter">&quot;</span></span> : [ <span class="string"><span class="delimiter">&quot;</span><span class="content">Bark!</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Woof!</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Moo!</span><span class="delimiter">&quot;</span></span> ],
  <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">bigDog</span><span class="delimiter">&quot;</span></span>
} ]</code></pre>
</div>
</div>
<div id="app-listing" class="listingblock">
<div class="title">widgets.json</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json"><span class="error">.</span><span class="error">.</span><span class="error">.</span>
<span class="key"><span class="delimiter">&quot;</span><span class="content">mywidget</span><span class="delimiter">&quot;</span></span> : [ {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">sounds</span><span class="delimiter">&quot;</span></span> : [ <span class="string"><span class="delimiter">&quot;</span><span class="content">Oink!</span><span class="delimiter">&quot;</span></span> ],
    <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">hungryCat</span><span class="delimiter">&quot;</span></span>
  }, {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">sounds</span><span class="delimiter">&quot;</span></span> : [ <span class="string"><span class="delimiter">&quot;</span><span class="content">Moo!</span><span class="delimiter">&quot;</span></span> ],
    <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">bigDog</span><span class="delimiter">&quot;</span></span>
  } ],
<span class="error">.</span><span class="error">.</span><span class="error">.</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_adding_an_utility_context_class"><a class="anchor" href="#_adding_an_utility_context_class"></a>14.3.3. Adding an utility Context class</h4>
<div class="paragraph">
<p>Your plugins may require to share some common utilities that would be wise to make available in on-demand manner.
A quick example of such an utility class would be <code>JacksonContext</code>, which can be used to obtain a mapper
 to serialize Java objects with data into the report JSON files.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">JacksonContext</span> <span class="directive">implements</span> <span class="predefined-type">Context</span>&lt;ObjectMapper&gt; {

    <span class="directive">private</span> <span class="directive">final</span> ObjectMapper mapper;

    <span class="directive">public</span> JacksonContext() {
        <span class="local-variable">this</span>.mapper = <span class="keyword">new</span> ObjectMapper()
                .configure(MapperFeature.USE_WRAPPER_NAME_AS_PROPERTY_NAME, <span class="predefined-constant">true</span>)
                .setAnnotationIntrospector(<span class="keyword">new</span> JaxbAnnotationIntrospector(TypeFactory.defaultInstance()))
                .enable(SerializationFeature.INDENT_OUTPUT)
                .disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES)
                .setSerializationInclusion(JsonInclude.Include.NON_NULL);
    }

    <span class="annotation">@Override</span>
    <span class="directive">public</span> ObjectMapper getValue() {
        <span class="keyword">return</span> mapper;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then, from a plugin class it can be accessed from <code>Configuration</code> instance as in the Step 2.</p>
</div>
</div>
<div class="sect3">
<h4 id="_step_3_adding_a_new_tab_for_the_report"><a class="anchor" href="#_step_3_adding_a_new_tab_for_the_report"></a>14.3.4. Step 3: Adding a new tab for the report</h4>
<div class="paragraph">
<p>Here we switch to the front-end side of the Allure report and start with adding some JavaScript code to the <code>index.js</code>
file.</p>
</div>
<div class="paragraph">
<p>Backbone manages data with <a href="http://backbonejs.org/#Model">Models</a> or
 <a href="http://backbonejs.org/#Collection">Collections</a>, on the previous step we saved the data for our page as
 a Collection&lt;Map&gt;, so the model for the tab should extend <code>Backbone.Collection</code>. This object will contain the data from
 the file, specified in the <code>url</code>. Then, for your new tab you need to extend a <a href="http://backbonejs.org/#View">View</a>
 class from the base <code>AppLayout</code> class that already contains report&#8217;s left navigational menu.
  It is provided in the global <code>allure</code> object:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="keyword">var</span> MyTabModel = Backbone.Collection.extend({
    <span class="key">url</span>: <span class="string"><span class="delimiter">'</span><span class="content">data/myplugindata.json</span><span class="delimiter">'</span></span>
})

<span class="reserved">class</span> MyLayout <span class="reserved">extends</span> allure.components.AppLayout {

    initialize() {
        <span class="local-variable">this</span>.model = <span class="keyword">new</span> MyTabModel();
    }

    loadData() {
        <span class="keyword">return</span> <span class="local-variable">this</span>.model.fetch();
    }

    getContentView() {
        <span class="keyword">return</span> <span class="keyword">new</span> MyView({<span class="key">items</span>: <span class="local-variable">this</span>.model.models});
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In <code>MyLayout</code> class you can override a <code>getContentView</code> method to define some other View class that will manage the
contents of your tab. Below is some simplistic implementation of the View class, <code>template</code> is some template
function that returns html template with added data.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">const <span class="function">template</span> = <span class="keyword">function</span> (data) {
    html = <span class="string"><span class="delimiter">'</span><span class="content">&lt;h3 class=&quot;pane__title&quot;&gt;My Tab&lt;/h3&gt;</span><span class="delimiter">'</span></span>;
    <span class="keyword">for</span> (<span class="keyword">var</span> item of data.items) {
        html += <span class="string"><span class="delimiter">'</span><span class="content">&lt;p&gt;</span><span class="delimiter">'</span></span> + item.attributes.name + <span class="string"><span class="delimiter">'</span><span class="content"> says: </span><span class="delimiter">'</span></span> + item.attributes.sounds + <span class="string"><span class="delimiter">'</span><span class="content">&lt;/p&gt;</span><span class="delimiter">'</span></span>;
    }
    <span class="keyword">return</span> html;
}

<span class="keyword">var</span> MyView = Backbone.Marionette.View.extend({
    <span class="key">template</span>: template,

    <span class="function">render</span>: <span class="keyword">function</span> () {
        <span class="local-variable">this</span>.<span class="predefined">$el</span>.html(<span class="local-variable">this</span>.template(<span class="local-variable">this</span>.options));
        <span class="keyword">return</span> <span class="local-variable">this</span>;
    }
})</code></pre>
</div>
</div>
<div class="paragraph">
<p>After all that add <code>addTab</code> function call would look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">allure.api.addTab(<span class="string"><span class="delimiter">'</span><span class="content">mytab</span><span class="delimiter">'</span></span>, {
    <span class="key">title</span>: <span class="string"><span class="delimiter">'</span><span class="content">My Tab</span><span class="delimiter">'</span></span>, <span class="key">icon</span>: <span class="string"><span class="delimiter">'</span><span class="content">fa fa-trophy</span><span class="delimiter">'</span></span>,
    <span class="key">route</span>: <span class="string"><span class="delimiter">'</span><span class="content">mytab</span><span class="delimiter">'</span></span>,
    <span class="key">onEnter</span>: (<span class="keyword">function</span> () {
        <span class="keyword">return</span> <span class="keyword">new</span> MyLayout()
    })
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Which will finally give you a new tab:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/plugins_add_tab_example.png" alt="Hello world tab example">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_step_4_adding_a_new_widget_on_the_overview_page"><a class="anchor" href="#_step_4_adding_a_new_widget_on_the_overview_page"></a>14.3.5. Step 4: Adding a new widget on the Overview page</h4>
<div class="paragraph">
<p>To create a new widget you need to implement a small View class that manages data that you put into <code>widgets.json</code> on
the step 2. Note, that if you return the data from <code>getData</code> as a collection, it will subsequently be provided to
 the widget as an array, that can be obtained as <code>this.model.get('items')</code>. In the code below <code>template</code> function
 defines the actual html to be displayed in the widget.</p>
</div>
<div id="app-listing" class="listingblock">
<div class="title">index.js</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="reserved">class</span> MyWidget <span class="reserved">extends</span> Backbone.Marionette.View {

    template(data) {
            <span class="keyword">return</span> widgetTemplate(data)
    }

    serializeData() {
        <span class="keyword">return</span> {
            <span class="key">items</span>: <span class="local-variable">this</span>.model.get(<span class="string"><span class="delimiter">'</span><span class="content">items</span><span class="delimiter">'</span></span>),
        }
    }
}

allure.api.addWidget(<span class="string"><span class="delimiter">'</span><span class="content">mywidget</span><span class="delimiter">'</span></span>, MyWidget);</code></pre>
</div>
</div>
<div class="paragraph">
<p>This finally gives us a new widget on the Overview dashboard.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/plugins_add_widget_example.png" alt="A new widget on the Overview">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_step_5_adding_translation_for_strings"><a class="anchor" href="#_step_5_adding_translation_for_strings"></a>14.3.6. Step 5: Adding translation for strings</h4>
<div class="paragraph">
<p>Returning to the tab example, it&#8217;s very easy to enable translated strings in it. In templates you need
to substitute plain text strings for placeholders and use <code>translate</code> function, and also you need to register
translations via <code>addTranslation</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">const <span class="function">template</span> = <span class="keyword">function</span> (data) {
    html = <span class="string"><span class="delimiter">'</span><span class="content">&lt;h3 class=&quot;pane__title&quot;&gt;</span><span class="delimiter">'</span></span> + allure.api.translate(mytab.name) + <span class="string"><span class="delimiter">'</span><span class="content">&lt;/h3&gt;</span><span class="delimiter">'</span></span>;
    <span class="keyword">for</span> (<span class="keyword">var</span> item of data.items) {
        html += <span class="string"><span class="delimiter">'</span><span class="content">&lt;p&gt;</span><span class="delimiter">'</span></span> + item.attributes.name + <span class="string"><span class="delimiter">'</span><span class="content"> says: </span><span class="delimiter">'</span></span> + item.attributes.sounds + <span class="string"><span class="delimiter">'</span><span class="content">&lt;/p&gt;</span><span class="delimiter">'</span></span>;
    }
    <span class="keyword">return</span> html;
}

allure.api.addTranslation(<span class="string"><span class="delimiter">'</span><span class="content">en</span><span class="delimiter">'</span></span>, {
    <span class="key">mytab</span>: {
        <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">My Tab</span><span class="delimiter">'</span></span>,
    }
},
});

allure.api.addTranslation(<span class="string"><span class="delimiter">'</span><span class="content">ru</span><span class="delimiter">'</span></span>, {
    <span class="key">mytab</span>: {
        <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">Моя Вкладка</span><span class="delimiter">'</span></span>,
    }
},
});</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_step_6_adding_new_sections_for_test_case_page"><a class="anchor" href="#_step_6_adding_new_sections_for_test_case_page"></a>14.3.7. Step 6: Adding new sections for test case page</h4>
<div class="paragraph">
<p>Internally, many Allure features are implemented using plugin api, let&#8217;s see how for example links are added to the
test case page.</p>
</div>
<div class="paragraph">
<p>With <code>addTestcaseBlock</code> method you can define a View that you can assume will have a test case object as a Model
available at <code>this.model</code>.</p>
</div>
<div class="paragraph">
<p>A View class:</p>
</div>
<div id="app-listing" class="listingblock">
<div class="title">LinksView.js</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="reserved">import</span> <span class="string"><span class="delimiter">'</span><span class="content">./styles.css</span><span class="delimiter">'</span></span>;
<span class="reserved">import</span> {View} from <span class="string"><span class="delimiter">'</span><span class="content">backbone.marionette</span><span class="delimiter">'</span></span>;
<span class="reserved">import</span> {className} from <span class="string"><span class="delimiter">'</span><span class="content">../../decorators</span><span class="delimiter">'</span></span>;
<span class="reserved">import</span> template from <span class="string"><span class="delimiter">'</span><span class="content">./LinksView.hbs</span><span class="delimiter">'</span></span>;

<span class="error">@</span>className(<span class="string"><span class="delimiter">'</span><span class="content">pane__section</span><span class="delimiter">'</span></span>)
<span class="reserved">class</span> LinksView <span class="reserved">extends</span> View {
    template = template;

    serializeData() {
        <span class="keyword">return</span> {
            <span class="key">links</span>: <span class="local-variable">this</span>.model.get(<span class="string"><span class="delimiter">'</span><span class="content">links</span><span class="delimiter">'</span></span>)
        };
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Handlebars is used as a template engine:</p>
</div>
<div id="app-listing" class="listingblock">
<div class="title">LinksView.hbs</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html">{{#if links}}
    <span class="tag">&lt;h3</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">pane__section-title</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>{{t 'testCase.links.name'}}<span class="tag">&lt;/h3&gt;</span>
    {{#each links}}
        <span class="tag">&lt;span</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">testcase-link</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        {{#if (eq type &quot;issue&quot;)}}
            <span class="tag">&lt;span</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">fa fa-bug</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;/span&gt;</span>
        {{/if}}
        {{#if (eq type &quot;tms&quot;)}}
            <span class="tag">&lt;span</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">fa fa-database</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;/span&gt;</span>
        {{/if}}
        <span class="tag">&lt;a</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">link</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">{{this.url}}</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">target</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">_blank</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>{{name}}<span class="tag">&lt;/a&gt;</span>
    <span class="tag">&lt;/span&gt;</span>
    {{/each}}
{{/if}}</code></pre>
</div>
</div>
<div id="app-listing" class="listingblock">
<div class="title">index.js</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="reserved">import</span> LinksView from <span class="string"><span class="delimiter">'</span><span class="content">./LinksView</span><span class="delimiter">'</span></span>;

allure.api.addTestcaseBlock(LinksView, {<span class="key">position</span>: <span class="string"><span class="delimiter">'</span><span class="content">before</span><span class="delimiter">'</span></span>});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Which adds a links section to the test case:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/plugins_add_testcase_block_example.png" alt="New test case block">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_step_7_plugin_distribution"><a class="anchor" href="#_step_7_plugin_distribution"></a>14.3.8. Step 7: Plugin distribution</h4>
<div class="paragraph">
<p>When you build a plugin, you should come up with the following structure, which then can be copied into <code>plugins</code> folder
of the commandline distribution.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>/my-plugin
    allure-plugin.yml
    plugin.jar
    /lib
        dependency.jar
    /static
        styles.css
        index.js</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>plugin.jar</strong> - is a jar with your compiled plugin classes</p>
</li>
<li>
<p><strong>/lib</strong> - all of your pugin&#8217;s dependencies should be placed in here</p>
</li>
<li>
<p><strong>/static</strong> - a folder containing all static <code>.js</code> and <code>.css</code> files.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Here is a template of gradle build script for a plugin project that uses
<a href="https://docs.gradle.org/current/userguide/javaLibraryDistribution_plugin.html">Java Library Distribution Plugin</a>
to package plugin classes and copy files and dependencies into one .zip archive.</p>
</div>
<div id="app-listing" class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">repositories {
    jcenter()
}

apply <span class="key">plugin</span>: <span class="string"><span class="delimiter">'</span><span class="content">java-library-distribution</span><span class="delimiter">'</span></span>

jar {
    archiveName = <span class="string"><span class="delimiter">'</span><span class="content">plugin.jar</span><span class="delimiter">'</span></span>
}

dependencies {
    compileOnly(<span class="string"><span class="delimiter">'</span><span class="content">io.qameta.allure:allure-plugin-api:2.0-BETA8</span><span class="delimiter">'</span></span>)
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_step_8_enabling_a_plugin"><a class="anchor" href="#_step_8_enabling_a_plugin"></a>14.3.9. Step 8: Enabling a plugin</h4>
<div class="paragraph">
<p>Allure commandline distribution has a following folder structure:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>/allure-commandline
    /bin
    /config
        allure.yml
    /lib
    /plugins
        /behaviors-plugin
        /junit-plugin
        /screen-diff-plugin</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here in <code>plugins</code> folder plugins distributions to use at the report generation reside. By default several plugins
are already added to the Allure. Their usage is managed by default build profile configuration file`/config/allure.yml`.
In this file, under the section <code>plugins</code> plugin folders to use are listed, so its contents should look like this:</p>
</div>
<div id="app-listing" class="listingblock">
<div class="title">allure.yml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yml"><span class="key">plugins</span>:
  - <span class="string"><span class="content">behaviors-plugin</span></span>
  - <span class="string"><span class="content">junit-plugin</span></span>
  - <span class="string"><span class="content">screen-diff-plugin</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To enable your own plugin, copy folder with distribution to the <code>plugins</code> folder
and then add the folder&#8217;s name to the corresponding build profile configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>/allure-commandline
    /bin
    /config
        allure.yml
    /lib
    /plugins
        /behaviors-plugin
        /junit-plugin
        /screen-diff-plugin
        /my-plugin</code></pre>
</div>
</div>
<div id="app-listing" class="listingblock">
<div class="title">allure.yml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yml"><span class="key">plugins</span>:
  - <span class="string"><span class="content">behaviors-plugin</span></span>
  - <span class="string"><span class="content">junit-plugin</span></span>
  - <span class="string"><span class="content">screen-diff-plugin</span></span>
  - <span class="string"><span class="content">my-plugin</span></span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_existing_plugins"><a class="anchor" href="#_existing_plugins"></a>14.4. Existing plugins</h3>
<div class="paragraph">
<p>Several important Allure features are implemented as decoupled plugins that are stored independently under
the <code>plugins</code> folder of Allure Commandline distribution. Their usage can be managed by build profiles functionality
(jump to the (link to the section)[Commandline configuration]).</p>
</div>
<div class="sect3">
<h4 id="_custom_logo"><a class="anchor" href="#_custom_logo"></a>14.4.1. Custom Logo</h4>
<div class="paragraph">
<p>Let&#8217;s start with studuying how one of the simplest plugins works. In this section we will quickly
examine a plugin available in the Allure distribution which allows you to change a logo picture shown in
the upper-left corner of the report.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/plugins_custom_logo.png" alt="Custom logo in the report">
</div>
</div>
<div class="paragraph">
<p>plugin sources directory structure:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>/src
    /dist
        allure-plugin.yml
        /static
            custom-logo.svg
            styles.css
    build.gradle</code></pre>
</div>
</div>
<div id="app-listing" class="listingblock">
<div class="title">allure-plugin.yml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yml"><span class="key">id</span>: <span class="string"><span class="content">custom-logo</span></span>
<span class="key">name</span>: <span class="string"><span class="content">Custom logo aggregator</span></span>
<span class="key">description</span>: <span class="string"><span class="content">The aggregator replaces default Allure logo with a custom one</span></span>
<span class="key">cssFiles</span>:
  - <span class="string"><span class="content">styles.css</span></span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>custom-logo.svg</strong> - is a vector graphics file with a logo to use</p>
</li>
<li>
<p><strong>styles.css</strong> - a css file that adds the style, that will override default logotype.</p>
</li>
</ul>
</div>
<div id="app-listing" class="listingblock">
<div class="title">styles.css</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="css"><span class="class">.side-nav__brand</span> {
  <span class="key">background</span>: <span class="function"><span class="delimiter">url(</span><span class="content">'custom-logo.svg'</span><span class="delimiter">)</span></span> <span class="value">no-repeat</span> <span class="value">left</span> <span class="value">center</span>;
  <span class="key">margin-left</span>: <span class="float">10px</span>;
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_behaviors_2"><a class="anchor" href="#_behaviors_2"></a>14.4.2. Behaviors</h4>
<div class="paragraph">
<p>Behaviors plugin is created to support behavior-driven approach in testing with Allure report.
Test cases should have Feature and Story labels, that plugin will aggregate and create a widget
showing statistics of stories results per every feature, and a new tab, where all test results are
grouped by their features and stories.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>In Java-based adaptors you can mark your tests with <code>@Feature</code> and <code>@Story</code> annotations.</p>
</li>
<li>
<p>In JS-based adaptors you can use <code>allure.feature(featureName)</code> and <code>allure.story(storyName)</code> methods</p>
</li>
<li>
<p>In CucumberJVM Features and Stories are extracted exactly as the tests are organized in Features and Scenarios.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Once your tests are properly labeled, you can start using Behaviors plugin right away since it is included in
Allure distribution by default. You can find plugin sources in the
<a href="https://github.com/allure-framework/allure2/tree/master/plugins">plugins folder of the Allure 2 project</a></p>
</div>
<div class="paragraph">
<p>Behaviors plugin structure:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>/src
    /dist
        allure-plugin.yml
        /static
            index.js
    /main
        /java
            /io.qameta.allure.behaviors
                BehaviorsPlugin.java
    build.gradle</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>BehavioursPlugin.java</strong></p>
</div>
<div class="paragraph">
<p>This plugin creates a different representation for the test results tree, that is why its <code>BehaviorsPlugin</code> class
 inherits from a base class providing tree aggregation - <code>AbstractTreeAggregator</code> and implements a <code>Widget</code>
 interface to prepare the data for a widget on the Overview report dashboard.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>To provide aggregation classifier, plugin should implement a method
<code>List&lt;TreeGroup&gt; getGroups(final TestResult result)</code></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Override</span>
    <span class="directive">protected</span> <span class="predefined-type">List</span>&lt;TreeGroup&gt; getGroups(<span class="directive">final</span> TestResult result) {
        <span class="keyword">return</span> <span class="predefined-type">Arrays</span>.asList(
                TreeGroup.allByLabel(result, LabelName.FEATURE, DEFAULT_FEATURE),
                TreeGroup.allByLabel(result, LabelName.STORY, DEFAULT_STORY)
        );
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>This groups will determine a placement for every <code>TestResult</code> when building a tree of regrouped results to store in the
 <code>behaviors.json</code> file.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Another part of <code>BehaviorsPlugin</code> class is a <code>getData</code> method that comprises implementation of <code>Widget</code> interface.
This method prepares aggregated information on amount of passed stories per every feature,
that will be put into the <code>widget.json</code> file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>index.js</strong></p>
</div>
<div class="paragraph">
<p>After that, in the <code>index.js</code> api calls for creation of a new tab and creation of a new widget are as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">allure.api.addTab(<span class="string"><span class="delimiter">'</span><span class="content">behaviors</span><span class="delimiter">'</span></span>, {
    <span class="key">title</span>: <span class="string"><span class="delimiter">'</span><span class="content">tab.behaviors.name</span><span class="delimiter">'</span></span>, <span class="key">icon</span>: <span class="string"><span class="delimiter">'</span><span class="content">fa fa-list</span><span class="delimiter">'</span></span>,
    <span class="key">route</span>: <span class="string"><span class="delimiter">'</span><span class="content">behaviors(/:testcaseId)</span><span class="delimiter">'</span></span>,
    <span class="key">onEnter</span>: (<span class="keyword">function</span> () {
        <span class="keyword">var</span> routeParams = Array.prototype.slice.call(<span class="local-variable">arguments</span>);
        <span class="keyword">return</span> <span class="keyword">new</span> allure.components.TreeLayout({
            <span class="key">routeParams</span>: routeParams,
            <span class="key">tabName</span>: <span class="string"><span class="delimiter">'</span><span class="content">tab.behaviors.name</span><span class="delimiter">'</span></span>,
            <span class="key">baseUrl</span>: <span class="string"><span class="delimiter">'</span><span class="content">behaviors</span><span class="delimiter">'</span></span>,
            <span class="key">url</span>: <span class="string"><span class="delimiter">'</span><span class="content">data/behaviors.json</span><span class="delimiter">'</span></span>
        });
    })
});

allure.api.addWidget(<span class="string"><span class="delimiter">'</span><span class="content">behaviors</span><span class="delimiter">'</span></span>, allure.components.WidgetStatusView.extend({
    <span class="key">title</span>: <span class="string"><span class="delimiter">'</span><span class="content">widget.behaviors.name</span><span class="delimiter">'</span></span>,
    <span class="key">baseUrl</span>: <span class="string"><span class="delimiter">'</span><span class="content">behaviors</span><span class="delimiter">'</span></span>,
    <span class="key">showLinks</span>: <span class="predefined-constant">false</span>,
    <span class="key">showAllText</span>: <span class="string"><span class="delimiter">'</span><span class="content">widget.behaviors.showAll</span><span class="delimiter">'</span></span>
}));</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note a special <code>TreeLayout</code> component that can be used for displaying all types of data, produced by
implementations of <code>AbstractTreeAggregator</code>. Also, a <code>route</code> attribute defines a pattern for links to the test case
 pages.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/plugins_behaviors.png" alt="Behaviors tab">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_junit"><a class="anchor" href="#_junit"></a>14.4.3. Junit</h4>
<div class="paragraph">
<p>Junit plugin works without a front-end part, it is created to enable Allure generator to process junit report xml format
into the Allure test results, this plugin is enabled by default, so when you use <code>allure generate</code> command for a folder
with junit test results, a report will be generated.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2018-07-03 13:28:10 +00:00
</div>
</div>
<!-- Yandex.Metrika counter -->
<script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter40262569 = new Ya.Metrika({ id:40262569, clickmap:true, trackLinks:true, accurateTrackBounce:true, webvisor:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks"); </script> <noscript><div><img src="https://mc.yandex.ru/watch/40262569" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
<!-- Google.Analytics counter -->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-88115679-2', 'auto');
    ga('send', 'pageview');

</script>
<!-- /Google.Analytics counter -->
</body>
</html>