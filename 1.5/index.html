<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.4">
<meta name="author" content="version: 1.5">
<title>Allure Framework</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
body{-webkit-font-smoothing:antialiased}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
body{tab-size:4}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="article toc2 toc-right">
<div id="header">
<h1>Allure Framework</h1>
<div class="details">
<span id="author" class="author">version: 1.5</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_glossary">1. Glossary</a></li>
<li><a href="#_features">2. Features</a></li>
<li><a href="#_integration">3. Integration</a>
<ul class="sectlevel2">
<li><a href="#_testng">3.1. TestNG</a></li>
<li><a href="#_junit_4">3.2. jUnit 4</a></li>
<li><a href="#_pytest">3.3. Pytest</a></li>
<li><a href="#_phpunit">3.4. PHPUnit</a></li>
<li><a href="#_jasmine">3.5. Jasmine</a></li>
<li><a href="#_cucumber">3.6. Cucumber</a></li>
<li><a href="#_cucumber_js">3.7. Cucumber JS</a></li>
<li><a href="#_cucumber_jvm">3.8. Cucumber JVM</a></li>
<li><a href="#_karma">3.9. Karma</a></li>
<li><a href="#_mocha">3.10. Mocha</a></li>
<li><a href="#_mstest">3.11. MSTest</a></li>
<li><a href="#_nose">3.12. Nose</a></li>
<li><a href="#_nunit">3.13. NUnit</a></li>
<li><a href="#_rspec">3.14. RSpec</a></li>
<li><a href="#_scaltest">3.15. Scaltest</a></li>
<li><a href="#_specs">3.16. Specs</a></li>
<li><a href="#_spock">3.17. Spock</a></li>
<li><a href="#_codeception">3.18. Codeception</a></li>
</ul>
</li>
<li><a href="#_reporting">4. Reporting</a>
<ul class="sectlevel2">
<li><a href="#_commandline">4.1. Commandline</a></li>
<li><a href="#_jenkins">4.2. Jenkins</a></li>
<li><a href="#_teamcity">4.3. TeamCity</a></li>
<li><a href="#_bamboo">4.4. Bamboo</a></li>
<li><a href="#_gradle_2">4.5. Gradle</a></li>
<li><a href="#_maven_4">4.6. Maven</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Allure Framework is a flexible lightweight multi-language test report tool with the possibility to add screenshots,
logs and so on. It provides modular architecture and neat web reports with the ability to store attachments, steps,
parameters and many more.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_glossary">1. Glossary</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1">Step</dt>
<dd>
<p>An atomic test logic execution unit. Each test case can consist of one or more steps. Steps allow to divide
complex test cases into smaller pieces of logic. This can dramatically simplify analysis of test results because we
can determine which part of a test case caused the overall test case failure.</p>
</dd>
<dt class="hdlist1">Attachment</dt>
<dd>
<p>Any data (e.g. screenshot, log file, URL) that needs to be added to test results in order to clarify things.</p>
</dd>
<dt class="hdlist1">Test</dt>
<dd>
<p>A procedure, either manually executed or automated, that can be used to verify that the system under test (SUT)
is behaving as expected. Often called a test case.</p>
</dd>
<dt class="hdlist1">Test case</dt>
<dd>
<p>Usually a synonym for “test.” In xUnit, it may also refer to a testcase class, which is actually a test
suite factory as well as a place to put a set of related test methods.</p>
</dd>
<dt class="hdlist1">Test fixture</dt>
<dd>
<p>Everything a system under test needs to have in place so that we can exercise the SUT for the purpose
of verifying its behavior.</p>
</dd>
<dt class="hdlist1">Test error</dt>
<dd>
<p>When a test is run, an error that keeps the test from running to completion. The error may be explicitly
risen or thrown by the system under test (SUT) or by the test itself, or it may be thrown by the runtime system
(e.g., operating system or virtual machine). In general, it is much easier to debug a test error than a test failure,
because the root of the problem tends to be much more local to where the test error occurs.
Compare with test failure and test success.</p>
</dd>
<dt class="hdlist1">Test failure</dt>
<dd>
<p>When a test is run and the actual outcome does not match the expected outcome.
Compare with test error and test success.</p>
</dd>
<dt class="hdlist1">Test result</dt>
<dd>
<p>A test or test suite can be run many times, each time yielding a different test result.</p>
</dd>
<dt class="hdlist1">Test run</dt>
<dd>
<p>A test or test suite can be run many times, each time yielding a different test result. Some commercial test
automation tools record the results of each test run for prosperity.</p>
</dd>
<dt class="hdlist1">Test success</dt>
<dd>
<p>A situation in which a test is run and all actual outcomes match the expected outcomes. Compare with
test failure and test error.</p>
</dd>
<dt class="hdlist1">Test suite</dt>
<dd>
<p>A way to name a collection of tests that we want to run together.</p>
</dd>
<dt class="hdlist1">Parameter</dt>
<dd>
<p>Any data coming from outside allowing to clearly describe the test execution environment. For example,
this can be an operating system version or JDK release, or the exact URL of the software installation being tested.</p>
</dd>
<dt class="hdlist1">Behavior-driven development</dt>
<dd>
<p>A variation on the test-driven development process wherein the focus of the tests is to
clearly describe the expected behavior of the system under test (SUT). The emphasis is on Tests as Documentation rather
than merely using tests for verification.</p>
</dd>
<dt class="hdlist1">Feature</dt>
<dd>
<p>A testable unit of functionality that can be built onto the evolving software system.</p>
</dd>
<dt class="hdlist1">Story</dt>
<dd>
<p>The unit of incremental development in eXtreme Programming. A user story corresponds roughly to a “feature”
in non-eXtreme Programming terminology and is typically decomposed into one or more tasks to be carried out by project
team members.</p>
</dd>
<dt class="hdlist1">System under test</dt>
<dd>
<p>Whatever thing we are testing defined from the perspective of the test, e.g. method, class,
object or the entire application.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_features">2. Features</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes the main features of Allure.
For example, you can group your tests by stories or features, attach files, and distribute assertions over a
set of custom steps, among other features. All features are supported by Java test frameworks, so we only provide
Java examples here. For details on how a particular adapter works with the test framework of your choice,
refer to the adapter guide.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_integration">3. Integration</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_testng">3.1. TestNG</h3>
<div class="paragraph">
<p>An Allure report can be generated for any TestNG test. In order to get test results, you need to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add AllureTestListener to TestNG settings.</p>
</li>
<li>
<p>Add AspectJ Weaver dependency and its properties.</p>
</li>
<li>
<p>Run tests.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_installation">3.1.1. Installation</h4>
<div class="sect4">
<h5 id="_maven">Maven</h5>
<div class="paragraph">
<p>See the example project: <a href="https://github.com/allure-examples/allure-testng-example" class="bare">https://github.com/allure-examples/allure-testng-example</a></p>
</div>
<div class="paragraph">
<p>You need to add the following to your <strong>pom.xml</strong>:</p>
</div>
<div class="listingblock">
<div class="title">pom.xml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;properties&gt;</span>
    <span class="tag">&lt;aspectj.version&gt;</span>1.7.4<span class="tag">&lt;/aspectj.version&gt;</span>
    <span class="tag">&lt;allure.version&gt;</span>{latest-allure-version}<span class="tag">&lt;/allure.version&gt;</span>
<span class="tag">&lt;/properties&gt;</span>

<span class="tag">&lt;dependencies&gt;</span>
    <span class="tag">&lt;dependency&gt;</span>
        <span class="tag">&lt;groupId&gt;</span>ru.yandex.qatools.allure<span class="tag">&lt;/groupId&gt;</span>
        <span class="tag">&lt;artifactId&gt;</span>allure-testng-adaptor<span class="tag">&lt;/artifactId&gt;</span>
        <span class="tag">&lt;version&gt;</span>${allure.version}<span class="tag">&lt;/version&gt;</span>
    <span class="tag">&lt;/dependency&gt;</span>
<span class="tag">&lt;/dependencies&gt;</span>

<span class="tag">&lt;build&gt;</span>
    <span class="tag">&lt;plugins&gt;</span>
        <span class="tag">&lt;plugin&gt;</span>
            <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
            <span class="tag">&lt;artifactId&gt;</span>maven-surefire-plugin<span class="tag">&lt;/artifactId&gt;</span>
            <span class="tag">&lt;version&gt;</span>2.14<span class="tag">&lt;/version&gt;</span>
            <span class="tag">&lt;configuration&gt;</span>
                <span class="tag">&lt;testFailureIgnore&gt;</span>false<span class="tag">&lt;/testFailureIgnore&gt;</span>
                <span class="tag">&lt;argLine&gt;</span>
                    -javaagent:${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar
                <span class="tag">&lt;/argLine&gt;</span>
                <span class="comment">&lt;!--only for 1.3.* TestNG adapters. Since 1.4.0.RC4, the listener adds via ServiceLoader--&gt;</span>
                <span class="tag">&lt;properties&gt;</span>
                    <span class="tag">&lt;property&gt;</span>
                        <span class="tag">&lt;name&gt;</span>listener<span class="tag">&lt;/name&gt;</span>
                        <span class="tag">&lt;value&gt;</span>ru.yandex.qatools.allure.testng.AllureTestListener<span class="tag">&lt;/value&gt;</span>
                    <span class="tag">&lt;/property&gt;</span>
                <span class="tag">&lt;/properties&gt;</span>
            <span class="tag">&lt;/configuration&gt;</span>
            <span class="tag">&lt;dependencies&gt;</span>
                <span class="tag">&lt;dependency&gt;</span>
                    <span class="tag">&lt;groupId&gt;</span>org.aspectj<span class="tag">&lt;/groupId&gt;</span>
                    <span class="tag">&lt;artifactId&gt;</span>aspectjweaver<span class="tag">&lt;/artifactId&gt;</span>
                    <span class="tag">&lt;version&gt;</span>${aspectj.version}<span class="tag">&lt;/version&gt;</span>
                <span class="tag">&lt;/dependency&gt;</span>
            <span class="tag">&lt;/dependencies&gt;</span>
        <span class="tag">&lt;/plugin&gt;</span>
    <span class="tag">&lt;/plugins&gt;</span>
<span class="tag">&lt;/build&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Then run the build as usual:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ mvn clean test</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_ant">Ant</h5>
<div class="paragraph">
<p>See the example project: <a href="https://github.com/allure-examples/allure-ant-testng-example" class="bare">https://github.com/allure-examples/allure-ant-testng-example</a></p>
</div>
<div class="paragraph">
<p>You need to declare the following dependencies in <strong>ivy.xml</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">.ivi.xml
<span class="tag">&lt;dependencies&gt;</span>
        <span class="tag">&lt;dependency</span> <span class="attribute-name">org</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">ru.yandex.qatools.allure</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">allure-testng-adaptor</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">rev</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">1.3.9</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;dependency</span> <span class="attribute-name">org</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">org.aspectj</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">aspectjweaver</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">rev</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">1.7.4</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
<span class="tag">&lt;/dependencies&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Then add the following target to <strong>build.xml</strong>:</p>
</div>
<div class="listingblock">
<div class="title">build.xml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;property</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">build.report</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">location</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${build}/report</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
<span class="tag">&lt;property</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">aspectj.version</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">1.7.4</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
<span class="tag">&lt;property</span> <span class="attribute-name">name</span> = <span class="string"><span class="delimiter">&quot;</span><span class="content">ivy.lib.dir</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${basedir}/lib</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
<span class="tag">&lt;path</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">lib.path.id</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;fileset</span> <span class="attribute-name">dir</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${ivy.lib.dir}</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
<span class="tag">&lt;/path&gt;</span>
<span class="tag">&lt;target</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">test</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">depends</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">test-compile</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">description</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Run the tests</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;taskdef</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">testng</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">classname</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">org.testng.TestNGAntTask</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;classpath&gt;</span>
            <span class="tag">&lt;path</span> <span class="attribute-name">refid</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">lib.path.id</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;/classpath&gt;</span>
    <span class="tag">&lt;/taskdef&gt;</span>
    <span class="tag">&lt;testng</span> <span class="attribute-name">workingDir</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${build.report}</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">outputdir</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${build.report}</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">listeners</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">ru.yandex.qatools.allure.testng.AllureTestListener</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;jvmarg</span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">-javaagent:${ivy.lib.dir}/aspectjweaver-${aspectj.version}.jar</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;classpath&gt;</span>
            <span class="tag">&lt;pathelement</span> <span class="attribute-name">location</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${build.compile}</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
            <span class="tag">&lt;pathelement</span> <span class="attribute-name">location</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${build.test-compile}</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
            <span class="tag">&lt;path</span> <span class="attribute-name">refid</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">lib.path.id</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;/classpath&gt;</span>
        <span class="tag">&lt;classfileset</span> <span class="attribute-name">dir</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${build.test-compile}</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">includes</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">**/*.class</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
    <span class="tag">&lt;/testng&gt;</span>
<span class="tag">&lt;/target&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Don&#8217;t forget to specify <strong>build.test-compile</strong> and <strong>build.compile</strong> properties pointing to your software source code and test *.class files, respectively. Then launch the build as usual:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ ant test</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_gradle">Gradle</h5>
<div class="paragraph">
<p>See the example project: <a href="https://github.com/allure-framework/allure-gradle-testng-example" class="bare">https://github.com/allure-framework/allure-gradle-testng-example</a></p>
</div>
<div class="paragraph">
<p>You need to add the following to <strong>build.gradle</strong>:</p>
</div>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">configurations {
    agent
}

dependencies {
    agent <span class="string"><span class="delimiter">&quot;</span><span class="content">org.aspectj:aspectjweaver:</span><span class="inline"><span class="inline-delimiter">${</span>aspectjVersion<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
    testCompile <span class="string"><span class="delimiter">&quot;</span><span class="content">ru.yandex.qatools.allure:allure-testng-adaptor:</span><span class="inline"><span class="inline-delimiter">${</span>allureVersion<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
}


test.doFirst {
    jvmArgs <span class="string"><span class="delimiter">&quot;</span><span class="content">-javaagent:</span><span class="inline"><span class="inline-delimiter">${</span>configurations.agent.singleFile<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
}

test {
    useTestNG()
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You should also specify the Allure and Aspectj versions in <strong>gradle.properties</strong>:</p>
</div>
<div class="listingblock">
<div class="title">gradle.properties</div>
<div class="content">
<pre class="CodeRay highlight"><code>aspectjVersion=1.8.0
allureVersion=1.4.0.RC4</code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally, to output Allure results to the <strong>build</strong> directory (the default is <strong>target/allure-results</strong>), you need to put the <strong>allure.properties</strong> file in <strong>src/test/resources/</strong>:
[source] allure.results.directory=build/allure-results</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_features_2">3.1.2. Features</h4>
<div class="paragraph">
<p>This adapter comes with a set of Java annotations and traits allowing to use main Allure features.</p>
</div>
<div class="sect4">
<h5 id="_title">Title</h5>
<div class="paragraph">
<p>In order to add such title to any test class or <a href="https://github.com/allure-framework/allure-core/wiki/Glossary#test-case">test case</a>
method you need to annotate it with <strong>@Title</strong> annotation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">my.company.tests</span>;

<span class="keyword">import</span> <span class="include">org.testng.annotations.Test</span>;
<span class="keyword">import</span> <span class="include">ru.yandex.qatools.allure.annotations.Title</span>;

<span class="annotation">@Title</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Human-readable test suite title</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">SearchTest</span> {

    <span class="annotation">@Test</span>
    <span class="annotation">@Title</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Human-readable test case title</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">public</span> <span class="type">void</span> searchTest() <span class="directive">throws</span> <span class="exception">Exception</span> {
        ...
    }

}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_description">Description</h5>
<div class="paragraph">
<p>Similarly you can add detailed description for each test class and
<a href="https://github.com/allure-framework/allure-core/wiki/Glossary#test-case">test method</a>.</p>
</div>
<div class="paragraph">
<p>To add such description simply use <strong>@Description</strong> annotation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">my.company.tests</span>;

<span class="keyword">import</span> <span class="include">org.testng.annotations.Test</span>;
<span class="keyword">import</span> <span class="include">ru.yandex.qatools.allure.annotations.Description</span>;

<span class="annotation">@Test</span>
<span class="annotation">@Description</span>(
        value = <span class="string"><span class="delimiter">&quot;</span><span class="content">Detailed description for this &lt;a href=</span><span class="delimiter">&quot;</span></span>...<span class="string"><span class="delimiter">&quot;</span><span class="content">&gt;test suite&lt;/a&gt;.</span><span class="delimiter">&quot;</span></span>,
        type = DescriptionType.HTML
)
<span class="directive">public</span> <span class="type">class</span> <span class="class">SearchTest</span> {

    <span class="annotation">@Test</span>
    <span class="annotation">@Description</span>(
            value = <span class="string"><span class="delimiter">&quot;</span><span class="content">Detailed description for this *test case*.</span><span class="delimiter">&quot;</span></span>,
            type = DescriptionType.MARKDOWN
    )
    <span class="directive">public</span> <span class="type">void</span> searchTest() <span class="directive">throws</span> <span class="exception">Exception</span> {
        ...
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Description can be added in plain <strong>text</strong>, <strong>HTML</strong> or <strong>Markdown</strong> format - simply assign different <strong>type</strong> value.</p>
</div>
</div>
<div class="sect4">
<h5 id="_steps">Steps</h5>
<div class="paragraph">
<p>Steps are any actions that constitute a testing scenario. Steps can be used in different testing scenarios.
They can: be parametrized, make checks, have nested steps, and create attachments. Each step has a name.</p>
</div>
<div class="paragraph">
<p>In order to define steps in Java code, you need to annotate the respective methods with <strong>@Step</strong> annotation.
When not specified, the step name is equal to the annotated method name converted to human-readable format.
To define an explicit step name:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Step</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Open {0} page.</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">void</span> openPageByAddress(<span class="predefined-type">String</span> pageAddress) {
     ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Step names support the following placeholders:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>{N}</strong> where N is a zero-based positive integer that will be replaced by the Nth method argument value (0 corresponds
to the first argument, 1 to the second, etc.). See example above.</p>
</li>
<li>
<p><strong>{method}</strong> will be replaced by the annotated method name e.g. <strong>openPageByAddress</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Depending on the project layout, you can consider adding Allure dependency to the test scope only.</p>
</div>
</div>
<div class="sect4">
<h5 id="_attachments">Attachments</h5>
<div class="paragraph">
<p>An attachment in Java code is simply a method annotated with <strong>@Attachment</strong> that returns either
a <strong>String</strong> or <strong>byte[]</strong>, which should be added to the report:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Attachment</span>
<span class="directive">public</span> <span class="predefined-type">String</span> performedActions(ActionSequence actionSequence) {
    <span class="keyword">return</span> actionSequence.toString();
}

<span class="annotation">@Attachment</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="content">Page screenshot</span><span class="delimiter">&quot;</span></span>, type = <span class="string"><span class="delimiter">&quot;</span><span class="content">image/png</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">byte</span><span class="type">[]</span> saveScreenshot(<span class="type">byte</span><span class="type">[]</span> screenShot) {
    <span class="keyword">return</span> screenShot;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If return type in a method annotated with <strong>@Attachment</strong> differs from <strong>String</strong> or <strong>byte[]</strong> we call <strong>toString()</strong>
on return value to get attachment contents.</p>
</div>
<div class="paragraph">
<p>You can specify exact MIME type for each attached file using <strong>type</strong> parameter of <strong>@Attachment</strong> annotation
like shown above. However there&#8217;s no need to explicitly specify attachment type for all attached files as Allure
by default analyses attachment contents and can determine attachment type automatically. You usually need to
specify attachment type when working with plain text files.</p>
</div>
</div>
<div class="sect4">
<h5 id="_issues_tracker">Issues Tracker</h5>
<div class="paragraph">
<p>To link a <a href="https://github.com/allure-framework/allure-core/wiki/Glossary#test-case">test case</a> or a
<a href="https://github.com/allure-framework/allure-core/wiki/Glossary#test-suite">test suite</a> to such issues,
you can use <strong>@Issue</strong> annotation. Simply specify the issue key as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Issue</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">MYISSUE-1</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">void</span> testSomething() {
     ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To add multiple issues, use <strong>@Issues</strong> annotation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Issues</span>({
    <span class="annotation">@Issue</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">MYISSUE-1</span><span class="delimiter">&quot;</span></span>),
    <span class="annotation">@Issue</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">MYISSUE-2</span><span class="delimiter">&quot;</span></span>)
})
<span class="directive">public</span> <span class="type">void</span> testSomething() {
     ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To specify the issue tracker URL, use the <strong>allure.issues.tracker.pattern</strong> property during report generation
(either in the <strong>allure.properties</strong> file or as your build tool property):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>allure.issues.tracker.pattern=http://github.com/allure-framework/allure-core/issues/%s</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_test_management_system">Test Management System</h5>
<div class="paragraph">
<p>To link a <a href="https://github.com/allure-framework/allure-core/wiki/Glossary#test-case">test case</a> to Test Management System,
you can use <strong>@TestCaseId</strong> annotation. Simply specify the test case ID as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@TestCaseId</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">TMS-1</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">void</span> testSomething() {
     ...
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_parameters">Parameters</h5>
<div class="paragraph">
<p>In order to add information about test method
<a href="https://github.com/allure-framework/allure-core/wiki/Glossary#parameter">parameters</a>
you should use <strong>@Parameter</strong> annotation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">my.company.tests</span>;

<span class="keyword">import</span> <span class="include">org.testng.annotations.Test</span>;
<span class="keyword">import</span> <span class="include">ru.yandex.qatools.allure.annotations.Parameter</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">SearchTest</span> {

    <span class="annotation">@Parameter</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Base web driver url</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">private</span> <span class="directive">final</span> <span class="predefined-type">String</span> baseUrl = <span class="string"><span class="delimiter">&quot;</span><span class="content">http://...</span><span class="delimiter">&quot;</span></span>;

    <span class="annotation">@Test</span>
    <span class="directive">public</span> <span class="type">void</span> searchTest() <span class="directive">throws</span> <span class="exception">Exception</span> {

    }

}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_severity">Severity</h5>
<div class="paragraph">
<p><strong>@Severity</strong> annotation is used in order to prioritize test methods by severity:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">my.company.tests</span>;

<span class="keyword">import</span> <span class="include">org.testng.annotations.Test</span>;
<span class="keyword">import</span> <span class="include">ru.yandex.qatools.allure.annotations.Severity</span>;
<span class="keyword">import</span> <span class="include">ru.yandex.qatools.allure.model.SeverityLevel</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">SearchTest</span> {

    <span class="annotation">@Test</span>
    <span class="annotation">@Severity</span>(SeverityLevel.CRITICAL)
    <span class="directive">public</span> <span class="type">void</span> searchTest() <span class="directive">throws</span> <span class="exception">Exception</span> {

    }

}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_behaviours_mapping">Behaviours Mapping</h5>
<div class="paragraph">
<p>In some development approaches tests are classified by
<a href="https://github.com/allure-framework/allure-core/wiki/Glossary#user-story">stories</a>
and <a href="https://github.com/allure-framework/allure-core/wiki/Glossary#feature">features</a>.
If you&#8217;re using this then you can annotate your test with <strong>@Stories</strong> and <strong>@Features</strong> annotations:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">my.company.tests</span>;

<span class="keyword">import</span> <span class="include">org.testng.annotations.Test</span>;
<span class="keyword">import</span> <span class="include">ru.yandex.qatools.allure.annotations.Features</span>;
<span class="keyword">import</span> <span class="include">ru.yandex.qatools.allure.annotations.Stories</span>;

<span class="annotation">@Features</span>({<span class="string"><span class="delimiter">&quot;</span><span class="content">nested-test-cases-feature</span><span class="delimiter">&quot;</span></span>})
<span class="annotation">@Stories</span>({<span class="string"><span class="delimiter">&quot;</span><span class="content">nested-test-cases-story</span><span class="delimiter">&quot;</span></span>})
<span class="directive">public</span> <span class="type">class</span> <span class="class">SearchTest</span> {

    <span class="annotation">@Test</span>
    <span class="annotation">@Features</span>({<span class="string"><span class="delimiter">&quot;</span><span class="content">test-case-feature</span><span class="delimiter">&quot;</span></span>})
    <span class="annotation">@Stories</span>({<span class="string"><span class="delimiter">&quot;</span><span class="content">test-case-story</span><span class="delimiter">&quot;</span></span>})
    <span class="directive">public</span> <span class="type">void</span> searchTest() <span class="directive">throws</span> <span class="exception">Exception</span> {
        ...
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You will then be able to filter tests by specified features and stories in generated Allure report.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_junit_4">3.2. jUnit 4</h3>
<div class="sect3">
<h4 id="_installation_2">3.2.1. Installation</h4>
<div class="sect4">
<h5 id="_maven_2">Maven</h5>
<div class="paragraph">
<p>You need to add the following to your <strong>pom.xml</strong>:</p>
</div>
<div class="listingblock">
<div class="title">pom.xml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">...
<span class="tag">&lt;properties&gt;</span>
    <span class="tag">&lt;aspectj.version&gt;</span>1.7.4<span class="tag">&lt;/aspectj.version&gt;</span>
    <span class="tag">&lt;allure.version&gt;</span>{latest-allure-version}<span class="tag">&lt;/allure.version&gt;</span>
<span class="tag">&lt;/properties&gt;</span>

<span class="tag">&lt;dependencies&gt;</span>
    <span class="tag">&lt;dependency&gt;</span>
        <span class="tag">&lt;groupId&gt;</span>ru.yandex.qatools.allure<span class="tag">&lt;/groupId&gt;</span>
        <span class="tag">&lt;artifactId&gt;</span>allure-junit-adaptor<span class="tag">&lt;/artifactId&gt;</span>
        <span class="tag">&lt;version&gt;</span>${allure.version}<span class="tag">&lt;/version&gt;</span>
    <span class="tag">&lt;/dependency&gt;</span>
<span class="tag">&lt;/dependencies&gt;</span>

<span class="tag">&lt;build&gt;</span>
    <span class="tag">&lt;plugins&gt;</span>
        <span class="tag">&lt;plugin&gt;</span>
            <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
            <span class="tag">&lt;artifactId&gt;</span>maven-surefire-plugin<span class="tag">&lt;/artifactId&gt;</span>
            <span class="tag">&lt;version&gt;</span>2.14<span class="tag">&lt;/version&gt;</span>
            <span class="tag">&lt;configuration&gt;</span>
                <span class="tag">&lt;testFailureIgnore&gt;</span>false<span class="tag">&lt;/testFailureIgnore&gt;</span>
                <span class="tag">&lt;argLine&gt;</span>
                    -javaagent:${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar
                <span class="tag">&lt;/argLine&gt;</span>
                <span class="tag">&lt;properties&gt;</span>
                    <span class="tag">&lt;property&gt;</span>
                        <span class="tag">&lt;name&gt;</span>listener<span class="tag">&lt;/name&gt;</span>
                        <span class="tag">&lt;value&gt;</span>ru.yandex.qatools.allure.junit.AllureRunListener<span class="tag">&lt;/value&gt;</span>
                    <span class="tag">&lt;/property&gt;</span>
                <span class="tag">&lt;/properties&gt;</span>
            <span class="tag">&lt;/configuration&gt;</span>
            <span class="tag">&lt;dependencies&gt;</span>
                <span class="tag">&lt;dependency&gt;</span>
                    <span class="tag">&lt;groupId&gt;</span>org.aspectj<span class="tag">&lt;/groupId&gt;</span>
                    <span class="tag">&lt;artifactId&gt;</span>aspectjweaver<span class="tag">&lt;/artifactId&gt;</span>
                    <span class="tag">&lt;version&gt;</span>${aspectj.version}<span class="tag">&lt;/version&gt;</span>
                <span class="tag">&lt;/dependency&gt;</span>
            <span class="tag">&lt;/dependencies&gt;</span>
        <span class="tag">&lt;/plugin&gt;</span>
    <span class="tag">&lt;/plugins&gt;</span>
<span class="tag">&lt;/build&gt;</span>
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then run the build as usual:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ mvn clean test</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_ant_2">Ant</h5>
<div class="paragraph">
<p>Right now using Allure with <a href="http://ant.apache.org">Ant</a> is not possible,
because the <a href="http://junit.sourceforge.net/javadoc/org/junit/runner/notification/RunListener.html">RunListener</a> that we
provide is only supported in JUnit 4, whereas even the latest version of Ant requires the implementation of JUnit 3 specific interfaces.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_features_3">3.2.2. Features</h4>
<div class="paragraph">
<p>This adapter comes with a set of Java annotations and traits allowing to use main Allure features.</p>
</div>
<div class="sect4">
<h5 id="_title_2">Title</h5>
<div class="paragraph">
<p>In order to add such title to any test class or <a href="https://github.com/allure-framework/allure-core/wiki/Glossary#test-case">test case</a>
method you need to annotate it with <strong>@Title</strong> annotation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">my.company.tests</span>;

<span class="keyword">import</span> <span class="include">org.junit.Test</span>;
<span class="keyword">import</span> <span class="include">ru.yandex.qatools.allure.annotations.Title</span>;

<span class="annotation">@Title</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Human-readable test suite title</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">SearchTest</span> {

    <span class="annotation">@Test</span>
    <span class="annotation">@Title</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Human-readable test case title</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">public</span> <span class="type">void</span> searchTest() <span class="directive">throws</span> <span class="exception">Exception</span> {
        ...
    }

}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_description_2">Description</h5>
<div class="paragraph">
<p>Similarly you can add detailed description for each test class and
<a href="https://github.com/allure-framework/allure-core/wiki/Glossary#test-case">test method</a>.</p>
</div>
<div class="paragraph">
<p>To add such description simply use <strong>@Description</strong> annotation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">my.company.tests</span>;

<span class="keyword">import</span> <span class="include">org.junit.Test</span>;
<span class="keyword">import</span> <span class="include">ru.yandex.qatools.allure.annotations.Description</span>;

<span class="annotation">@Test</span>
<span class="annotation">@Description</span>(
        value = <span class="string"><span class="delimiter">&quot;</span><span class="content">Detailed description for this &lt;a href=</span><span class="delimiter">&quot;</span></span>...<span class="string"><span class="delimiter">&quot;</span><span class="content">&gt;test suite&lt;/a&gt;.</span><span class="delimiter">&quot;</span></span>,
        type = DescriptionType.HTML
)
<span class="directive">public</span> <span class="type">class</span> <span class="class">SearchTest</span> {

    <span class="annotation">@Test</span>
    <span class="annotation">@Description</span>(
            value = <span class="string"><span class="delimiter">&quot;</span><span class="content">Detailed description for this *test case*.</span><span class="delimiter">&quot;</span></span>,
            type = DescriptionType.MARKDOWN
    )
    <span class="directive">public</span> <span class="type">void</span> searchTest() <span class="directive">throws</span> <span class="exception">Exception</span> {
        ...
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Description can be added in plain <strong>text</strong>, <strong>HTML</strong> or <strong>Markdown</strong> format - simply assign different <strong>type</strong> value.</p>
</div>
</div>
<div class="sect4">
<h5 id="_steps_2">Steps</h5>
<div class="paragraph">
<p>Steps are any actions that constitute a testing scenario. Steps can be used in different testing scenarios.
They can: be parametrized, make checks, have nested steps, and create attachments. Each step has a name.</p>
</div>
<div class="paragraph">
<p>In order to define steps in Java code, you need to annotate the respective methods with <strong>@Step</strong> annotation.
When not specified, the step name is equal to the annotated method name converted to human-readable format.
To define an explicit step name:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Step</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Open {0} page.</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">void</span> openPageByAddress(<span class="predefined-type">String</span> pageAddress) {
     ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Step names support the following placeholders:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>{N}</strong> where N is a zero-based positive integer that will be replaced by the Nth method argument value (0 corresponds
to the first argument, 1 to the second, etc.). See example above.</p>
</li>
<li>
<p><strong>{method}</strong> will be replaced by the annotated method name e.g. <strong>openPageByAddress</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Depending on the project layout, you can consider adding Allure dependency to the test scope only.</p>
</div>
</div>
<div class="sect4">
<h5 id="_attachments_2">Attachments</h5>
<div class="paragraph">
<p>An attachment in Java code is simply a method annotated with <strong>@Attachment</strong> that returns either
a <strong>String</strong> or <strong>byte[]</strong>, which should be added to the report:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Attachment</span>
<span class="directive">public</span> <span class="predefined-type">String</span> performedActions(ActionSequence actionSequence) {
    <span class="keyword">return</span> actionSequence.toString();
}

<span class="annotation">@Attachment</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="content">Page screenshot</span><span class="delimiter">&quot;</span></span>, type = <span class="string"><span class="delimiter">&quot;</span><span class="content">image/png</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">byte</span><span class="type">[]</span> saveScreenshot(<span class="type">byte</span><span class="type">[]</span> screenShot) {
    <span class="keyword">return</span> screenShot;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If return type in a method annotated with <strong>@Attachment</strong> differs from <strong>String</strong> or <strong>byte[]</strong> we call <strong>toString()</strong>
on return value to get attachment contents.</p>
</div>
<div class="paragraph">
<p>You can specify exact MIME type for each attached file using <strong>type</strong> parameter of <strong>@Attachment</strong> annotation
like shown above. However there&#8217;s no need to explicitly specify attachment type for all attached files as Allure
by default analyses attachment contents and can determine attachment type automatically. You usually need to
specify attachment type when working with plain text files.</p>
</div>
</div>
<div class="sect4">
<h5 id="_issues_tracker_2">Issues Tracker</h5>
<div class="paragraph">
<p>To link a <a href="https://github.com/allure-framework/allure-core/wiki/Glossary#test-case">test case</a> or a
<a href="https://github.com/allure-framework/allure-core/wiki/Glossary#test-suite">test suite</a> to such issues,
you can use <strong>@Issue</strong> annotation. Simply specify the issue key as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Issue</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">MYISSUE-1</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">void</span> testSomething() {
     ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To add multiple issues, use <strong>@Issues</strong> annotation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Issues</span>({
    <span class="annotation">@Issue</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">MYISSUE-1</span><span class="delimiter">&quot;</span></span>),
    <span class="annotation">@Issue</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">MYISSUE-2</span><span class="delimiter">&quot;</span></span>)
})
<span class="directive">public</span> <span class="type">void</span> testSomething() {
     ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To specify the issue tracker URL, use the <strong>allure.issues.tracker.pattern</strong> property during report generation
(either in the <strong>allure.properties</strong> file or as your build tool property):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>allure.issues.tracker.pattern=http://github.com/allure-framework/allure-core/issues/%s</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_test_management_system_2">Test Management System</h5>
<div class="paragraph">
<p>To link a <a href="https://github.com/allure-framework/allure-core/wiki/Glossary#test-case">test case</a> to Test Management System,
you can use <strong>@TestCaseId</strong> annotation. Simply specify the test case ID as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@TestCaseId</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">TMS-1</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">void</span> testSomething() {
     ...
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_2">Parameters</h5>
<div class="paragraph">
<p>In order to add information about test method
<a href="https://github.com/allure-framework/allure-core/wiki/Glossary#parameter">parameters</a>
you should use <strong>@Parameter</strong> annotation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">my.company.tests</span>;

<span class="keyword">import</span> <span class="include">org.junit.Test</span>;
<span class="keyword">import</span> <span class="include">ru.yandex.qatools.allure.annotations.Parameter</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">SearchTest</span> {

    <span class="annotation">@Parameter</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Base web driver url</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">private</span> <span class="directive">final</span> <span class="predefined-type">String</span> baseUrl = <span class="string"><span class="delimiter">&quot;</span><span class="content">http://...</span><span class="delimiter">&quot;</span></span>;

    <span class="annotation">@Test</span>
    <span class="directive">public</span> <span class="type">void</span> searchTest() <span class="directive">throws</span> <span class="exception">Exception</span> {

    }

}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_severity_2">Severity</h5>
<div class="paragraph">
<p><strong>@Severity</strong> annotation is used in order to prioritize test methods by severity:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">my.company.tests</span>;

<span class="keyword">import</span> <span class="include">org.junit.Test</span>;
<span class="keyword">import</span> <span class="include">ru.yandex.qatools.allure.annotations.Severity</span>;
<span class="keyword">import</span> <span class="include">ru.yandex.qatools.allure.model.SeverityLevel</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">SearchTest</span> {

    <span class="annotation">@Test</span>
    <span class="annotation">@Severity</span>(SeverityLevel.CRITICAL)
    <span class="directive">public</span> <span class="type">void</span> searchTest() <span class="directive">throws</span> <span class="exception">Exception</span> {

    }

}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_behaviours_mapping_2">Behaviours Mapping</h5>
<div class="paragraph">
<p>In some development approaches tests are classified by
<a href="https://github.com/allure-framework/allure-core/wiki/Glossary#user-story">stories</a>
and <a href="https://github.com/allure-framework/allure-core/wiki/Glossary#feature">features</a>.
If you&#8217;re using this then you can annotate your test with <strong>@Stories</strong> and <strong>@Features</strong> annotations:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">my.company.tests</span>;

<span class="keyword">import</span> <span class="include">org.junit.Test</span>;
<span class="keyword">import</span> <span class="include">ru.yandex.qatools.allure.annotations.Features</span>;
<span class="keyword">import</span> <span class="include">ru.yandex.qatools.allure.annotations.Stories</span>;

<span class="annotation">@Features</span>({<span class="string"><span class="delimiter">&quot;</span><span class="content">nested-test-cases-feature</span><span class="delimiter">&quot;</span></span>})
<span class="annotation">@Stories</span>({<span class="string"><span class="delimiter">&quot;</span><span class="content">nested-test-cases-story</span><span class="delimiter">&quot;</span></span>})
<span class="directive">public</span> <span class="type">class</span> <span class="class">SearchTest</span> {

    <span class="annotation">@Test</span>
    <span class="annotation">@Features</span>({<span class="string"><span class="delimiter">&quot;</span><span class="content">test-case-feature</span><span class="delimiter">&quot;</span></span>})
    <span class="annotation">@Stories</span>({<span class="string"><span class="delimiter">&quot;</span><span class="content">test-case-story</span><span class="delimiter">&quot;</span></span>})
    <span class="directive">public</span> <span class="type">void</span> searchTest() <span class="directive">throws</span> <span class="exception">Exception</span> {
        ...
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You will then be able to filter tests by specified features and stories in generated Allure report.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_pytest">3.3. Pytest</h3>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
This plugin currently supports only Allure 1.4.x series.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_installation_and_usage">3.3.1. Installation and Usage</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python">py.test --alluredir [path_to_report_dir]
<span class="comment"># WARNING [path_to_report_dir] will be purged at first run</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This plugin gets automatically connected to <code>py.test</code> via <code>entry point</code> if installed.</p>
</div>
<div class="paragraph">
<p>Connecting to IDE:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python">pytest_plugins = <span class="string"><span class="delimiter">'</span><span class="content">allure.pytest_plugin</span><span class="delimiter">'</span></span>,<span class="error">\</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_features_4">3.3.2. Features</h4>
<div class="sect4">
<h5 id="_title_3">Title</h5>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Not implemented now
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_description_3">Description</h5>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Not implemented now
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_steps_3">Steps</h5>
<div class="paragraph">
<p>To divide a test into steps:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">import</span> <span class="include">pytest</span>

<span class="keyword">def</span> <span class="function">test_foo</span>():
    <span class="keyword">with</span> pytest.allure.step(<span class="string"><span class="delimiter">'</span><span class="content">step one</span><span class="delimiter">'</span></span>):
        <span class="comment"># do stuff</span>

    <span class="keyword">with</span> pytest.allure.step(<span class="string"><span class="delimiter">'</span><span class="content">step two</span><span class="delimiter">'</span></span>):
        <span class="comment"># do more stuff</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Can also be used as decorators. By default step name is generated from method name:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">import</span> <span class="include">pytest</span>

<span class="decorator">@pytest.allure.step</span>
<span class="keyword">def</span> <span class="function">make_test_data_foo</span>():
    <span class="comment"># do stuff</span>

<span class="keyword">def</span> <span class="function">test_foo</span>():
    <span class="keyword">assert</span> make_some_data_foo() <span class="keyword">is</span> <span class="keyword">not</span> <span class="predefined-constant">None</span>

<span class="decorator">@pytest.allure.step</span>(<span class="string"><span class="delimiter">'</span><span class="content">make_some_data_foo</span><span class="delimiter">'</span></span>)
<span class="keyword">def</span> <span class="function">make_some_data_bar</span>():
    <span class="comment"># do another stuff</span>

<span class="keyword">def</span> <span class="function">test_bar</span>():
    <span class="keyword">assert</span> make_some_data_bar() <span class="keyword">is</span> <span class="keyword">not</span> <span class="predefined-constant">None</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Steps can also be used without pytest. In that case instead of <code>pytest.allure.step</code> simply use <code>allure.step</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">import</span> <span class="include">allure</span>

<span class="decorator">@allure.step</span>(<span class="string"><span class="delimiter">'</span><span class="content">some operation</span><span class="delimiter">'</span></span>)
<span class="keyword">def</span> <span class="function">do_operation</span>():
    <span class="comment"># do stuff</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>allure.step</code> decorator supports step name formatting with function parameters:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">import</span> <span class="include">allure</span>

<span class="decorator">@allure.step</span>(<span class="string"><span class="delimiter">'</span><span class="content">some operation for bar={0}</span><span class="delimiter">'</span></span>)
<span class="keyword">def</span> <span class="function">do_operation</span>(bar):
    <span class="comment"># do stuff</span>

<span class="keyword">def</span> <span class="function">test_foo</span>():
    <span class="keyword">assert</span> do_operation(<span class="string"><span class="delimiter">'</span><span class="content">abcdef</span><span class="delimiter">'</span></span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>The step in the latter case will have name <code>some operation for bar=abcdef</code>.
Formatting is done via python&#8217;s built-in <code>string.format</code> and supports it&#8217;s options.
Arguments are passed to <code>format</code> method in the same way they are passed to the decorated function.</p>
</div>
<div class="paragraph">
<p>Steps support is limited when used with fixtures.</p>
</div>
</div>
<div class="sect4">
<h5 id="_attachments_3">Attachments</h5>
<div class="paragraph">
<p>To attach some content to test report:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">import</span> <span class="include">allure</span>

<span class="keyword">def</span> <span class="function">test_foo</span>():
    allure.attach(<span class="string"><span class="delimiter">'</span><span class="content">my attach</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">Hello, World</span><span class="delimiter">'</span></span>)</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_issues_tracker_3">Issues Tracker</h5>
<div class="paragraph">
<p>Issues can be set for test.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">import</span> <span class="include">pytest</span>

<span class="decorator">@pytest.allure.issue</span>(<span class="string"><span class="delimiter">'</span><span class="content">http://jira.lan/browse/ISSUE-1</span><span class="delimiter">'</span></span>)
<span class="keyword">def</span> <span class="function">test_foo</span>():
    <span class="keyword">assert</span> <span class="predefined-constant">False</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">import</span> <span class="include">allure</span>

<span class="decorator">@allure.issue</span>(<span class="string"><span class="delimiter">'</span><span class="content">http://jira.lan/browse/ISSUE-2</span><span class="delimiter">'</span></span>)
<span class="keyword">class</span> <span class="class">TestBar</span>:

    <span class="comment"># test will have ISSUE-2, ISSUE-3 and ISSUE-4 label</span>
    <span class="decorator">@allure.issue</span>(<span class="string"><span class="delimiter">'</span><span class="content">http://jira.lan/browse/ISSUE-3</span><span class="delimiter">'</span></span>)
    <span class="keyword">def</span> <span class="function">test_bar1</span>(<span class="predefined-constant">self</span>):
        <span class="comment"># You can use this feature like a function inside the test</span>
        allure.dynamic_issue(<span class="string"><span class="delimiter">'</span><span class="content">http://jira.lan/browse/ISSUE-4</span><span class="delimiter">'</span></span>)
        <span class="keyword">pass</span>

    <span class="comment"># test will have only ISSUE-2 label</span>
    <span class="keyword">def</span> <span class="function">test_bar2</span>(<span class="predefined-constant">self</span>):
        <span class="keyword">pass</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_test_management_system_3">Test Management System</h5>
<div class="paragraph">
<p>Test cases links can be set for test also.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">import</span> <span class="include">pytest</span>

<span class="decorator">@pytest.allure.testcase</span>(<span class="string"><span class="delimiter">'</span><span class="content">http://my.tms.org/TESTCASE-1</span><span class="delimiter">'</span></span>)
<span class="keyword">def</span> <span class="function">test_foo</span>():
    <span class="keyword">assert</span> <span class="predefined-constant">False</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">import</span> <span class="include">allure</span>

<span class="decorator">@allure.testcase</span>(<span class="string"><span class="delimiter">'</span><span class="content">http://my.tms.org/browse/TESTCASE-2</span><span class="delimiter">'</span></span>)
<span class="keyword">class</span> <span class="class">TestBar</span>:

    <span class="comment"># test will have TESTCASE-2 and TESTCASE-3 label</span>
    <span class="decorator">@allure.testcase</span>(<span class="string"><span class="delimiter">'</span><span class="content">TESTCASE-3</span><span class="delimiter">'</span></span>)
    <span class="keyword">def</span> <span class="function">test_bar1</span>(<span class="predefined-constant">self</span>):
        <span class="keyword">pass</span>

    <span class="comment"># test will have only TESTCASE-2 label</span>
    <span class="keyword">def</span> <span class="function">test_bar2</span>(<span class="predefined-constant">self</span>):
        <span class="keyword">pass</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_3">Parameters</h5>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Not implemented now
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_severity_3">Severity</h5>
<div class="paragraph">
<p>Any test, class or module can be marked with different severity:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">import</span> <span class="include">pytest</span>

<span class="decorator">@pytest.allure.severity</span>(pytest.allure.severity_level.MINOR)
<span class="keyword">def</span> <span class="function">test_minor</span>():
    <span class="keyword">assert</span> <span class="predefined-constant">False</span>


<span class="decorator">@pytest.allure.severity</span>(pytest.allure.severity_level.CRITICAL)
<span class="keyword">class</span> <span class="class">TestBar</span>:

    <span class="comment"># will have CRITICAL priority</span>
    <span class="keyword">def</span> <span class="function">test_bar</span>(<span class="predefined-constant">self</span>):
        <span class="keyword">pass</span>

    <span class="comment"># will have BLOCKER priority via a short-cut decorator</span>
    <span class="decorator">@pytest.allure.BLOCKER</span>
    <span class="keyword">def</span> <span class="function">test_bar</span>(<span class="predefined-constant">self</span>):
        <span class="keyword">pass</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To run tests with concrete priority:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="rest">py.test my_tests/ --allure_severities=critical,blocker</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_behaviours_mapping_3">Behaviours Mapping</h5>
<div class="paragraph">
<p>Feature and Story can be set for test.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">import</span> <span class="include">allure</span>


<span class="decorator">@allure.feature</span>(<span class="string"><span class="delimiter">'</span><span class="content">Feature1</span><span class="delimiter">'</span></span>)
<span class="decorator">@allure.story</span>(<span class="string"><span class="delimiter">'</span><span class="content">Story1</span><span class="delimiter">'</span></span>)
<span class="keyword">def</span> <span class="function">test_minor</span>():
    <span class="keyword">assert</span> <span class="predefined-constant">False</span>


<span class="decorator">@allure.feature</span>(<span class="string"><span class="delimiter">'</span><span class="content">Feature2</span><span class="delimiter">'</span></span>)
<span class="decorator">@allure.story</span>(<span class="string"><span class="delimiter">'</span><span class="content">Story2</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">Story3</span><span class="delimiter">'</span></span>)
<span class="decorator">@allure.story</span>(<span class="string"><span class="delimiter">'</span><span class="content">Story4</span><span class="delimiter">'</span></span>)
 <span class="keyword">class</span> <span class="class">TestBar</span>:

    <span class="comment"># will have 'Feature2 and Story2 and Story3 and Story4'</span>
    <span class="keyword">def</span> <span class="function">test_bar</span>(<span class="predefined-constant">self</span>):
        <span class="keyword">pass</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To run tests by Feature or Story:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="rest">py.test my_tests/ --allure_features=feature1,feature2
py.test my_tests/ --allure_features=feature1,feature2 --allure_stories=story1,story2</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_environment_parameters">Environment Parameters</h5>
<div class="paragraph">
<p>You can provide test environment parameters such as report name, browser or test server address to allure test report.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">import</span> <span class="include">allure</span>
<span class="keyword">import</span> <span class="include">pytest</span>


<span class="keyword">def</span> <span class="function">pytest_configure</span>(config):
    allure.environment(report=<span class="string"><span class="delimiter">'</span><span class="content">Allure report</span><span class="delimiter">'</span></span>, browser=<span class="string"><span class="modifier">u</span><span class="delimiter">'</span><span class="content">Я.Браузер</span><span class="delimiter">'</span></span>)


<span class="decorator">@pytest.fixture</span>(scope=<span class="string"><span class="delimiter">&quot;</span><span class="content">session</span><span class="delimiter">&quot;</span></span>)
<span class="keyword">def</span> <span class="function">app_host_name</span>():
    host_name = <span class="string"><span class="delimiter">&quot;</span><span class="content">my.host.local</span><span class="delimiter">&quot;</span></span>
    allure.environment(hostname=host_name)
    <span class="keyword">return</span> host_name


<span class="decorator">@pytest.mark.parametrize</span>(<span class="string"><span class="delimiter">'</span><span class="content">country</span><span class="delimiter">'</span></span>, (<span class="string"><span class="delimiter">'</span><span class="content">USA</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">Germany</span><span class="delimiter">'</span></span>, <span class="string"><span class="modifier">u</span><span class="delimiter">'</span><span class="content">Россия</span><span class="delimiter">'</span></span>, <span class="string"><span class="modifier">u</span><span class="delimiter">'</span><span class="content">Япония</span><span class="delimiter">'</span></span>))
<span class="keyword">def</span> <span class="function">test_minor</span>(country):
    allure.environment(country=country)
    <span class="keyword">assert</span> country</code></pre>
</div>
</div>
<div class="paragraph">
<p>More details about allure environment you can know from <a href="https://github.com/allure-framework/allure-core/wiki/" class="bare">https://github.com/allure-framework/allure-core/wiki/</a>
Environment[documentation].</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_development">3.3.3. Development</h4>
<div class="paragraph">
<p>Use <code>allure.common.AllureImpl</code> class to bind your logic to this adapter.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_phpunit">3.4. PHPUnit</h3>
<div class="paragraph">
<p>This an official PHPUnit adapter for Allure Framework - a flexible, lightweight and multi-language framework for writing
self-documenting tests.</p>
</div>
<div class="sect3">
<h4 id="_what_is_this_for">3.4.1. What is this for?</h4>
<div class="paragraph">
<p>The main purpose of this adapter is to accumulate information about your tests and write it out to a set of XML files:
one for each test class. Then you can use a standalone command line tool or a plugin for popular continuous integration
systems to generate an HTML page showing your tests in a good form.</p>
</div>
</div>
<div class="sect3">
<h4 id="_example_project">3.4.2. Example project</h4>
<div class="paragraph">
<p>Example project is located at: <a href="https://github.com/allure-framework/allure-phpunit-example" class="bare">https://github.com/allure-framework/allure-phpunit-example</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_how_to_generate_report">3.4.3. How to generate report</h4>
<div class="paragraph">
<p>This adapter only generates XML files containing information about tests. See
<a href="https://github.com/allure-framework/allure-core/wiki#generating-report">wiki section</a> on how to generate report.</p>
</div>
</div>
<div class="sect3">
<h4 id="_installation_usage">3.4.4. Installation &amp;&amp; Usage</h4>
<div class="paragraph">
<p><strong>Note:</strong> this adapter supports Allure 1.4.x only.
In order to use this adapter you need to add a new dependency to your <strong>composer.json</strong> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
    <span class="key"><span class="delimiter">&quot;</span><span class="content">require</span><span class="delimiter">&quot;</span></span>: {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">php</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">&gt;=5.4.0</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">allure-framework/allure-phpunit</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">~1.2.0</span><span class="delimiter">&quot;</span></span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then add Allure test listener in <strong>phpunit.xml</strong> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;listeners&gt;</span>
    <span class="tag">&lt;listener</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Yandex\Allure\Adapter\AllureAdapter</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">file</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">vendor/allure-framework/allure-phpunit/src/Yandex/Allure/Adapter/AllureAdapter.php</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;arguments&gt;</span>
            <span class="tag">&lt;string&gt;</span>build/allure-results<span class="tag">&lt;/string&gt;</span> <span class="comment">&lt;!-- XML files output directory --&gt;</span>
            <span class="tag">&lt;boolean&gt;</span>true<span class="tag">&lt;/boolean&gt;</span> <span class="comment">&lt;!-- Whether to delete previous results on rerun --&gt;</span>
            <span class="tag">&lt;array&gt;</span> <span class="comment">&lt;!-- A list of custom annotations to ignore (optional) --&gt;</span>
                <span class="tag">&lt;element</span> <span class="attribute-name">key</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">0</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
                    <span class="tag">&lt;string&gt;</span>someCustomAnnotation<span class="tag">&lt;/string&gt;</span>
                <span class="tag">&lt;/element&gt;</span>
            <span class="tag">&lt;/array&gt;</span>
        <span class="tag">&lt;/arguments&gt;</span>
    <span class="tag">&lt;/listener&gt;</span>
<span class="tag">&lt;/listeners&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>After running PHPUnit tests a new folder will be created (<strong>build/allure-results</strong> in the example above). This folder
will contain generated XML files. See <a href="https://github.com/allure-framework/allure-core/wiki">framework help</a> for details
about how to generate report from XML files. By default generated report will only show a limited set of information but
you can use cool Allure features by adding a minimum of test code changes. Read next section for details.</p>
</div>
</div>
<div class="sect3">
<h4 id="_main_features">3.4.5. Main features</h4>
<div class="paragraph">
<p>This adapter comes with a set of PHP annotations and traits allowing to use main Allure features.</p>
</div>
<div class="sect4">
<h5 id="_human_readable_test_class_or_test_method_title">Human-readable test class or test method title</h5>
<div class="paragraph">
<p>In order to add such title to any test class or <a href="https://github.com/allure-framework/allure-core/wiki/Glossary#test-case">test case</a>
method you need to annotate it with <strong>@Title</strong> annotation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="php"><span class="keyword">namespace</span> <span class="constant">Example</span>\<span class="constant">Tests</span>;

<span class="keyword">use</span> <span class="constant">PHPUnit_Framework_TestCase</span>;
<span class="keyword">use</span> <span class="constant">Yandex</span>\<span class="constant">Allure</span>\<span class="constant">Adapter</span>\<span class="constant">Annotation</span>\<span class="constant">Title</span>;

<span class="comment">/**
 * @Title(&quot;Human-readable test class title&quot;)
 */</span>
<span class="keyword">class</span> <span class="class">SomeTest</span> <span class="keyword">extends</span> <span class="constant">PHPUnit_Framework_TestCase</span>
{
    <span class="comment">/**
     * @Title(&quot;Human-readable test method title&quot;)
     */</span>
    <span class="keyword">public</span> <span class="keyword">function</span> <span class="function">testCase</span>()
    {
        <span class="comment">//Some implementation here...</span>
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_extended_test_class_or_test_method_description">Extended test class or test method description</h5>
<div class="paragraph">
<p>Similarly you can add detailed description for each test class and <a href="https://github.com/allure-framework/allure-core/wiki/Glossary#test-case">test method</a>.
To add such description simply use <strong>@Description</strong> annotation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="php"><span class="keyword">namespace</span> <span class="constant">Example</span>\<span class="constant">Tests</span>;

<span class="keyword">use</span> <span class="constant">PHPUnit_Framework_TestCase</span>;
<span class="keyword">use</span> <span class="constant">Yandex</span>\<span class="constant">Allure</span>\<span class="constant">Adapter</span>\<span class="constant">Annotation</span>\<span class="constant">Description</span>;
<span class="keyword">use</span> <span class="constant">Yandex</span>\<span class="constant">Allure</span>\<span class="constant">Adapter</span>\<span class="constant">Model</span>\<span class="constant">DescriptionType</span>;

<span class="comment">/**
 * @Description(&quot;Detailed description for test class&quot;)
 */</span>
<span class="keyword">class</span> <span class="class">SomeTest</span> <span class="keyword">extends</span> <span class="constant">PHPUnit_Framework_TestCase</span>
{
    <span class="comment">/**
     * @Description(value = &quot;Detailed description for &lt;b&gt;test class&lt;/b&gt;.&quot;, type = DescriptionType::HTML)
     */</span>
    <span class="keyword">public</span> <span class="keyword">function</span> <span class="function">testCase</span>()
    {
        <span class="comment">//Some implementation here...</span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Description can be added in plain text, HTML or Markdown format - simply assign different <strong>type</strong> value.</p>
</div>
</div>
<div class="sect4">
<h5 id="_set_test_severity">Set test severity</h5>
<div class="paragraph">
<p><strong>@Severity</strong> annotation is used in order to prioritize test methods by severity:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="php"><span class="keyword">namespace</span> <span class="constant">Example</span>\<span class="constant">Tests</span>;

<span class="keyword">use</span> <span class="constant">PHPUnit_Framework_TestCase</span>;
<span class="keyword">use</span> <span class="constant">Yandex</span>\<span class="constant">Allure</span>\<span class="constant">Adapter</span>\<span class="constant">Annotation</span>\<span class="constant">Severity</span>;
<span class="keyword">use</span> <span class="constant">Yandex</span>\<span class="constant">Allure</span>\<span class="constant">Adapter</span>\<span class="constant">Model</span>\<span class="constant">SeverityLevel</span>;

<span class="keyword">class</span> <span class="class">SomeTest</span> <span class="keyword">extends</span> <span class="constant">PHPUnit_Framework_TestCase</span>
{
    <span class="comment">/**
     * @Severity(level = SeverityLevel::MINOR)
     */</span>
    <span class="keyword">public</span> <span class="keyword">function</span> <span class="function">testCase</span>()
    {
        <span class="comment">//Some implementation here...</span>
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_specify_test_parameters_information">Specify test parameters information</h5>
<div class="paragraph">
<p>In order to add information about test method <a href="https://github.com/allure-framework/allure-core/wiki/Glossary#parameter">parameters</a>
you should use <strong>@Parameter</strong> annotation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="php"><span class="keyword">namespace</span> <span class="constant">Example</span>\<span class="constant">Tests</span>;

<span class="keyword">use</span> <span class="constant">PHPUnit_Framework_TestCase</span>;
<span class="keyword">use</span> <span class="constant">Yandex</span>\<span class="constant">Allure</span>\<span class="constant">Adapter</span>\<span class="constant">Annotation</span>\<span class="constant">Parameter</span>;
<span class="keyword">use</span> <span class="constant">Yandex</span>\<span class="constant">Allure</span>\<span class="constant">Adapter</span>\<span class="constant">Model</span>\<span class="constant">ParameterKind</span>;

<span class="keyword">class</span> <span class="class">SomeTest</span> <span class="keyword">extends</span> <span class="constant">PHPUnit_Framework_TestCase</span>
{
    <span class="comment">/**
     * @Parameter(name = &quot;param1&quot;, value = &quot;value1&quot;)
     * @Parameter(name = &quot;param2&quot;, value = &quot;value2&quot;, kind = ParameterKind::SYSTEM_PROPERTY)
     */</span>
    <span class="keyword">public</span> <span class="keyword">function</span> <span class="function">testCase</span>()
    {
        <span class="comment">//Some implementation here...</span>
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_map_test_classes_and_test_methods_to_features_and_stories">Map test classes and test methods to features and stories</h5>
<div class="paragraph">
<p>In some development approaches tests are classified by <a href="https://github.com/allure-framework/allure-core/wiki/Glossary#user-story">stories</a>
and <a href="https://github.com/allure-framework/allure-core/wiki/Glossary#feature">features</a>. If you&#8217;re using this then you can
annotate your test with <strong>@Stories</strong> and <strong>@Features</strong> annotations:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="php"><span class="keyword">namespace</span> <span class="constant">Example</span>\<span class="constant">Tests</span>;

<span class="keyword">use</span> <span class="constant">PHPUnit_Framework_TestCase</span>;
<span class="keyword">use</span> <span class="constant">Yandex</span>\<span class="constant">Allure</span>\<span class="constant">Adapter</span>\<span class="constant">Annotation</span>\<span class="constant">Features</span>;
<span class="keyword">use</span> <span class="constant">Yandex</span>\<span class="constant">Allure</span>\<span class="constant">Adapter</span>\<span class="constant">Annotation</span>\<span class="constant">Stories</span>;

<span class="comment">/**
 * @Stories({&quot;story1&quot;, &quot;story2&quot;})
 * @Features({&quot;feature1&quot;, &quot;feature2&quot;, &quot;feature3&quot;})
 */</span>
<span class="keyword">class</span> <span class="class">SomeTest</span> <span class="keyword">extends</span> <span class="constant">PHPUnit_Framework_TestCase</span>
{
    <span class="comment">/**
     * @Features({&quot;feature2&quot;})
     * @Stories({&quot;story1&quot;})
     */</span>
    <span class="keyword">public</span> <span class="keyword">function</span> <span class="function">testCase</span>()
    {
        <span class="comment">//Some implementation here...</span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You will then be able to filter tests by specified features and stories in generated Allure report.</p>
</div>
</div>
<div class="sect4">
<h5 id="_attach_files_to_report">Attach files to report</h5>
<div class="paragraph">
<p>If you wish to <a href="https://github.com/allure-framework/allure-core/wiki/Glossary#attachment">attach some files</a> generated
during PHPUnit run (screenshots, log files, dumps and so on) to report - then you need to use <strong>AttachmentSupport</strong>
trait in your test class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="php"><span class="keyword">namespace</span> <span class="constant">Example</span>\<span class="constant">Tests</span>;

<span class="keyword">use</span> <span class="constant">PHPUnit_Framework_TestCase</span>;
<span class="keyword">use</span> <span class="constant">Yandex</span>\<span class="constant">Allure</span>\<span class="constant">Adapter</span>\<span class="constant">Support</span>\<span class="constant">AttachmentSupport</span>;

<span class="keyword">class</span> <span class="class">SomeTest</span> <span class="keyword">extends</span> <span class="constant">PHPUnit_Framework_TestCase</span>
{

    <span class="keyword">use</span> <span class="constant">AttachmentSupport</span>;

    <span class="keyword">public</span> <span class="keyword">function</span> <span class="function">testCase</span>()
    {
        <span class="comment">//Some implementation here...</span>
        <span class="local-variable">$filePath</span> = <span class="local-variable">$this</span>-&gt;outputSomeContentToTemporaryFile();
        <span class="local-variable">$this</span>-&gt;addAttachment(<span class="local-variable">$filePath</span>, <span class="string"><span class="delimiter">'</span><span class="content">Attachment human-readable name</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">text/plain</span><span class="delimiter">'</span></span>);
        <span class="comment">//Some implementation here...</span>
    }

    <span class="keyword">private</span> <span class="keyword">function</span> <span class="function">outputSomeContentToTemporaryFile</span>()
    {
        <span class="local-variable">$tmpPath</span> = <span class="predefined">tempnam</span>(sys_get_temp_dir(), <span class="string"><span class="delimiter">'</span><span class="content">test</span><span class="delimiter">'</span></span>);
        <span class="predefined">file_put_contents</span>(<span class="local-variable">$tmpPath</span>, <span class="string"><span class="delimiter">'</span><span class="content">Some content to be outputted to temporary file.</span><span class="delimiter">'</span></span>);
        <span class="keyword">return</span> <span class="local-variable">$tmpPath</span>;
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In order to create an <a href="https://github.com/allure-framework/allure-core/wiki/Glossary#attachment">attachment</a> simply call
<strong>AttachmentSupport::addAttachment()</strong> method. This method accepts attachment type, human-readable name and a string
either storing full path to the file we need to attach or file contents.</p>
</div>
</div>
<div class="sect4">
<h5 id="_divide_test_methods_into_steps">Divide test methods into steps</h5>
<div class="paragraph">
<p>Allure framework also supports very useful feature called <a href="https://github.com/allure-framework/allure-core/wiki/Glossary#test-step">steps</a>.
Consider a test method which has complex logic inside and several assertions. When an exception is thrown or one of
assertions fails sometimes it&#8217;s very difficult to determine which one caused the failure. Allure steps allow to divide
test method logic into several isolated pieces having independent run statuses such as <strong>passed</strong> or <strong>failed</strong>. This
allows to have much more cleaner understanding of what really happens. In order to use steps simply import
<strong>StepSupport</strong> trait in your test class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="php"><span class="keyword">namespace</span> <span class="constant">Example</span>\<span class="constant">Tests</span>;

<span class="keyword">use</span> <span class="constant">PHPUnit_Framework_TestCase</span>;
<span class="keyword">use</span> <span class="constant">Yandex</span>\<span class="constant">Allure</span>\<span class="constant">Adapter</span>\<span class="constant">Support</span>\<span class="constant">StepSupport</span>;

<span class="keyword">class</span> <span class="class">SomeTest</span> <span class="keyword">extends</span> <span class="constant">PHPUnit_Framework_TestCase</span>
{

    <span class="keyword">use</span> <span class="constant">StepSupport</span>;

    <span class="keyword">public</span> <span class="keyword">function</span> <span class="function">testCase</span>()
    {
        <span class="comment">//Some implementation here...</span>
        <span class="local-variable">$this</span>-&gt;executeStep(<span class="string"><span class="delimiter">&quot;</span><span class="content">This is step one</span><span class="delimiter">&quot;</span></span>, <span class="keyword">function</span> () {
            <span class="local-variable">$this</span>-&gt;stepOne();
        });

        <span class="local-variable">$this</span>-&gt;executeStep(<span class="string"><span class="delimiter">&quot;</span><span class="content">This is step two</span><span class="delimiter">&quot;</span></span>, <span class="keyword">function</span> () {
            <span class="local-variable">$this</span>-stepTwo();
        });

        <span class="local-variable">$this</span>-&gt;executeStep(<span class="string"><span class="delimiter">&quot;</span><span class="content">This is step three</span><span class="delimiter">&quot;</span></span>, <span class="keyword">function</span> () {
            <span class="local-variable">$this</span>-&gt;stepThree(<span class="string"><span class="delimiter">'</span><span class="content">someArgument</span><span class="delimiter">'</span></span>);
        });
        <span class="comment">//Some implementation here...</span>
    }

    <span class="keyword">private</span> <span class="keyword">function</span> <span class="function">stepOne</span>()
    {
        <span class="comment">//Some implementation here...</span>
    }

    <span class="keyword">private</span> <span class="keyword">function</span> <span class="function">stepTwo</span>()
    {
        <span class="comment">//Some implementation here...</span>
    }

    <span class="keyword">private</span> <span class="keyword">function</span> <span class="function">stepThree</span>(<span class="local-variable">$argument</span>)
    {
        <span class="comment">//Some implementation here...</span>
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The entire test method execution status will depend on every step but information about steps status will be stored separately.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_jasmine">3.5. Jasmine</h3>
<div class="paragraph">
<p>A plugin for Allure report generation from Jasmine tests.</p>
</div>
<div class="sect3">
<h4 id="_installation_3">3.5.1. Installation</h4>
<div class="sect4">
<h5 id="_from_jasmine2">From Jasmine2</h5>
<div class="paragraph">
<p>Add the lib into <code>package.json</code> and then configure the plugin:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="comment">// conf.js</span>
<span class="keyword">var</span> AllureReporter = require(<span class="string"><span class="delimiter">'</span><span class="content">jasmine-allure-reporter</span><span class="delimiter">'</span></span>);
jasmine.getEnv().addReporter(<span class="keyword">new</span> AllureReporter({
  <span class="key">resultsDir</span>: <span class="string"><span class="delimiter">'</span><span class="content">allure-results</span><span class="delimiter">'</span></span>
}));</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_from_protractor">From Protractor</h5>
<div class="paragraph">
<p>Put the above code into the <code>onPrepare</code> inside of your <code>conf.js</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="comment">// conf.js</span>
exports.config = {
  <span class="key">framework</span>: <span class="string"><span class="delimiter">'</span><span class="content">jasmine2</span><span class="delimiter">'</span></span>,
  <span class="function">onPrepare</span>: <span class="keyword">function</span>() {
    <span class="keyword">var</span> AllureReporter = require(<span class="string"><span class="delimiter">'</span><span class="content">jasmine-allure-reporter</span><span class="delimiter">'</span></span>);
    jasmine.getEnv().addReporter(<span class="keyword">new</span> AllureReporter({
      <span class="key">resultsDir</span>: <span class="string"><span class="delimiter">'</span><span class="content">allure-results</span><span class="delimiter">'</span></span>
    }));
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_generate_html_report_from_allure_results">3.5.2. Generate HTML report from Allure results</h4>
<div class="paragraph">
<p>The Reporter will generate xml files inside of a <code>resultsDir</code>, then we need to generate HTML out of them.
You can use Maven for that. Copy ready-to-use <code>pom.xml</code> from <code>node_modules/jasmine-allure-reporter</code> and run:</p>
</div>
<div class="paragraph">
<p><code>mvn site -Dallure.results_pattern=allure-results</code></p>
</div>
<div class="paragraph">
<p>It will put HTMLs into <code>target/site/allure-maven-plugin</code> folder. To serve them via <code>localhost:1324</code> use:</p>
</div>
<div class="paragraph">
<p><code>mvn jetty:run -Djetty.port=1234</code></p>
</div>
<div class="paragraph">
<p>Otherwise choose one of the
<a href="https://github.com/allure-framework/allure-core/wiki#generating-a-report">other ways to generate HTML</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_features_5">3.5.3. Features</h4>
<div class="paragraph">
<p>This adapter provides a set of methods that can be called from the global <code>Jasmine2AllureReporter</code> object.
It wraps <a href="https://github.com/allure-framework/allure-js-commons">common allure JS adapter</a> and provides access
to basic Allure features implemented there.</p>
</div>
<div class="sect4">
<h5 id="_title_4">Title</h5>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
TBD it is not implemented currently
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_description_4">Description</h5>
<div class="paragraph">
<p>In order to add a detailed description for a test you should call a <code>setDescription(description)</code> method
where <strong>description</strong> is your string argument.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
code snippet TBD
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_severity_4">Severity</h5>
<div class="paragraph">
<p>You can specify a severity attribute for a test via <code>severity(severity)</code> method where
<strong>severity</strong> argument can hold one of the following pre-defined values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>BLOCKER</p>
</li>
<li>
<p>CRITICAL</p>
</li>
<li>
<p>NORMAL</p>
</li>
<li>
<p>MINOR</p>
</li>
<li>
<p>TRIVIAL</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
code snippet TBD
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_behaviours">Behaviours</h5>
<div class="paragraph">
<p>In some development approaches tests are classified by
<a href="https://github.com/allure-framework/allure-core/wiki/Glossary#user-story">stories</a> and
<a href="https://github.com/allure-framework/allure-core/wiki/Glossary#feature">features</a>.
If you’re using this, then for each test you can set story and feature attributes via <code>story(story)</code> and
<code>feature(feature)</code> methods respectively, accepting <strong>story</strong> or <strong>feature</strong> as a string argument.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
code snippet TBD
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_steps_4">Steps</h5>
<div class="paragraph">
<p>Steps are needed to specify actions that constitute a testing scenario.
Steps are named, they can create attachments and can be used in different testing scenarios.
You can add a step via <code>createStep(name, stepFunc)</code> method, where</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>name</strong> is a string arg bearing step name</p>
</li>
<li>
<p><strong>stepFunc</strong> is a wrapped function whose logic this step represents in the report.</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
code snippet TBD
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_attachments_4">Attachments</h5>
<div class="paragraph">
<p>You can add an attachment for one of the steps via <code>createAttachment(name, content, type)</code> method
here</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>name</strong> is a string bearing attachment&#8217;s description</p>
</li>
<li>
<p><strong>content</strong> is either a function, returning attachment object or the attachment object itself.</p>
</li>
<li>
<p><strong>type</strong> is a string parameter to specify exact MIME type for each attached file. However there’s no need to
specify attachment explicitly type for all attached files as Allure by default analyses attachment contents and
can determine attachment type automatically. You usually need to specify attachment type when working with plain
text files.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Example: adding a screenshot in the end of each test</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">  <span class="function">onPrepare</span>: <span class="keyword">function</span> () {
    <span class="keyword">var</span> AllureReporter = require(<span class="string"><span class="delimiter">'</span><span class="content">jasmine-allure-reporter</span><span class="delimiter">'</span></span>);
    jasmine.getEnv().addReporter(<span class="keyword">new</span> AllureReporter());
    jasmine.getEnv().afterEach(<span class="keyword">function</span>(done){
      browser.takeScreenshot().then(<span class="keyword">function</span> (png) {
        allure.createAttachment(<span class="string"><span class="delimiter">'</span><span class="content">Screenshot</span><span class="delimiter">'</span></span>, <span class="keyword">function</span> () {
          <span class="keyword">return</span> <span class="keyword">new</span> Buffer(png, <span class="string"><span class="delimiter">'</span><span class="content">base64</span><span class="delimiter">'</span></span>)
        }, <span class="string"><span class="delimiter">'</span><span class="content">image/png</span><span class="delimiter">'</span></span>)();
        done();
      })
    });
  }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note <code>done</code> callback!</p>
</div>
</div>
<div class="sect4">
<h5 id="_issues_tracker_4">Issues Tracker</h5>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Integration with bug tracker system is not currently implemented
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_test_management_system_4">Test Management System</h5>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Integration with test management system is not currently implemented
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_4">Parameters</h5>
<div class="paragraph">
<p>In order to add information about test method
<a href="https://github.com/allure-framework/allure-core/wiki/Glossary#parameter">parameters</a> you should use one of the methods:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>addArgument(name, value)</code> - to specify more information on one of the test arguments</p>
</li>
<li>
<p><code>addEnvironment(name, value)</code> - to specify more information on some of the environment variables</p>
</li>
</ol>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
code snippet TBD
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_tbd">3.5.4. TBD</h4>
<div class="ulist">
<ul>
<li>
<p>Currently attachments are added to the test case instead of the current step. This needs to be fixed in allure-js-commons.</p>
</li>
<li>
<p>Add support for Features.</p>
</li>
<li>
<p>Add support to Jasmine1. Right now only Jasmine2 is available (do we really need this?).</p>
</li>
<li>
<p>Add ability to use reflection for decoration method of page objects so that we don&#8217;t need to write
Allure-related boilerplate tying ourselves to one specific reporter.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_for_developers">3.5.5. For Developers</h4>
<div class="paragraph">
<p>See the <a href="https://github.com/allure-framework/allure-jasmine-plugin/blob/master/test/system">system tests</a>
to quickly check how the reporter works in real life:</p>
</div>
<div class="paragraph">
<p><code>node_modules/protractor/bin/protractor ./test/system/conf.js</code></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_cucumber">3.6. Cucumber</h3>
<div class="paragraph">
<p>This page describes Allure adaptor usage for <a href="http://cukes.info/">Cucumber</a> framework.</p>
</div>
<div class="sect3">
<h4 id="_installation_4">3.6.1. Installation</h4>
<div class="paragraph">
<p>Add this line to your application&#8217;s Gemfile:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby">gem <span class="string"><span class="delimiter">'</span><span class="content">allure-cucumber</span><span class="delimiter">'</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>And then execute:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ bundle</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or install it yourself as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ gem install allure-cucumber</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_configuration">3.6.2. Configuration</h4>
<div class="paragraph">
<p>By default, Allure XML files are stored in <code>gen/allure-results</code>.
To change this add the following in <code>features/support/env.rb</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby"><span class="constant">AllureCucumber</span>.configure <span class="keyword">do</span> |c|
   c.output_dir = <span class="string"><span class="delimiter">&quot;</span><span class="content">/output/dir</span><span class="delimiter">&quot;</span></span>
<span class="keyword">end</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>By default, the Allure XML files from earlier runs are deleted at the start of new run. This can be disabled by:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby"><span class="constant">AllureCucumber</span>.configure <span class="keyword">do</span> |c|
  c.clean_dir  = <span class="predefined-constant">false</span>
<span class="keyword">end</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>By default, allure-cucumber will analyze your cucumber tags looking for Test Management, Issue Management,
 and Severity hooks. These hooks will be displayed in the generated allure report (see allure-core for further info).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby">    <span class="constant">DEFAULT_TMS_PREFIX</span>      = <span class="string"><span class="delimiter">'</span><span class="content">@TMS:</span><span class="delimiter">'</span></span>
    <span class="constant">DEFAULT_ISSUE_PREFIX</span>    = <span class="string"><span class="delimiter">'</span><span class="content">@ISSUE:</span><span class="delimiter">'</span></span>
    <span class="constant">DEFAULT_SEVERITY_PREFIX</span> = <span class="string"><span class="delimiter">'</span><span class="content">@SEVERITY:</span><span class="delimiter">'</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby">  <span class="instance-variable">@SEVERITY</span><span class="symbol">:trivial</span> <span class="instance-variable">@ISSUE</span><span class="symbol">:YZZ</span>-<span class="integer">100</span> <span class="instance-variable">@TMS</span>:<span class="integer">9901</span>
  <span class="key">Scenario</span>: <span class="constant">Leave</span> <span class="constant">First</span> <span class="constant">Name</span> <span class="constant">Blank</span>
    <span class="constant">When</span> <span class="constant">I</span> register an account without a first name
    <span class="constant">Then</span> exactly (<span class="integer">1</span>) [validation_error] should be visible</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can configure what allure-cucumber looks for by making the following changes</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby"><span class="constant">AllureCucumber</span>.configure <span class="keyword">do</span> |c|
  c.clean_dir  = <span class="predefined-constant">false</span>
  c.tms_prefix      = <span class="string"><span class="delimiter">'</span><span class="content">@HIPTEST--</span><span class="delimiter">'</span></span>
  c.issue_prefix    = <span class="string"><span class="delimiter">'</span><span class="content">@JIRA++</span><span class="delimiter">'</span></span>
  c.severity_prefix = <span class="string"><span class="delimiter">'</span><span class="content">@URGENCY:</span><span class="delimiter">'</span></span>
<span class="keyword">end</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby">  <span class="instance-variable">@URGENCY</span><span class="symbol">:critical</span> <span class="instance-variable">@JIRA</span>++<span class="constant">YZZ</span>-<span class="integer">100</span> <span class="instance-variable">@HIPTEST</span>-<span class="integer">-9901</span>
  <span class="key">Scenario</span>: <span class="constant">Leave</span> <span class="constant">First</span> <span class="constant">Name</span> <span class="constant">Blank</span>
    <span class="constant">When</span> <span class="constant">I</span> register an account without a first name
    <span class="constant">Then</span> exactly (<span class="integer">1</span>) [validation_error] should be visible</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_usage">3.6.3. Usage</h4>
<div class="paragraph">
<p>Put the following in your <code>features/support/env.rb</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby">require <span class="string"><span class="delimiter">'</span><span class="content">allure-cucumber</span><span class="delimiter">'</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Use <code>--format AllureCucumber::Formatter --out where/you-want-results</code> while running cucumber
or add it to <code>cucumber.yml</code></p>
</div>
<div class="paragraph">
<p>You can also <a href="https://github.com/allure-framework/allure-core/wiki/Glossary#attachment">attach screenshots</a>,
 logs or test data to <a href="https://github.com/allure-framework/allure-core/wiki/Glossary#test-step">steps</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby"> <span class="comment">#file: features/support/env.rb</span>
 include <span class="constant">AllureCucumber</span>::<span class="constant">DSL</span>
 attach_file(title, file)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_how_to_generate_report_2">3.6.4. How to generate report</h4>
<div class="paragraph">
<p>This adapter only generates XML files containing information about tests. See
<a href="https://github.com/allure-framework/allure-core/wiki#generating-report">wiki section</a>
 on how to generate report.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_cucumber_js">3.7. Cucumber JS</h3>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Allure report version supported : 1.4.15
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_usage_2">3.7.1. Usage:</h4>
<div class="paragraph">
<p>Add <code>reporter.js</code> file in feature packages with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="keyword">var</span> reporter = require(<span class="string"><span class="delimiter">'</span><span class="content">cucumberjs-allure-reporter</span><span class="delimiter">'</span></span>);
reporter.config(
    {...}
);
module.exports = reporter;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Supported configuration keys:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>targetDir</em> - directory where allure will save results xml&#8217;s</p>
</li>
<li>
<p><em>labels</em> - custom label matchers, example:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">labels : {
        <span class="key">feature</span>: [<span class="regexp"><span class="delimiter">/</span><span class="content">sprint-(</span><span class="char">\d</span><span class="content">*)</span><span class="delimiter">/</span></span>, <span class="regexp"><span class="delimiter">/</span><span class="content">release-(</span><span class="char">\d</span><span class="content">)</span><span class="delimiter">/</span></span>, <span class="regexp"><span class="delimiter">/</span><span class="content">area-(.*)</span><span class="delimiter">/</span></span>],
        <span class="key">issue</span>: [<span class="regexp"><span class="delimiter">/</span><span class="content">(bug-</span><span class="char">\d</span><span class="content">*)</span><span class="delimiter">/</span></span>]
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Possible labels:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>feature</p>
</li>
<li>
<p>story</p>
</li>
<li>
<p>severity</p>
</li>
<li>
<p>language</p>
</li>
<li>
<p>framework</p>
</li>
<li>
<p>issue</p>
</li>
<li>
<p>testId</p>
</li>
<li>
<p>host</p>
</li>
<li>
<p>thread</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you want to cancel step or test, simply throw new Error with message 'Step cancelled' or 'Test cancelled'.</p>
</div>
</div>
<div class="sect3">
<h4 id="_generate_html_report_from_allure_results_2">3.7.2. Generate HTML report from Allure results</h4>
<div class="paragraph">
<p>The Reporter will generate xml files inside of a <code>targetDir</code>, then we need to generate HTML out of them.
You can use Maven for that. Copy ready-to-use <code>pom.xml</code> from <code>node_modules/cucumberjs-allure-reporter</code> and run:</p>
</div>
<div class="paragraph">
<p><code>mvn site -Dallure.results_pattern=allure-results</code></p>
</div>
<div class="paragraph">
<p>It will put HTMLs into <code>target/site/allure-maven-plugin</code> folder. To serve them via <code>localhost:1234</code> use:</p>
</div>
<div class="paragraph">
<p><code>mvn jetty:run -Djetty.port=1234</code></p>
</div>
<div class="paragraph">
<p>Otherwise choose one of
<a href="https://github.com/allure-framework/allure-core/wiki#generating-a-report">other ways to generate HTML</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_for_developers_2">3.7.3. For Developers</h4>
<div class="sect4">
<h5 id="_run_test_examples_with">Run test examples with:</h5>
<div class="paragraph">
<p><code>./node_modules/.bin/cucumber.js features/&lt;FEATURE_NAME&gt;.feature</code></p>
</div>
<div class="paragraph">
<p>Available tests:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>basic &#8594; basic test results</p>
</li>
<li>
<p>description &#8594; scenario description test</p>
</li>
<li>
<p>label &#8594; cucumber tags (currently labels are not visible in generated report &#8230;&#8203;)</p>
</li>
<li>
<p>exception &#8594; test throws exception</p>
</li>
<li>
<p>attachments &#8594; docStrings and dataTable tests</p>
</li>
<li>
<p>scenarioOutline &#8594; scenario outline tests</p>
</li>
<li>
<p>subSteps &#8594; steps add sub steps using allure object</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>or run everything with: <code>./node_modules/.bin/cucumber.js features/</code></p>
</div>
<div class="paragraph">
<p>To check protractor screenshot test install <code>protractor</code> and <code>protractor-cucumber-framework</code> and then
run tests: <code>./node_modules/protractor/bin/protractor miscellaneous/protractorScreenshot/conf.js</code></p>
</div>
<div class="paragraph">
<p>To check basic logging run: <code>./node_modules/.bin/cucumber.js miscellaneous/logging</code></p>
</div>
<div class="paragraph">
<p>To check basic configuration run: <code>./node_modules/.bin/cucumber.js miscellaneous/configuration</code></p>
</div>
<div class="paragraph">
<p>To check custom tags run: <code>./node_modules/.bin/cucumber.js miscellaneous/customTagNames</code></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_release_notes">3.7.4. Release notes</h4>
<div class="paragraph">
<p>01/09/2016 version 1.0.3</p>
</div>
<div class="ulist">
<ul>
<li>
<p>added possibility to cancel steps and tests</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>11/07/2016 version 1.0.2</p>
</div>
<div class="ulist">
<ul>
<li>
<p>peer dependency for cucumber (&gt;= 1.2.0) added</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>06/07/2016 version 1.0.1</p>
</div>
<div class="ulist">
<ul>
<li>
<p>dependencies updated for allure-js-commons, protractor, cucumber and protractor-cucumber-framework</p>
</li>
<li>
<p>fixed cucumber handlers - getPayload will not be available in upcoming cucumber major release</p>
</li>
<li>
<p>updated data table and doc string handling</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>02/12/2015 version 1.0.0</p>
</div>
<div class="ulist">
<ul>
<li>
<p>plugin updated to work with cucumber 0.9.1</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>01/09/2015 version 0.0.1</p>
</div>
<div class="ulist">
<ul>
<li>
<p>first release</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_cucumber_jvm">3.8. Cucumber JVM</h3>
<div class="sect3">
<h4 id="_allure_cucumber_jvm_adaptor_junit">3.8.1. Allure Cucumber-JVM Adaptor (JUnit)</h4>
<div class="paragraph">
<p>This adaptor allows to generate allure xml reports after cucumber-jvm Junit test execution.</p>
</div>
<div class="sect4">
<h5 id="_example_project_2">Example project</h5>
<div class="paragraph">
<p>Example project is located at: <a href="https://github.com/allure-examples/allure-cucumber-jvm-example" class="bare">https://github.com/allure-examples/allure-cucumber-jvm-example</a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_installation_5">3.8.2. Installation</h4>
<div class="sect4">
<h5 id="_maven_3">Maven</h5>
<div class="paragraph">
<p>Simply add <code>allure-allure-cucumber-jvm-adaptor</code> as dependency to your project and add <code>build</code> section
 with adaptor listener:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;project&gt;</span>
...
    <span class="tag">&lt;dependencies&gt;</span>
        <span class="tag">&lt;dependency&gt;</span>
            <span class="tag">&lt;groupId&gt;</span>ru.yandex.qatools.allure<span class="tag">&lt;/groupId&gt;</span>
            <span class="tag">&lt;artifactId&gt;</span>allure-cucumber-jvm-adaptor<span class="tag">&lt;/artifactId&gt;</span>
            <span class="tag">&lt;version&gt;</span>1.5.1<span class="tag">&lt;/version&gt;</span>
        <span class="tag">&lt;/dependency&gt;</span>
    <span class="tag">&lt;/dependencies&gt;</span>
        <span class="tag">&lt;build&gt;</span>
        <span class="tag">&lt;plugins&gt;</span>
            <span class="tag">&lt;plugin&gt;</span>
                <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
                <span class="tag">&lt;artifactId&gt;</span>maven-surefire-plugin<span class="tag">&lt;/artifactId&gt;</span>
                <span class="tag">&lt;version&gt;</span>2.18.1<span class="tag">&lt;/version&gt;</span>
                <span class="tag">&lt;configuration&gt;</span>
                    <span class="tag">&lt;testFailureIgnore&gt;</span>false<span class="tag">&lt;/testFailureIgnore&gt;</span>
                    <span class="tag">&lt;argLine&gt;</span>
                        -javaagent:${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar
                    <span class="tag">&lt;/argLine&gt;</span>
                    <span class="tag">&lt;properties&gt;</span>
                        <span class="tag">&lt;property&gt;</span>
                            <span class="tag">&lt;name&gt;</span>listener<span class="tag">&lt;/name&gt;</span>
                            <span class="tag">&lt;value&gt;</span>ru.yandex.qatools.allure.cucumberjvm.AllureRunListener<span class="tag">&lt;/value&gt;</span>
                        <span class="tag">&lt;/property&gt;</span>
                    <span class="tag">&lt;/properties&gt;</span>
                <span class="tag">&lt;/configuration&gt;</span>
                <span class="tag">&lt;dependencies&gt;</span>
                    <span class="tag">&lt;dependency&gt;</span>
                        <span class="tag">&lt;groupId&gt;</span>org.aspectj<span class="tag">&lt;/groupId&gt;</span>
                        <span class="tag">&lt;artifactId&gt;</span>aspectjweaver<span class="tag">&lt;/artifactId&gt;</span>
                        <span class="tag">&lt;version&gt;</span>1.7.4<span class="tag">&lt;/version&gt;</span>
                    <span class="tag">&lt;/dependency&gt;</span>
                <span class="tag">&lt;/dependencies&gt;</span>
            <span class="tag">&lt;/plugin&gt;</span>
        <span class="tag">&lt;/plugins&gt;</span>
    <span class="tag">&lt;/build&gt;</span>
<span class="tag">&lt;/project&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Then execute <code>mvn clean test</code> goal. After tests executed allure xml files will be
placed in <code>target/allure-results/</code> directory</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_features_6">3.8.3. Features</h4>
<div class="paragraph">
<p>This adapter provides runtime integration allowing conversion of Gherkin dsl features into basic Allure features</p>
</div>
<div class="sect4">
<h5 id="_title_5">Title</h5>
<div class="paragraph">
<p>Titles for tests and suites are extracted at runtime from  <code>.feature</code> files</p>
</div>
</div>
<div class="sect4">
<h5 id="_description_5">Description</h5>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Description specifications are not supported
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_steps_5">Steps</h5>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Allure @Step annotations are not supported, cucumber steps are used as is.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_attachments_5">Attachments</h5>
<div class="paragraph">
<p>An attachment in Java code is simply a method annotated with <strong>@Attachment</strong> that returns either
a <strong>String</strong> or <strong>byte[]</strong>, which should be added to the report. You can call this method from
the one of the <code>Given</code>/<code>When</code>/<code>Then</code> step methods.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Attachment</span>
<span class="directive">public</span> <span class="predefined-type">String</span> performedActions(ActionSequence actionSequence) {
    <span class="keyword">return</span> actionSequence.toString();
}

<span class="annotation">@Attachment</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="content">Page screenshot</span><span class="delimiter">&quot;</span></span>, type = <span class="string"><span class="delimiter">&quot;</span><span class="content">image/png</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">byte</span><span class="type">[]</span> saveScreenshot(<span class="type">byte</span><span class="type">[]</span> screenShot) {
    <span class="keyword">return</span> screenShot;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If return type in a method annotated with <strong>@Attachment</strong> differs from <strong>String</strong> or <strong>byte[]</strong> we call <strong>toString()</strong>
on return value to get attachment contents.</p>
</div>
<div class="paragraph">
<p>You can specify exact MIME type for each attached file using <strong>type</strong> parameter of <strong>@Attachment</strong> annotation
like shown above. However there&#8217;s no need to explicitly specify attachment type for all attached files as Allure
by default analyses attachment contents and can determine attachment type automatically. You usually need to
specify attachment type when working with plain text files.</p>
</div>
</div>
<div class="sect4">
<h5 id="_issues_tracker_5">Issues Tracker</h5>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Bug tracker integration is not supported
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_test_management_system_5">Test Management System</h5>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Test management system is not supported
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_5">Parameters</h5>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Additional annotations for parameters are not supported
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_severity_5">Severity</h5>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Severity annotations are not supported
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_behaviours_mapping_4">Behaviours Mapping</h5>
<div class="paragraph">
<p>In some development approaches tests are classified by
<a href="https://github.com/allure-framework/allure-core/wiki/Glossary#user-story">stories</a>
and <a href="https://github.com/allure-framework/allure-core/wiki/Glossary#feature">features</a>.
Allure report for cucumber jvm uses information extracted from <code>Feature:</code> section</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_karma">3.9. Karma</h3>
<div class="paragraph">
<p>Reporter for the Allure XML format. It allows to make a detailed report</p>
</div>
<div class="sect3">
<h4 id="_karma_allure_reporter">3.9.1. karma-allure-reporter</h4>
<div class="paragraph">
<p>Install karma-allure-reporter into your project as devDependency</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">devDependencies</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">karma</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">~0.10</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">karma-allure-reporter</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">~1.0.0</span><span class="delimiter">&quot;</span></span>
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can simple do it by:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">npm install karma-allure-reporter --save-dev</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_configuration_2">3.9.2. Configuration</h4>
<div class="paragraph">
<p>Add allure into <code>reporters</code> section. Allure-reporter has a single config, it&#8217;s a <code>reportDir</code> —
result files location relatively to base dir. By default, files save right in the base dir.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="comment">// karma.conf.js</span>
module.<span class="function">exports</span> = <span class="keyword">function</span>(config) {
  config.set({
    <span class="key">reporters</span>: [<span class="string"><span class="delimiter">'</span><span class="content">progress</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">allure</span><span class="delimiter">'</span></span>],

    <span class="comment">// the default configuration</span>
    <span class="key">allureReport</span>: {
      <span class="key">reportDir</span>: <span class="string"><span class="delimiter">'</span><span class="delimiter">'</span></span>,
    }
  });
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can pass list of reporters as a CLI argument too:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">karma start --reporters allure,dots</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_api">3.9.3. API</h4>
<div class="paragraph">
<p>With allure reporter you get some functions for provide additional info about tests.
All functions available as methods of the global <code>allure</code> object.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>description(description)</code> assign a description to current testcase</p>
</li>
<li>
<p><code>severity(severity)</code> assign a severity to current testcase. Possible values enumerated as properties,
eg. <code>allure.severity.BLOCKER</code>. All securities by descending of their importance:</p>
<div class="ulist">
<ul>
<li>
<p>BLOCKER</p>
</li>
<li>
<p>CRITICAL</p>
</li>
<li>
<p>NORMAL</p>
</li>
<li>
<p>MINOR</p>
</li>
<li>
<p>TRIVIAL</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>createStep(name, stepFunction)</code> defines test step. Returns wrapped function which reports about every step calling.
Step function can be nested within one another.
It is most powerful feature of allure, because it allow to write self-documented tests which report about every its step.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See the <a href="https://github.com/allure-framework/allure/blob/master/docs/dictionary.md">docs</a>
 in core project for more information about these features and their purpose.</p>
</div>
</div>
<div class="sect3">
<h4 id="_example">3.9.4. Example</h4>
<div class="paragraph">
<p>There is an <a href="https://github.com/allure-examples/allure-karma-example">example project</a>, where you may look to allure-reporter in action.</p>
</div>
<div class="paragraph">
<p>For more information about Allure see the <a href="https://github.com/allure-framework/allure">allure core</a> project.</p>
</div>
<div class="paragraph">
<p>For more information about Karma see the <a href="http://karma-runner.github.com/">Karma homepage</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_mocha">3.10. Mocha</h3>
<div class="sect3">
<h4 id="_mocha_allure_reporter">3.10.1. mocha-allure-reporter</h4>
<div class="paragraph">
<p>Allure reporter for Mocha framework.</p>
</div>
</div>
<div class="sect3">
<h4 id="_installation_6">3.10.2. Installation</h4>
<div class="paragraph">
<p>Assuming that you have <a href="http://mochajs.org/">mocha</a> installed, install reporter via npm:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">npm install mocha-allure-reporter</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then use it as any other mocha reporter:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">mocha --reporter mocha-allure-reporter</code></pre>
</div>
</div>
<div class="paragraph">
<p>After running tests you will get raw tests result into <code>allure-results</code> directory.
See <a href="https://github.com/allure-framework/allure-core/wiki#generating-a-report">generator list</a> on how to make a report from raw results.</p>
</div>
<div class="paragraph">
<p>Also check out <a href="https://github.com/allure-examples/mocha-allure-example">mocha-allure-example</a> to see it in action.</p>
</div>
</div>
<div class="sect3">
<h4 id="_supported_options">3.10.3. Supported options</h4>
<div class="ulist">
<ul>
<li>
<p>targetDir <em>(string)</em> – directory where test results will be stored</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_runtime_api">3.10.4. Runtime API</h4>
<div class="paragraph">
<p>Allure is a test framework which provides more data from tests than usual.
Once added <code>mocha-allure-reporter</code> will create global <code>allure</code> object with the following API:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>allure.createStep(name, stepFn)</code> – define step function. Result of each call of this function will
be recorded into report.</p>
</li>
<li>
<p><code>allure.createAttachement(name, content, [type])</code> – save attachment to test. If you&#8217;re calling this
inside step function or during its execution (e.g. asynchronously via promises), attachment will be saved to step function.</p>
<div class="ulist">
<ul>
<li>
<p><code>name</code> <em>(String)</em> - attachment name. Note that it is not then name of the file, actual filename
will be generated.</p>
</li>
<li>
<p><code>content</code> <em>(Buffer|String|Function)</em> – attachment content. If you pass Buffer or String,
it will be saved to file immediately. If you are passing Function, you will get decorated function and
 you can call it several times to trigger attachment. General purpose of the second case is an ability
  to create utility function to take screenshot. You can define function for you test framework only once
   and then call it each time you need a screenshot.</p>
</li>
<li>
<p><code>type</code> <em>(String, optional)</em> – attachment MIME-type. If you omit this argument we&#8217;ll try to detect type
automatically via <a href="https://github.com/sindresorhus/file-type">file-type</a> library</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>allure.description(description)</code> – set detailed test description, if test name is not enough.</p>
</li>
<li>
<p><code>allure.severity(severity)</code> – set test severity, one of: <code>blocker</code>, <code>critical</code>, <code>normal</code>, <code>minor</code>, <code>trivial</code>.
You can also use constants like <code>allure.SEVERITY.BLOKER</code>.</p>
</li>
<li>
<p><code>allure.feature(featureName)</code> – assign feature to test</p>
</li>
<li>
<p><code>allure.story(storyName)</code> – assign user story to test. See
<a href="https://github.com/allure-framework/allure-core/wiki/Features-and-Stories">documentation</a> for details</p>
</li>
<li>
<p><code>allure.addArgument(name, value)</code> - provide parameters, which had been used in test. Unlike other languages,
javascript test methods usually doesn&#8217;t have special arguments (only callbacks), so developers use other way
to populate parameters to test. This method is to provide them to Allure</p>
</li>
<li>
<p><code>allure.addEnvironment(name, value)</code> - save environment value. It is similar to <code>addArgument</code> method, but it is
designed to store more verbose data, like HTTP-links to test page or used package version.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_mstest">3.11. MSTest</h3>
<div class="paragraph">
<p><strong>MSTestAllureAdapter</strong> allows you convert an MSTest trx file to the XMLs from which an Allure report can be generated.</p>
</div>
<div class="paragraph">
<p>Because MSTest does not have an extension or hook mechanism this adapter cannot run as part of MSTest but instead it converts the resulting trx file to the xml format expected by allure.</p>
</div>
<div class="paragraph">
<p>It is a .NET/Mono based console application.</p>
</div>
<div class="sect3">
<h4 id="_usage_3">3.11.1. Usage</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">MSTestAllureAdapter.Console.exe &lt;TRX file&gt; [output target dir]</code></pre>
</div>
</div>
<div class="paragraph">
<p>If '[output target dir]' is missing the reslts are saved in the current directory in a folder named 'results'.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ mono MSTestAllureAdapter.Console.exe sample.trx</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will generate the xml files from which the allure report can be created based upon the 'sample.trx' file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ mono MSTestAllureAdapter.Console.exe sample.trx output-xmls</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will generate the xml files from which the allure report can be created in a folder named 'output-xmls' based upon the 'sample.trx' file.</p>
</div>
<div class="paragraph">
<p>If the target directory does not exists it is created.</p>
</div>
<div class="paragraph">
<p>To generate a report using <a href="https://github.com/allure-framework/allure-cli/releases/tag/allure-cli-2.1">allure-cli</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ allure generate output-xmls -v 1.4.0</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_nose">3.12. Nose</h3>
<div class="paragraph">
<p>It is a port of <a href="https://github.com/allure-framework/allure-python">pytest-allure-adaptor</a> for <a href="https://github.com/nose-devs/nose">nose framework</a>.</p>
</div>
<div class="sect3">
<h4 id="_usage_4">3.12.1. Usage</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash"> nosetests --with-allure --logdir=/path/to/put/results
 nosetests --with-allure --logdir=/path/to/put/results --not-clear-logdir</code></pre>
</div>
</div>
<div class="paragraph">
<p>Option "--not-clear-logdir" is useful with option "--processes" to prevent cleaning of logdr at the end of testing.</p>
</div>
</div>
<div class="sect3">
<h4 id="_supported_features">3.12.2. Supported features</h4>
<div class="sect4">
<h5 id="_attachment">Attachment</h5>
<div class="paragraph">
<p>To attach some content to test report:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="pyhton">import nose

def test_foo():
    nose.allure.attach('my attach', 'Hello, World')</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_step">Step</h5>
<div class="paragraph">
<p>To divide a test into steps:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">import</span> <span class="include">nose</span>

<span class="keyword">def</span> <span class="function">test_foo</span>():
    <span class="keyword">with</span> nose.allure.step(<span class="string"><span class="delimiter">'</span><span class="content">step one</span><span class="delimiter">'</span></span>):
        <span class="comment"># do stuff</span>

    <span class="keyword">with</span> nose.allure.step(<span class="string"><span class="delimiter">'</span><span class="content">step two</span><span class="delimiter">'</span></span>):
        <span class="comment"># do more stuff</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Can also be used as decorators. By default step name is generated from method name:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">import</span> <span class="include">nose</span>

<span class="decorator">@nose.allure.step</span>
<span class="keyword">def</span> <span class="function">make_test_data_foo</span>():
    <span class="comment"># do stuff</span>

<span class="keyword">def</span> <span class="function">test_foo</span>():
    <span class="keyword">assert</span> make_some_data_foo() <span class="keyword">is</span> <span class="keyword">not</span> <span class="predefined-constant">None</span>

<span class="decorator">@nose.allure.step</span>(<span class="string"><span class="delimiter">'</span><span class="content">make_some_data_foo</span><span class="delimiter">'</span></span>)
<span class="keyword">def</span> <span class="function">make_some_data_bar</span>():
    <span class="comment"># do another stuff</span>

<span class="keyword">def</span> <span class="function">test_bar</span>():
    <span class="keyword">assert</span> make_some_data_bar() <span class="keyword">is</span> <span class="keyword">not</span> <span class="predefined-constant">None</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_environment">Environment</h5>
<div class="paragraph">
<p>You can provide test <a href="https://github.com/allure-framework/allure-core/wiki/Environment">environment parameters</a> such as report name, browser or test server address to allure test report.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">import</span> <span class="include">nose</span>

<span class="keyword">def</span> <span class="function">test_dummy</span>():
    nose.allure.environment(report=<span class="string"><span class="delimiter">'</span><span class="content">Allure report</span><span class="delimiter">'</span></span>, browser=<span class="string"><span class="modifier">u</span><span class="delimiter">'</span><span class="content">Firefox</span><span class="delimiter">'</span></span>)</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_severity_6">Severity</h5>
<div class="paragraph">
<p>Any test, class or module can be marked with different severity:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">import</span> <span class="include">nose</span>

<span class="keyword">class</span> <span class="class">TestBar</span>(<span class="predefined">object</span>):

    <span class="decorator">@nose.allure.severity</span>(nose.allure.severity_level.CRITICAL)
    <span class="keyword">def</span> <span class="function">test_bar</span>(<span class="predefined-constant">self</span>):
        <span class="keyword">pass</span>

<span class="comment"># custom severity</span>
<span class="decorator">@nose.allure.severity</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">hard</span><span class="delimiter">&quot;</span></span>)
<span class="keyword">def</span> <span class="function">test_bar</span>(<span class="predefined-constant">self</span>):
    <span class="keyword">pass</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To run tests with concrete priority:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">nosetests my_tests/ --with-allure --logdir=tmp --severity=&quot;critical, hard&quot;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_issue">Issue</h5>
<div class="paragraph">
<p>Issues can be set for test.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">import</span> <span class="include">nose</span>

<span class="decorator">@nose.allure.issue</span>(<span class="string"><span class="delimiter">'</span><span class="content">http://jira.lan/browse/ISSUE-1</span><span class="delimiter">'</span></span>)
<span class="keyword">def</span> <span class="function">test_foo</span>():
    <span class="keyword">assert</span> <span class="predefined-constant">False</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_features_stories">Features &amp; Stories</h5>
<div class="paragraph">
<p>Feature and Story can be set for test.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">import</span> <span class="include">nose</span>

<span class="decorator">@nose.allure.feature</span>(<span class="string"><span class="delimiter">'</span><span class="content">Feature1</span><span class="delimiter">'</span></span>)
<span class="decorator">@nose.allure.story</span>(<span class="string"><span class="delimiter">'</span><span class="content">Story1</span><span class="delimiter">'</span></span>)
<span class="keyword">def</span> <span class="function">test_minor</span>():
    <span class="keyword">assert</span> <span class="predefined-constant">False</span>

<span class="keyword">class</span> <span class="class">TestBar</span>(<span class="predefined">object</span>):

    <span class="decorator">@nose.allure.feature</span>(<span class="string"><span class="delimiter">'</span><span class="content">Feature2</span><span class="delimiter">'</span></span>)
    <span class="decorator">@nose.allure.story</span>(<span class="string"><span class="delimiter">'</span><span class="content">Story1</span><span class="delimiter">'</span></span>)
    <span class="keyword">def</span> <span class="function">test_bar</span>(<span class="predefined-constant">self</span>):
        <span class="keyword">pass</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To run tests by Feature or Story:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash"> nosetests my_tests/ --with-allure --logdir=tmp --feature=&quot;Feature1, Feature2&quot;
 nosetests my_tests/ --with-allure --logdir=tmp --feature=&quot;Feature1, Feature2&quot; --story=&quot;Story1, Story2&quot;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_nunit">3.13. NUnit</h3>
<div class="sect3">
<h4 id="_installation_and_usage_2">3.13.1. Installation and Usage</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download NUnit <strong>2.6.3</strong> or <strong>2.6.4</strong> from <a href="http://www.nunit.org/">official site</a>;</p>
</li>
<li>
<p>Download latest release from <a href="https://github.com/allure-framework/allure-nunit/releases">allure-nunit2 releases</a> for
corresponding version (version specified in parentheses);</p>
</li>
<li>
<p>Unpack binaries to <strong>%NUnit_installation_directory%\bin\addins</strong>;</p>
</li>
<li>
<p><strong>NOTE:</strong> addin will NOT be visible in <strong>Tools &#8594; Addins..</strong> because it&#8217;s built against <strong>.NET 4.0</strong>;</p>
</li>
<li>
<p>In <strong>%NUnit_installation_directory%\bin\addins\config.xml</strong> specify ABSOLUTE path to any folder (this folder will be created automatically) where <strong>xml</strong> files will be generated (e.g. <strong>&lt;results-path&gt;C:\test-results\AllureResults&lt;/results-path&gt;</strong> or <strong>&lt;results-path&gt;/home/user/test-results/AllureResults&lt;/results-path&gt;</strong>);</p>
</li>
<li>
<p>You can also specify in configuration whether you want to take screenshots after failed tests and whether you want to have test output to be written to attachments.</p>
</li>
<li>
<p>Run your tests with <strong>NUnit GUI</strong> or <strong>nunit-console</strong> using .NET 4.0 (e.g. nunit-console YourAssembly.dll /framework=net-4.0);</p>
</li>
<li>
<p>After all tests finish you&#8217;ll see new folder that you specified on step 5 with generated <strong>xml</strong> files;</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_how_to_generate_report_3">3.13.2. How to generate report</h4>
<div class="paragraph">
<p>This adapter only generates XML files containing information about tests. See
<a href="https://github.com/allure-framework/allure-core/wiki#generating-report">wiki section</a> on how to generate report.</p>
</div>
</div>
<div class="sect3">
<h4 id="_what_about_nunit_3">3.13.3. What about NUnit 3?</h4>
<div class="paragraph">
<p>It&#8217;s still in alpha-stage, too early to develop an adapter for it. Adapter for NUnit 3 will be located in it&#8217;s own repository.</p>
</div>
</div>
<div class="sect3">
<h4 id="_further_reading">3.13.4. Further reading</h4>
<div class="ulist">
<ul>
<li>
<p><a href="http://ilya-murzinov.github.io/articles/allure-csharp/)">Article</a> about configuring the adapter</p>
</li>
<li>
<p><a href="https://github.com/allure-framework/allure-csharp-commons/wiki">Allure NUnit Wiki</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_rspec">3.14. RSpec</h3>
<div class="paragraph">
<p>Adaptor to use the Allure framework along with the RSpec. See <a href="https://github.com/allure-examples/allure-rspec-example">an
example</a> project to take a quick tour.</p>
</div>
<div class="sect3">
<h4 id="_what_s_new">3.14.1. What&#8217;s new</h4>
<div class="paragraph">
<p>See the <a href="https://github.com/allure-framework/allure-rspec/releases">releases</a> tab.</p>
</div>
</div>
<div class="sect3">
<h4 id="_setup">3.14.2. Setup</h4>
<div class="paragraph">
<p>Add the dependency to your Gemfile. Choose the version carefully:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>0.5.x - for RSpec2.</p>
</li>
<li>
<p>&#8656; 0.6.7 - for RSpec &lt; 3.2.</p>
</li>
<li>
<p>&gt;= 0.6.9 - for RSpec &gt;= 3.2.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby"> gem <span class="string"><span class="delimiter">'</span><span class="content">allure-rspec</span><span class="delimiter">'</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>And then include it in your spec_helper.rb:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby">    <span class="constant">RSpec</span>.configure <span class="keyword">do</span> |c|
      c.include <span class="constant">AllureRSpec</span>::<span class="constant">Adaptor</span>
    <span class="keyword">end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_advanced_options">3.14.3. Advanced options</h4>
<div class="paragraph">
<p>You can specify the directory where the Allure test results will appear. By default it would be 'gen/allure-results'
within your current directory.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby">    <span class="constant">AllureRSpec</span>.configure <span class="keyword">do</span> |c|
      c.output_dir = <span class="string"><span class="delimiter">&quot;</span><span class="content">/whatever/you/like</span><span class="delimiter">&quot;</span></span> <span class="comment"># default: gen/allure-results</span>
      c.clean_dir = <span class="predefined-constant">false</span> <span class="comment"># clean the output directory first? (default: true)</span>
      c.logging_level = <span class="constant">Logger</span>::<span class="constant">DEBUG</span> <span class="comment"># logging level (default: DEBUG)</span>
    <span class="keyword">end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_usage_examples">3.14.4. Usage examples</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ruby">describe <span class="constant">MySpec</span>, <span class="symbol">:feature</span> =&gt; <span class="string"><span class="delimiter">&quot;</span><span class="content">Some feature</span><span class="delimiter">&quot;</span></span>, <span class="symbol">:severity</span> =&gt; <span class="symbol">:normal</span> <span class="keyword">do</span>

  before(<span class="symbol">:step</span>) <span class="keyword">do</span> |s|
    puts <span class="string"><span class="delimiter">&quot;</span><span class="content">Before step </span><span class="inline"><span class="inline-delimiter">#{</span>s.current_step<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
  <span class="keyword">end</span>

  it <span class="string"><span class="delimiter">&quot;</span><span class="content">should be critical</span><span class="delimiter">&quot;</span></span>, <span class="symbol">:story</span> =&gt; <span class="string"><span class="delimiter">&quot;</span><span class="content">First story</span><span class="delimiter">&quot;</span></span>, <span class="symbol">:severity</span> =&gt; <span class="symbol">:critical</span>, <span class="symbol">:testId</span> =&gt; <span class="integer">99</span> <span class="keyword">do</span>
    <span class="string"><span class="delimiter">&quot;</span><span class="content">string</span><span class="delimiter">&quot;</span></span>.should == <span class="string"><span class="delimiter">&quot;</span><span class="content">string</span><span class="delimiter">&quot;</span></span>
  <span class="keyword">end</span>

  it <span class="string"><span class="delimiter">&quot;</span><span class="content">should be steps enabled</span><span class="delimiter">&quot;</span></span>, <span class="symbol">:story</span> =&gt; [<span class="string"><span class="delimiter">&quot;</span><span class="content">First story</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Second story</span><span class="delimiter">&quot;</span></span>], <span class="symbol">:testId</span> =&gt; <span class="integer">31</span> <span class="keyword">do</span> |e|

    e.step <span class="string"><span class="delimiter">&quot;</span><span class="content">step1</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span> |s|
      s.attach_file <span class="string"><span class="delimiter">&quot;</span><span class="content">screenshot1</span><span class="delimiter">&quot;</span></span>, take_screenshot_as_file
    <span class="keyword">end</span>

    e.step <span class="string"><span class="delimiter">&quot;</span><span class="content">step2</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
      <span class="integer">5</span>.should be &gt; <span class="integer">0</span>
    <span class="keyword">end</span>

    e.step <span class="string"><span class="delimiter">&quot;</span><span class="content">step3</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
      <span class="integer">0</span>.should == <span class="integer">0</span>
    <span class="keyword">end</span>

    e.attach_file <span class="string"><span class="delimiter">&quot;</span><span class="content">screenshot2</span><span class="delimiter">&quot;</span></span>, take_screenshot_as_file
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_scaltest">3.15. Scaltest</h3>
<div class="paragraph">
<p>This adapter allows to retrieve test execution data from [ScalaTest]() framework and convert it to the form suitable for
[Allure report generation](<a href="https://github.com/allure-framework/allure-core/wiki#generating-report" class="bare">https://github.com/allure-framework/allure-core/wiki#generating-report</a>).</p>
</div>
<div class="sect3">
<h4 id="_example_project_3">3.15.1. Example project</h4>
<div class="paragraph">
<p>Example project is located at: <a href="https://github.com/allure-framework/allure-scalatest-example" class="bare">https://github.com/allure-framework/allure-scalatest-example</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_installation_configuration_and_usage">3.15.2. Installation, Configuration and Usage</h4>
<div class="paragraph">
<p><strong>In order to use this adapter you need to have JDK 1.7+ installed.</strong> To enabled adapter simply add the following
dependency to build.sbt:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">libraryDependencies += &quot;ru.yandex.qatools.allure&quot; % &quot;allure-scalatest_2.10&quot; % &quot;1.4.0-SNAPSHOT&quot;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then attach <strong>AllureReporter</strong> in build.sbt:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">testOptions in Test ++= Seq(
    Tests.Argument(TestFrameworks.ScalaTest, &quot;-oD&quot;),
    Tests.Argument(TestFrameworks.ScalaTest, &quot;-C&quot;, &quot;ru.yandex.qatools.allure.scalatest.AllureReporter&quot;)
)</code></pre>
</div>
</div>
<div class="paragraph">
<p>When using this adapter you can encounter the following warning:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[ScalaTest-dispatcher] WARN ru.yandex.qatools.allure.utils.AllureResultsUtils - Can't set "com.sun.xml.bind.marshaller.CharacterEscapeHandler" property to given marshaller
javax.xml.bind.PropertyException: name: com.sun.xml.bind.marshaller.CharacterEscapeHandler value: ru.yandex.qatools.allure.utils.BadXmlCharacterEscapeHandler@5e652b7b
    at javax.xml.bind.helpers.AbstractMarshallerImpl.setProperty(AbstractMarshallerImpl.java:358)
    at com.sun.xml.internal.bind.v2.runtime.MarshallerImpl.setProperty(MarshallerImpl.java:527)
    at ru.yandex.qatools.allure.utils.AllureResultsUtils.setPropertySafely(AllureResultsUtils.java:199)
    at ru.yandex.qatools.allure.utils.AllureResultsUtils.marshaller(AllureResultsUtils.java:171)
    at ru.yandex.qatools.allure.utils.AllureResultsUtils.writeTestSuiteResult(AllureResultsUtils.java:148)
    at ru.yandex.qatools.allure.Allure.fire(Allure.java:180)
    at ru.yandex.qatools.allure.scalatest.AllureReporter.testSuiteFinished(AllureReporter.scala:74)
    at ru.yandex.qatools.allure.scalatest.AllureReporter.apply(AllureReporter.scala:46)
    at org.scalatest.DispatchReporter$Propagator$$anonfun$run$1.apply(DispatchReporter.scala:240)
    at org.scalatest.DispatchReporter$Propagator$$anonfun$run$1.apply(DispatchReporter.scala:239)
    at scala.collection.immutable.List.foreach(List.scala:318)
    at org.scalatest.DispatchReporter$Propagator.run(DispatchReporter.scala:239)
    at java.lang.Thread.run(Thread.java:744)</pre>
</div>
</div>
<div class="paragraph">
<p>This is related to incompatible JAXB versions used in Allure and Scalatest so you can safely ignore it.</p>
</div>
</div>
<div class="sect3">
<h4 id="_how_to_generate_report_4">3.15.3. How to generate report</h4>
<div class="paragraph">
<p>This adapter only generates XML files containing information about tests. See [wiki section]
(<a href="https://github.com/allure-framework/allure-core/wiki#generating-report" class="bare">https://github.com/allure-framework/allure-core/wiki#generating-report</a>) on how to generate report.</p>
</div>
</div>
<div class="sect3">
<h4 id="_publishing_to_sonatype_adapter_development">3.15.4. Publishing to Sonatype (adapter development)</h4>
<div class="paragraph">
<p>A publicly available (on public keyserver) GPG key should be present in you default GPG keyring. You need to create
<strong>sonatype.sbt</strong> file in <strong>~/.sbt/&lt;sbt-version&gt;/</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">credentials += Credentials(&quot;Sonatype Nexus Repository Manager&quot;,
                           &quot;oss.sonatype.org&quot;,
                           &quot;login&quot;,
                           &quot;password&quot;)</code></pre>
</div>
</div>
<div class="paragraph">
<p>To publish simply run:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ sbt publish-signed</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_specs">3.16. Specs</h3>
<div class="paragraph">
<p>This adapter allows to retrieve test execution data from Specs framework and convert it to the form suitable for Allure
report generation.</p>
</div>
<div class="sect3">
<h4 id="_example_project_4">3.16.1. Example project</h4>
<div class="paragraph">
<p>Example project is located at: <a href="https://github.com/allure-framework/allure-specs-example" class="bare">https://github.com/allure-framework/allure-specs-example</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_usage_5">3.16.2. Usage</h4>
<div class="paragraph">
<p><strong>In order to use this adapter you need to have JDK 1.7+ installed.</strong> To enabled adapter simply add the following
 dependency to build.sbt:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">libraryDependencies += &quot;ru.yandex.qatools.allure&quot; % &quot;allure-specs2_2.10&quot; % &quot;1.4.0-SNAPSHOT&quot;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then attach <strong>AllureReporter</strong> in build.sbt:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">testOptions in Test ++= Seq(
  Tests.Argument(TestFrameworks.Specs2, &quot;notifier&quot;, &quot;ru.yandex.qatools.allure.specs2.AllureNotifier&quot;)
)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_spock">3.17. Spock</h3>
<div class="paragraph">
<p>Spock Framework sources - <a href="https://github.com/spockframework/spock" class="bare">https://github.com/spockframework/spock</a></p>
</div>
<div class="sect3">
<h4 id="_spock_framework_compatibilities">3.17.1. Spock Framework compatibilities</h4>
<div class="ulist">
<ul>
<li>
<p>spock-0.7 - <a href="http://repo1.maven.org/maven2/org/spockframework/spock-core/0.7-groovy-2.0/">0.7-groovy-2.0</a></p>
</li>
<li>
<p>spock-1.0 - <a href="https://oss.sonatype.org/content/repositories/snapshots/org/spockframework/spock-core/1.0-groovy-2.0-SNAPSHOT/">1.0-groovy-2.0-SNAPSHOT</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_codeception">3.18. Codeception</h3>
<div class="paragraph">
<p>This is an official <a href="http://codeception.com/">Codeception</a> adapter for Allure Framework.</p>
</div>
<div class="sect3">
<h4 id="_what_is_this_for_2">3.18.1. What is this for?</h4>
<div class="paragraph">
<p>The main purpose of this adapter is to accumulate information about your tests and write it out to a set of XML
files: one for each test class. This adapter only generates XML files containing information about tests.
See <a href="https://github.com/allure-framework/allure-core/wiki#generating-report">wiki section</a> on how to generate report.</p>
</div>
</div>
<div class="sect3">
<h4 id="_example_project_5">3.18.2. Example project</h4>
<div class="paragraph">
<p>Example project is located at: <a href="https://github.com/allure-examples/allure-codeception-example" class="bare">https://github.com/allure-examples/allure-codeception-example</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_installation_and_usage_3">3.18.3. Installation and Usage</h4>
<div class="paragraph">
<p>In order to use this adapter you need to add a new dependency to your <strong>composer.json</strong> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
    <span class="key"><span class="delimiter">&quot;</span><span class="content">require</span><span class="delimiter">&quot;</span></span>: {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">php</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">&gt;=5.4.0</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">allure-framework/allure-codeception</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">~1.1.0</span><span class="delimiter">&quot;</span></span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To enable this adapter in Codeception tests simply put it in "enabled" extensions section of <strong>codeception.yml</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yml"><span class="key">extensions</span>:
    <span class="key">enabled</span>:
        - <span class="string"><span class="content">Yandex\Allure\Adapter\AllureAdapter</span></span>
    <span class="key">config</span>:
        <span class="error">Yandex\Allure\Adapter\AllureAdapter</span>:
            <span class="key">deletePreviousResults</span>: <span class="string"><span class="content">false</span></span>
            <span class="key">outputDirectory</span>: <span class="string"><span class="content">allure-results</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>deletePreviousResults</code> will clear all <code>.xml</code> files from output directory
(this behavior may change to complete cleanup later). It is set to <code>false</code> by default.</p>
</div>
<div class="paragraph">
<p><code>outputDirectory</code> is used to store Allure results and will be calculated relatively to
Codeception output directory (also known as <code>paths: log</code> in codeception.yml) unless you specify
an absolute path. You can traverse up using <code>..</code> as usual. <code>outputDirectory</code> defaults to <code>allure-results</code>.</p>
</div>
<div class="paragraph">
<p>To generate report from your favourite terminal, <a href="https://github.com/allure-framework/allure-cli#installation">install</a>
 allure-cli and run following command (assuming you&#8217;re in project root and using default configuration):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">allure generate --report-version 1.4.5 --report-path tests/_output/allure-report -- tests/_output/allure-results</code></pre>
</div>
</div>
<div class="paragraph">
<p>Report will be generated in <code>tests/_output/allure-report</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_main_features_2">3.18.4. Main features</h4>
<div class="paragraph">
<p>See respective <a href="https://github.com/allure-framework/allure-phpunit#advanced-features">PHPUnit</a> section.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_reporting">4. Reporting</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once the XML files have been created by the adapter, you can generate an Allure report using one of the following tools</p>
</div>
<div class="sect2">
<h3 id="_commandline">4.1. Commandline</h3>
<div class="paragraph">
<p>Using Allure command line tool you can generate the report from existing Allure results.</p>
</div>
<div class="sect3">
<h4 id="_installation_7">4.1.1. Installation</h4>
<div class="paragraph">
<p>Allure CLI is a Java application so it&#8217;s available for all platforms. You have to manually install Java 1.7+ before using Allure CLI</p>
</div>
<div class="sect4">
<h5 id="_mac_os">Mac OS</h5>
<div class="paragraph">
<p>You can install Allure CLI via <a href="http://brew.sh">Homebrew</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ brew tap qatools/formulas
$ brew install allure-commandline</code></pre>
</div>
</div>
<div class="paragraph">
<p>After installation you will have <strong>allure</strong> command available.
Read more about <a href="https://github.com/allure-framework/homebrew-allure">Allure Homebrew Formula</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_debian">Debian</h5>
<div class="paragraph">
<p>For Debian-based repositories we provide a PPA so the installation is straightforward:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ sudo apt-add-repository ppa:yandex-qatools/allure-framework
$ sudo apt-get update
$ sudo apt-get install allure-commandline</code></pre>
</div>
</div>
<div class="paragraph">
<p>Supported distributions are: <a href="http://releases.ubuntu.com/14.04">Trusty</a> and <a href="http://releases.ubuntu.com/12.04">Precise</a>.
After installation you will have allure command available.
Read more about <a href="https://github.com/allure-framework/allure-debian">Allure Debian Package</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_windows_and_other_unix">Windows and other Unix</h5>
<div class="ulist">
<ul>
<li>
<p>Download the latest version as zip archive from <a href="https://github.com/allure-framework/allure-core/releases/latest">GitHub</a>.</p>
</li>
<li>
<p>Unpack the archive to <strong>allure-commandline</strong> directory.</p>
</li>
<li>
<p>Navigate to <strong>bin</strong> directory.</p>
</li>
<li>
<p>Use <strong>allure.bat</strong> for Windows and <strong>allure</strong> for other Unix platforms.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_configuration_3">4.1.2. Configuration</h4>
<div class="paragraph">
<p>To configure the Allure report you should create <strong>allure.properties</strong> file</p>
</div>
<div class="listingblock">
<div class="title">allure.properties</div>
<div class="content">
<pre class="CodeRay highlight"><code>allure.issues.tracker.pattern=https://tms/testcase-%s
allure.tests.management.pattern=https://bugtracker/issue-%s</code></pre>
</div>
</div>
<div class="paragraph">
<p>and simply generate the report. By default command line tool looking for config in directory you run the command.
<strong>You can use ALLURE_CONFIG</strong> environment variable to specify the path to configuration.</p>
</div>
<div class="sect4">
<h5 id="_usage_6">Usage</h5>
<div class="paragraph">
<p>There is few commands available.</p>
</div>
<div class="sect5">
<h6 id="_generate_the_report">Generate the report</h6>
<div class="paragraph">
<p>To generate the report from existing Allure results you can use the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ allure generate directory-with-results/</code></pre>
</div>
</div>
<div class="paragraph">
<p>The report will be generated to <strong>allure-report</strong> folder. You can change the destination folder using <strong>-o</strong> flag:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ allure generate directory-with-results/ -o directory-with-report</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more information use the <strong>allure help generate</strong> command.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_open_the_report">Open the report</h5>
<div class="paragraph">
<p>When the report is generated you can open it in your default system browser. Simply run</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ allure report open</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_clean_the_report">Clean the report</h5>
<div class="paragraph">
<p>If you want to remove the generated report data use <strong>allure report clean</strong> command.</p>
</div>
<div class="paragraph">
<p>By default the report commands will looking for the report in <strong>allure-results</strong> folder.
If you are want to use the report from different location you can use <strong>-o</strong> option.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_jenkins">4.2. Jenkins</h3>
<div class="sect3">
<h4 id="_installation_8">4.2.1. Installation</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Install <a href="https://wiki.jenkins-ci.org/display/JENKINS/Allure+Plugin">Allure Plugin</a> from "Plugin Manager Page".</p>
</li>
<li>
<p>Open Plugin Advanced Settings <a href="http://&lt;jenkins_host&gt;/pluginManager/advanced" class="bare">http://&lt;jenkins_host&gt;/pluginManager/advanced</a>.</p>
</li>
<li>
<p>Click "Check Updates" button on the bottom right corner of the page.</p>
</li>
<li>
<p>Configure Allure Commandline from "Jenkins Configure Page".</p>
<div class="imageblock">
<div class="content">
<img src="images/jenkins_plugin_install.jpeg" alt="Jenkins Plugin Install">
</div>
</div>
</li>
</ol>
</div>
<div class="sect4">
<h5 id="_configure_jenkins_content_security">Configure Jenkins Content Security</h5>
<div class="paragraph">
<p>By default, Jenkins sets Content Security Policy for plugin pages. Allure requires less strict policy, you can set it via system property.</p>
</div>
<div class="paragraph">
<p>If you haven&#8217;t done it before, add the following to Jenkins system properties configuration (you need to set both Hudson and Jenkins properties to make it works):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">&quot;-Dhudson.model.DirectoryBrowserSupport.CSP=default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline';&quot;
&quot;-Djenkins.model.DirectoryBrowserSupport.CSP=default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline';&quot;</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can read more about it in the <a href="https://wiki.jenkins-ci.org/display/JENKINS/Configuring+Content+Security+Policy">Jenkins</a>
docs and find details in <a href="https://github.com/allure-framework/allure-core/issues/715">issue #715</a> in the Github repository of allure-core.</p>
</div>
</div>
<div class="sect4">
<h5 id="_build_agents_have_connection_to_maven_central">Build agents have connection to maven central</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open "Jenkins Configure Page".</p>
</li>
<li>
<p>Find "Allure Commandline" configuration block.</p>
<div class="imageblock">
<div class="content">
<img src="images/jenkins_plugin_find_cmd.jpeg" alt="Find Allure Commandline">
</div>
</div>
</li>
<li>
<p>Click "Allure Commandline Installations&#8230;&#8203;" button.</p>
<div class="imageblock">
<div class="content">
<img src="images/jenkins_plugin_install_cmd.jpeg" alt="Install Allure Commandline">
</div>
</div>
</li>
<li>
<p>Fill the name and choose the version of allure report.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_build_agents_have_not_connection_to_maven_central">Build agents have NOT connection to maven central</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download the latest version of allure-commandline.zip from github.</p>
</li>
<li>
<p>Upload downloaded file to any file server. Build agents must have access to the file by url. For example, <strong><a href="http://mycompany.com/allure-commandline.zip" class="bare">http://mycompany.com/allure-commandline.zip</a></strong></p>
</li>
<li>
<p>Open "Jenkins Configure Page". and find "Allure Commandline" configuration block.</p>
<div class="imageblock">
<div class="content">
<img src="images/jenkins_plugin_install_cmd.jpeg" alt="Install Allure Commandline">
</div>
</div>
</li>
<li>
<p>Click "Allure Commandline Installations&#8230;&#8203;" button.</p>
<div class="imageblock">
<div class="content">
<img src="images/jenkins_plugin_install_cmd.jpeg" alt="Install Allure Commandline">
</div>
</div>
</li>
<li>
<p>Click "Delete Installer" button.</p>
</li>
<li>
<p>Click "Add Installer" and choose "Extract <strong>.zip/</strong>.tar.gz".</p>
<div class="imageblock">
<div class="content">
<img src="images/jenkins_plugin_add_installer.jpeg" alt="Install Allure Commandline">
</div>
</div>
</li>
<li>
<p>Fill the name and download url.</p>
<div class="imageblock">
<div class="content">
<img src="images/jenkins_plugin_fill_name_and_url.jpeg" alt="Install Allure Commanline">
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_configuration_4">4.2.2. Configuration</h4>
<div class="sect4">
<h5 id="_job_configuration">Job configuration</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open job configuration page.</p>
</li>
<li>
<p>Ensure that your build generates <a href="https://github.com/allure-framework/allure-core/wiki#gathering-information-about-tests">Allure XML files</a>.</p>
</li>
<li>
<p>Add <strong>Allure Report</strong> post build action.</p>
<div class="imageblock">
<div class="content">
<img src="images/jenkins_plugin_add_allure_report.jpeg" alt="Install Allure Commanline">
</div>
</div>
</li>
<li>
<p>Configure the Allure Report.</p>
<div class="imageblock">
<div class="content">
<img src="images/jenkins_plugin_configure_allure_report.jpeg" alt="install allure commanline">
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_tms_integration">TMS integration</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open Job Configure Page.</p>
</li>
<li>
<p>Find Allure Report configuration section.</p>
</li>
<li>
<p>Setup <strong>allure.tests.management.pattern</strong> property:</p>
<div class="imageblock">
<div class="content">
<img src="images/jenkins_plugin_setup_tms.jpeg" alt="Install Allure Commanline">
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_issue_tracker_integration">Issue Tracker integration</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open Job Configure Page.</p>
</li>
<li>
<p>Find Allure Report configuration section.</p>
</li>
<li>
<p>Setup <strong>allure.issues.tracker.pattern</strong> property:</p>
<div class="imageblock">
<div class="content">
<img src="images/jenkins_plugin_setup_tracker.jpeg" alt="Install Allure Commanline">
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_advanced_options_2">Advanced Options</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open Job Configure Page.</p>
</li>
<li>
<p>Find Allure Report configuration section.</p>
</li>
<li>
<p>Click "Advanced&#8230;&#8203;" button if you need custom settings of commadline, jdk or build policy</p>
<div class="imageblock">
<div class="content">
<img src="images/jenkins_plugin_advanced_options.jpeg" alt="Install Allure Commanline">
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_usage_7">4.2.3. Usage</h4>
<div class="paragraph">
<p>When build is finished a link to Allure report will appear on the build page:
image::jenkins_plugin_allure_sidebar.png[Install Allure Commanline]
image::jenkins_plugin_allure_report.png[install allure commanline]</p>
</div>
</div>
<div class="sect3">
<h4 id="_extensions">4.2.4. Extensions</h4>
<div class="sect4">
<h5 id="_job_dsl_plugin">Job DSL Plugin</h5>
<div class="paragraph">
<p>The <a href="https://github.com/jenkinsci/job-dsl-plugin/wiki">job-dsl-plugin</a> allows the programmatic creation of projects using a DSL.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="comment">// default</span>
publishers {
    allure([<span class="string"><span class="delimiter">'</span><span class="content">allure-results</span><span class="delimiter">'</span></span>])
}

<span class="comment">// advanced</span>
publishers {
    allure([<span class="string"><span class="delimiter">'</span><span class="content">first-results</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">second-results</span><span class="delimiter">'</span></span>]) {
        jdk(<span class="string"><span class="delimiter">'</span><span class="content">java7</span><span class="delimiter">'</span></span>)
        commandline(<span class="string"><span class="delimiter">'</span><span class="content">1.4.18</span><span class="delimiter">'</span></span>)

        buildFor(<span class="string"><span class="delimiter">'</span><span class="content">UNSTABLE</span><span class="delimiter">'</span></span>)
        includeProperties(<span class="predefined-constant">true</span>)
        property(<span class="string"><span class="delimiter">'</span><span class="content">allure.issues.tracker.pattern</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">http://tracker.company.com/%s</span><span class="delimiter">'</span></span>)
        property(<span class="string"><span class="delimiter">'</span><span class="content">allure.tests.management.pattern</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">http://tms.company.com/%s</span><span class="delimiter">'</span></span>)
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_teamcity">4.3. TeamCity</h3>
<div class="sect3">
<h4 id="_installation_9">4.3.1. Installation</h4>
<div class="paragraph">
<p><a href="https://confluence.jetbrains.com/display/TCD9/Installing+Additional+Plugins">Install Allure TeamCity plugin</a>.
Copy the <strong>allure-commandline.zip</strong> from (<a href="https://github.com/allure-framework/allure-core/releases/latest">latest release</a>
to the &lt;<a href="https://confluence.jetbrains.com/display/TCD9/TeamCity+Data+Directory">TeamCity Data Directory</a>&gt;/plugins/.tools directory.
No server restart needed for this step.</p>
</div>
</div>
<div class="sect3">
<h4 id="_configuration_5">4.3.2. Configuration</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open the build <strong>configuration settings</strong>.</p>
</li>
<li>
<p>Ensure that your build <a href="https://github.com/allure-framework/allure-core/wiki#gathering-information-about-tests)">generates Allure XML files</a>.</p>
</li>
<li>
<p>Go to <strong>Build steps</strong> and add the <strong>Allure Report</strong> build step.</p>
<div class="imageblock">
<div class="content">
<img src="images/teamcity_plugin_add_build_step.png" alt="TeamCity Plugin Install">
</div>
</div>
</li>
<li>
<p>Configure the step.</p>
<div class="imageblock">
<div class="content">
<img src="images/teamcity_plugin_configure_build_step.png" alt="jenkins plugin install">
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>In case you upgrading the Allure TeamCity plugin you need to remove old Allure report generation feature.</p>
</div>
</div>
<div class="sect3">
<h4 id="_usage_8">4.3.3. Usage</h4>
<div class="paragraph">
<p>When the build is done you will get Allure Report as a part of build artifacts – simply open the index.html.
image::teamcity_plugin_usage.png[jenkins plugin install]</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_bamboo">4.4. Bamboo</h3>
<div class="sect3">
<h4 id="_installation_10">4.4.1. Installation</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Install <a href="https://confluence.atlassian.com/display/UPM/Installing+add-ons">Allure Plugin</a> from "Plugin Manager Page".</p>
</li>
<li>
<p>Download the latest version of allure-commandline.zip from github and extract to the desired directory.</p>
</li>
<li>
<p><a href="https://confluence.atlassian.com/bamboo/defining-a-new-executable-capability-289277164.html">Defining a new executable capability</a> with using the extraction directory.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_configuration_6">4.4.2. Configuration</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open the build <strong>configuration settings</strong>.</p>
</li>
<li>
<p>Ensure that your build <a href="https://github.com/allure-framework/allure-core/wiki#gathering-information-about-tests)">generates Allure XML files</a>.</p>
</li>
<li>
<p>Add Allure task to your job.</p>
<div class="imageblock">
<div class="content">
<img src="images/bamboo_add_task.png" alt="Add Task in Bamboo">
</div>
</div>
</li>
<li>
<p>Configure task - specify glob pattern to the folder where Allure should search for XML files.</p>
<div class="imageblock">
<div class="content">
<img src="images/bamboo_task_fields.png" alt="Task configuration">
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_usage_9">4.4.3. Usage</h4>
<div class="paragraph">
<p>When the build is done you will get Allure Report as a part of build artifacts.
Сlick on <strong>Allure report</strong> artifact on the <strong>Artifacts</strong> tab:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/bamboo_view_artifact.png" alt="Allure artifact">
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_gradle_2">4.5. Gradle</h3>
<div class="paragraph">
<p>Gradle Allure Plugin allows you to integrate <a href="http://allure.qatools.ru/">Allure</a> into spock, testng and junit tests.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/d10xa/gradle-allure-plugin-examples">Examples</a></p>
</div>
<div class="sect3">
<h4 id="_basic_usage">4.5.1. Basic usage</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">buildscript {
    repositories {
        jcenter()
    }
    dependencies {
        classpath <span class="string"><span class="delimiter">&quot;</span><span class="content">ru.d10xa:gradle-allure-plugin:0.5.5</span><span class="delimiter">&quot;</span></span>
    }
}

apply <span class="key">plugin</span>: <span class="string"><span class="delimiter">'</span><span class="content">ru.d10xa.allure</span><span class="delimiter">'</span></span>

allure {
    aspectjweaver = <span class="predefined-constant">true</span>

    <span class="comment">// Choose your test framework.</span>
    junit = <span class="predefined-constant">true</span>
    testNG = <span class="predefined-constant">false</span>
    spock = <span class="predefined-constant">false</span>

    <span class="comment">// Choose if you're using Geb for web tests</span>
    geb = <span class="predefined-constant">true</span>
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_full_configuration">4.5.2. Full configuration</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">allure {
    aspectjweaver = <span class="predefined-constant">true</span>

    junit = <span class="predefined-constant">true</span>
    testNG = <span class="predefined-constant">false</span>
    spock = <span class="predefined-constant">false</span>

    geb = <span class="predefined-constant">false</span>

    allureResultsDir = <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">$</span>buildDir</span><span class="content">/allure-results</span><span class="delimiter">&quot;</span></span>
    allureReportDir = <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">$</span>buildDir</span><span class="content">/allure-report</span><span class="delimiter">&quot;</span></span>

    allureVersion = <span class="string"><span class="delimiter">&quot;</span><span class="content">1.4.24.RC3</span><span class="delimiter">&quot;</span></span>
    aspectjVersion = <span class="string"><span class="delimiter">&quot;</span><span class="content">1.8.9</span><span class="delimiter">&quot;</span></span>
    allureSpockGebExtensionVersion = <span class="string"><span class="delimiter">&quot;</span><span class="content">0.2.1</span><span class="delimiter">&quot;</span></span>
    allureJunitAspectjAdaptorVersion = <span class="string"><span class="delimiter">&quot;</span><span class="content">0.1.1</span><span class="delimiter">&quot;</span></span>

    clean = <span class="predefined-constant">true</span>
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_configuration_7">4.5.3. Configuration</h4>
<div class="ulist">
<ul>
<li>
<p><code>aspectjweaver</code> (boolean) default false. Adds <code>-javaagent</code> to tests</p>
</li>
<li>
<p><code>junit</code> (boolean) default false. Enables allure for junit without @RunWith usage.
(Adds <a href="https://github.com/d10xa/allure-junit-aspectj-adaptor">allure-junit-aspectj-adaptor</a>) based on AspectJ. Require <code>aspectjweaver</code></p>
</li>
<li>
<p><code>testNG</code> (boolean) default false. Enables allure for testNG. Require <code>aspectjweaver</code></p>
</li>
<li>
<p><code>spock</code> (boolean) default false. Enables allure for spock.</p>
</li>
<li>
<p><code>geb</code> (boolean) default false. Adds <a href="https://github.com/d10xa/allure-spock-geb">allure-spock-geb</a> dependency for
screenshot and html attachments. Specifications must extend geb.spock.GebReportingSpec class</p>
</li>
<li>
<p><code>allureResultsDir</code> (string) default "$buildDir/allure-results". Test results will be placed to this directory.</p>
</li>
<li>
<p><code>allureReportDir</code> (string) default "$buildDir/allure-report". Html report will be generated to this directory
(if task&#8217;s property <code>to</code> not defined)</p>
</li>
<li>
<p><code>allureVersion</code> (string).  Version of allure-bundle and allure-adaptors</p>
</li>
<li>
<p><code>aspectjVersion</code> (string). Version of <code>org.aspectj:aspectjweaver</code></p>
</li>
<li>
<p><code>allureSpockGebExtensionVersion</code> (string). Version of <a href="https://github.com/d10xa/allure-spock-geb">allure-spock-geb</a></p>
</li>
<li>
<p><code>allureJunitAspectjAdaptorVersion</code> (string). Version of
<a href="https://github.com/d10xa/allure-junit-aspectj-adaptor">allure-junit-aspectj-adaptor</a></p>
</li>
<li>
<p><code>configuration</code> (string) default 'testCompile'. Apply adaptors to this configuration. For example, you can select
the configuration 'compile' and use the adaptor classes in your source code.</p>
</li>
<li>
<p><code>clean</code> (boolean) default true. Execute appropriate clean tasks before tests and report generation.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_tasks">4.5.4. Tasks</h4>
<div class="sect4">
<h5 id="__code_allurereport_code"><code>allureReport</code></h5>
<div class="paragraph">
<p>Creates html report for tests.</p>
</div>
<div class="paragraph">
<p>Add following snippet to build script if you want to create allure report after every test execution</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">tasks.withType(Test)*.finalizedBy allureReport</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you don&#8217;t need this task(for example in child modules) - just delete it</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">tasks.remove allureReport</code></pre>
</div>
</div>
<div class="paragraph">
<p>Customize task&#8217;s parameters</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">allureReport {
    from(
            <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>project(<span class="string"><span class="delimiter">'</span><span class="content">:moduleA</span><span class="delimiter">'</span></span>).buildDir<span class="inline-delimiter">}</span></span><span class="content">/allure-results</span><span class="delimiter">&quot;</span></span>,
            <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>project(<span class="string"><span class="delimiter">'</span><span class="content">:moduleB</span><span class="delimiter">'</span></span>).buildDir<span class="inline-delimiter">}</span></span><span class="content">/my-allure-results</span><span class="delimiter">&quot;</span></span>,
    )
    to <span class="string"><span class="delimiter">'</span><span class="content">$buildDir/nice-report</span><span class="delimiter">'</span></span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or create your own task</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">task customAllureReport(<span class="key">type</span>: ru.d10xa.allure.AllureReportTask){
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="__code_cleanallurereport_code"><code>cleanAllureReport</code></h5>
<div class="paragraph">
<p>Deletes directory declared in <code>allureReportDir</code> parameter</p>
</div>
</div>
<div class="sect4">
<h5 id="__code_cleantest_code_or_code_cleanyourowntest_code"><code>cleanTest</code> or <code>cleanYourOwnTest</code></h5>
<div class="paragraph">
<p>Deletes the test results and allure results created by <code>test</code> or <code>yourOwnTest</code> task</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_maven_4">4.6. Maven</h3>
<div class="sect3">
<h4 id="_installation_11">4.6.1. Installation</h4>
<div class="paragraph">
<p>Add allure-maven-plugin to your pom.xml file.</p>
</div>
<div class="listingblock">
<div class="title">pom.xml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;project&gt;</span>
    ...
    <span class="tag">&lt;reporting&gt;</span>
        <span class="tag">&lt;excludeDefaults&gt;</span>true<span class="tag">&lt;/excludeDefaults&gt;</span>
        <span class="tag">&lt;plugins&gt;</span>
            <span class="tag">&lt;plugin&gt;</span>
                <span class="tag">&lt;groupId&gt;</span>ru.yandex.qatools.allure<span class="tag">&lt;/groupId&gt;</span>
                <span class="tag">&lt;artifactId&gt;</span>allure-maven-plugin<span class="tag">&lt;/artifactId&gt;</span>
            <span class="tag">&lt;/plugin&gt;</span>
        <span class="tag">&lt;/plugins&gt;</span>
    <span class="tag">&lt;/reporting&gt;</span>
    ...
<span class="tag">&lt;/project&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_configuration_8">4.6.2. Configuration</h4>
<div class="sect4">
<h5 id="_properties_handling">Properties handling</h5>
<div class="paragraph">
<p>Since 2.5 there is ability to configure report generation. There is few ways to do it:</p>
</div>
<div class="sect5">
<h6 id="_directly_from_source_code">Directly from source code</h6>
<div class="paragraph">
<p>Put <strong>allure.properties</strong> (<strong>report.properties</strong> for Allure 1.5 or above) to classpath.
Both compile <strong>class</strong> path and <strong>test class</strong> path are supported.</p>
</div>
</div>
<div class="sect5">
<h6 id="_or_specify_the_strong_properties_strong_in_configuration">Or specify the <strong>properties</strong> in configuration</h6>
<div class="listingblock">
<div class="title">pom.xml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;configuration&gt;</span>
   <span class="tag">&lt;properties&gt;</span>
       <span class="tag">&lt;allure.issues.tracker.pattern&gt;</span>http://example.com/%s<span class="tag">&lt;/allure.issues.tracker.pattern&gt;</span>
   <span class="tag">&lt;/properties&gt;</span>
<span class="tag">&lt;/configuration&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_or_specify_the_strong_propertiesfilepath_strong">Or specify the <strong>propertiesFilePath</strong></h6>
<div class="listingblock">
<div class="title">pom.xml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;configuration&gt;</span>
   <span class="tag">&lt;propertiesFilePath&gt;</span>path/to/your/allure.properties<span class="tag">&lt;/propertiesFilePath&gt;</span>
<span class="tag">&lt;/configuration&gt;</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_results_directory">Results Directory</h5>
<div class="paragraph">
<p>The path to Allure results directory. In general it is the directory created by allure adaptor and contains allure
xml files and attachments. This path can be relative from build directory (for maven it is the target directory)
or absolute (absolute only for report mojo). Will be ignored for bulk mojo.</p>
</div>
<div class="paragraph">
<p>Default value is <strong>"allure-results"</strong>.</p>
</div>
<div class="paragraph">
<p>System property <strong>allure.results.directory</strong>.</p>
</div>
<div class="listingblock">
<div class="title">pom.xml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;plugin&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>ru.yandex.qatools.allure<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>allure-maven-plugin<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;configuration&gt;</span>
        <span class="tag">&lt;reportDirectory&gt;</span>allure-report<span class="tag">&lt;/reportDirectory&gt;</span>
    <span class="tag">&lt;/configuration&gt;</span>
<span class="tag">&lt;/plugin&gt;</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_usage_10">4.6.3. Usage</h4>
<div class="paragraph">
<p>The Allure Maven Plugin has three goals:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>allure:report</strong></p>
</li>
<li>
<p><strong>allure:aggregate</strong></p>
</li>
<li>
<p><strong>allure:bulk</strong></p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="_generate_the_allure_report_as_part_of_project_reports">Generate the Allure report as Part of Project Reports</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ mvn site</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_generate_the_allure_report_in_a_standalone_fashion">Generate the Allure Report in a Standalone Fashion</h5>
<div class="paragraph">
<p>The plugin can also generate the report using its standalone goal:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ mvn allure:report</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-05-08 16:25:51 +00:00
</div>
</div>
<!-- Yandex.Metrika counter -->
<script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter40262569 = new Ya.Metrika({ id:40262569, clickmap:true, trackLinks:true, accurateTrackBounce:true, webvisor:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks"); </script> <noscript><div><img src="https://mc.yandex.ru/watch/40262569" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
<!-- Google.Analytics counter -->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-88115679-2', 'auto');
    ga('send', 'pageview');

</script>
<!-- /Google.Analytics counter -->
</body>
</html>